(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function dE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ed={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function cA(){if(b_)return pl;b_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=n,pl.jsxs=n,pl}var w_;function hA(){return w_||(w_=1,Ed.exports=cA()),Ed.exports}var $=hA(),Td={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function fA(){if(R_)return bt;R_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,J={};function W(D,Z,rt){this.props=D,this.context=Z,this.refs=J,this.updater=rt||j}W.prototype.isReactComponent={},W.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},W.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function lt(){}lt.prototype=W.prototype;function ct(D,Z,rt){this.props=D,this.context=Z,this.refs=J,this.updater=rt||j}var ht=ct.prototype=new lt;ht.constructor=ct,X(ht,W.prototype),ht.isPureReactComponent=!0;var Gt=Array.isArray,At={H:null,A:null,T:null,S:null,V:null},jt=Object.prototype.hasOwnProperty;function M(D,Z,rt,et,mt,Rt){return rt=Rt.ref,{$$typeof:s,type:D,key:Z,ref:rt!==void 0?rt:null,props:Rt}}function A(D,Z){return M(D.type,Z,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function O(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(rt){return Z[rt]})}var V=/\/+/g;function k(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):Z.toString(36)}function R(){}function Le(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(Z){D.status==="pending"&&(D.status="fulfilled",D.value=Z)},function(Z){D.status==="pending"&&(D.status="rejected",D.reason=Z)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function oe(D,Z,rt,et,mt){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(Rt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case s:case t:Et=!0;break;case T:return Et=D._init,oe(Et(D._payload),Z,rt,et,mt)}}if(Et)return mt=mt(D),Et=et===""?"."+k(D,0):et,Gt(mt)?(rt="",Et!=null&&(rt=Et.replace(V,"$&/")+"/"),oe(mt,Z,rt,"",function(Fn){return Fn})):mt!=null&&(I(mt)&&(mt=A(mt,rt+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+Et)),Z.push(mt)),1;Et=0;var Ne=et===""?".":et+":";if(Gt(D))for(var Jt=0;Jt<D.length;Jt++)et=D[Jt],Rt=Ne+k(et,Jt),Et+=oe(et,Z,rt,Rt,mt);else if(Jt=C(D),typeof Jt=="function")for(D=Jt.call(D),Jt=0;!(et=D.next()).done;)et=et.value,Rt=Ne+k(et,Jt++),Et+=oe(et,Z,rt,Rt,mt);else if(Rt==="object"){if(typeof D.then=="function")return oe(Le(D),Z,rt,et,mt);throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Et}function H(D,Z,rt){if(D==null)return D;var et=[],mt=0;return oe(D,et,"","",function(Rt){return Z.call(rt,Rt,mt++)}),et}function it(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function(rt){(D._status===0||D._status===-1)&&(D._status=1,D._result=rt)},function(rt){(D._status===0||D._status===-1)&&(D._status=2,D._result=rt)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var ft=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return bt.Children={map:H,forEach:function(D,Z,rt){H(D,function(){Z.apply(this,arguments)},rt)},count:function(D){var Z=0;return H(D,function(){Z++}),Z},toArray:function(D){return H(D,function(Z){return Z})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},bt.Component=W,bt.Fragment=n,bt.Profiler=l,bt.PureComponent=ct,bt.StrictMode=r,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=At,bt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return At.H.useMemoCache(D)}},bt.cache=function(D){return function(){return D.apply(null,arguments)}},bt.cloneElement=function(D,Z,rt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var et=X({},D.props),mt=D.key,Rt=void 0;if(Z!=null)for(Et in Z.ref!==void 0&&(Rt=void 0),Z.key!==void 0&&(mt=""+Z.key),Z)!jt.call(Z,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&Z.ref===void 0||(et[Et]=Z[Et]);var Et=arguments.length-2;if(Et===1)et.children=rt;else if(1<Et){for(var Ne=Array(Et),Jt=0;Jt<Et;Jt++)Ne[Jt]=arguments[Jt+2];et.children=Ne}return M(D.type,mt,void 0,void 0,Rt,et)},bt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},bt.createElement=function(D,Z,rt){var et,mt={},Rt=null;if(Z!=null)for(et in Z.key!==void 0&&(Rt=""+Z.key),Z)jt.call(Z,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(mt[et]=Z[et]);var Et=arguments.length-2;if(Et===1)mt.children=rt;else if(1<Et){for(var Ne=Array(Et),Jt=0;Jt<Et;Jt++)Ne[Jt]=arguments[Jt+2];mt.children=Ne}if(D&&D.defaultProps)for(et in Et=D.defaultProps,Et)mt[et]===void 0&&(mt[et]=Et[et]);return M(D,Rt,void 0,void 0,null,mt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(D){return{$$typeof:g,render:D}},bt.isValidElement=I,bt.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:it}},bt.memo=function(D,Z){return{$$typeof:_,type:D,compare:Z===void 0?null:Z}},bt.startTransition=function(D){var Z=At.T,rt={};At.T=rt;try{var et=D(),mt=At.S;mt!==null&&mt(rt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(zt,ft)}catch(Rt){ft(Rt)}finally{At.T=Z}},bt.unstable_useCacheRefresh=function(){return At.H.useCacheRefresh()},bt.use=function(D){return At.H.use(D)},bt.useActionState=function(D,Z,rt){return At.H.useActionState(D,Z,rt)},bt.useCallback=function(D,Z){return At.H.useCallback(D,Z)},bt.useContext=function(D){return At.H.useContext(D)},bt.useDebugValue=function(){},bt.useDeferredValue=function(D,Z){return At.H.useDeferredValue(D,Z)},bt.useEffect=function(D,Z,rt){var et=At.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(D,Z)},bt.useId=function(){return At.H.useId()},bt.useImperativeHandle=function(D,Z,rt){return At.H.useImperativeHandle(D,Z,rt)},bt.useInsertionEffect=function(D,Z){return At.H.useInsertionEffect(D,Z)},bt.useLayoutEffect=function(D,Z){return At.H.useLayoutEffect(D,Z)},bt.useMemo=function(D,Z){return At.H.useMemo(D,Z)},bt.useOptimistic=function(D,Z){return At.H.useOptimistic(D,Z)},bt.useReducer=function(D,Z,rt){return At.H.useReducer(D,Z,rt)},bt.useRef=function(D){return At.H.useRef(D)},bt.useState=function(D){return At.H.useState(D)},bt.useSyncExternalStore=function(D,Z,rt){return At.H.useSyncExternalStore(D,Z,rt)},bt.useTransition=function(){return At.H.useTransition()},bt.version="19.1.1",bt}var I_;function dm(){return I_||(I_=1,Td.exports=fA()),Td.exports}var Ct=dm();const _l=dE(Ct);var Sd={exports:{}},yl={},Ad={exports:{}},bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function dA(){return C_||(C_=1,function(s){function t(H,it){var ft=H.length;H.push(it);t:for(;0<ft;){var zt=ft-1>>>1,D=H[zt];if(0<l(D,it))H[zt]=it,H[ft]=D,ft=zt;else break t}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var it=H[0],ft=H.pop();if(ft!==it){H[0]=ft;t:for(var zt=0,D=H.length,Z=D>>>1;zt<Z;){var rt=2*(zt+1)-1,et=H[rt],mt=rt+1,Rt=H[mt];if(0>l(et,ft))mt<D&&0>l(Rt,et)?(H[zt]=Rt,H[mt]=ft,zt=mt):(H[zt]=et,H[rt]=ft,zt=rt);else if(mt<D&&0>l(Rt,ft))H[zt]=Rt,H[mt]=ft,zt=mt;else break t}}return it}function l(H,it){var ft=H.sortIndex-it.sortIndex;return ft!==0?ft:H.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,w=null,C=3,j=!1,X=!1,J=!1,W=!1,lt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Gt(H){for(var it=n(_);it!==null;){if(it.callback===null)r(_);else if(it.startTime<=H)r(_),it.sortIndex=it.expirationTime,t(p,it);else break;it=n(_)}}function At(H){if(J=!1,Gt(H),!X)if(n(p)!==null)X=!0,jt||(jt=!0,k());else{var it=n(_);it!==null&&oe(At,it.startTime-H)}}var jt=!1,M=-1,A=5,I=-1;function O(){return W?!0:!(s.unstable_now()-I<A)}function V(){if(W=!1,jt){var H=s.unstable_now();I=H;var it=!0;try{t:{X=!1,J&&(J=!1,ct(M),M=-1),j=!0;var ft=C;try{e:{for(Gt(H),w=n(p);w!==null&&!(w.expirationTime>H&&O());){var zt=w.callback;if(typeof zt=="function"){w.callback=null,C=w.priorityLevel;var D=zt(w.expirationTime<=H);if(H=s.unstable_now(),typeof D=="function"){w.callback=D,Gt(H),it=!0;break e}w===n(p)&&r(p),Gt(H)}else r(p);w=n(p)}if(w!==null)it=!0;else{var Z=n(_);Z!==null&&oe(At,Z.startTime-H),it=!1}}break t}finally{w=null,C=ft,j=!1}it=void 0}}finally{it?k():jt=!1}}}var k;if(typeof ht=="function")k=function(){ht(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Le=R.port2;R.port1.onmessage=V,k=function(){Le.postMessage(null)}}else k=function(){lt(V,0)};function oe(H,it){M=lt(function(){H(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(H){switch(C){case 1:case 2:case 3:var it=3;break;default:it=C}var ft=C;C=it;try{return H()}finally{C=ft}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(H,it){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ft=C;C=H;try{return it()}finally{C=ft}},s.unstable_scheduleCallback=function(H,it,ft){var zt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ft+D,H={id:T++,callback:it,priorityLevel:H,startTime:ft,expirationTime:D,sortIndex:-1},ft>zt?(H.sortIndex=ft,t(_,H),n(p)===null&&H===n(_)&&(J?(ct(M),M=-1):J=!0,oe(At,ft-zt))):(H.sortIndex=D,t(p,H),X||j||(X=!0,jt||(jt=!0,k()))),H},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(H){var it=C;return function(){var ft=C;C=it;try{return H.apply(this,arguments)}finally{C=ft}}}}(bd)),bd}var D_;function mA(){return D_||(D_=1,Ad.exports=dA()),Ad.exports}var wd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function gA(){if(N_)return Ke;N_=1;var s=dm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:p,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,T)},Ke.flushSync=function(p){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=_,r.p=T,r.d.f()}},Ke.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},Ke.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Ke.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:j}):T==="script"&&r.d.X(p,{crossOrigin:w,integrity:C,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},Ke.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin);r.d.L(p,T,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},Ke.requestFormReset=function(p){r.d.r(p)},Ke.unstable_batchedUpdates=function(p,_){return p(_)},Ke.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.1.1",Ke}var O_;function pA(){if(O_)return wd.exports;O_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),wd.exports=gA(),wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function yA(){if(V_)return yl;V_=1;var s=mA(),t=dm(),n=pA();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),lt=Symbol.for("react.provider"),ct=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Gt=Symbol.for("react.forward_ref"),At=Symbol.for("react.suspense"),jt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case W:return"Profiler";case J:return"StrictMode";case At:return"Suspense";case jt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case ht:return(e.displayName||"Context")+".Provider";case ct:return(e._context.displayName||"Context")+".Consumer";case Gt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:Le(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return Le(e(i))}catch{}}return null}var oe=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function Z(e){return{current:e}}function rt(e){0>D||(e.current=zt[D],zt[D]=null,D--)}function et(e,i){D++,zt[D]=e.current,e.current=i}var mt=Z(null),Rt=Z(null),Et=Z(null),Ne=Z(null);function Jt(e,i){switch(et(Et,i),et(Rt,e),et(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Wy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Wy(i),e=Jy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(mt),et(mt,e)}function Fn(){rt(mt),rt(Rt),rt(Et)}function Ji(e){e.memoizedState!==null&&et(Ne,e);var i=mt.current,a=Jy(i,e.type);i!==a&&(et(Rt,e),et(mt,a))}function yi(e){Rt.current===e&&(rt(mt),rt(Rt)),Ne.current===e&&(rt(Ne),hl._currentValue=ft)}var Fr=Object.prototype.hasOwnProperty,Qr=s.unstable_scheduleCallback,Yr=s.unstable_cancelCallback,oo=s.unstable_shouldYield,Kl=s.unstable_requestPaint,_n=s.unstable_now,vh=s.unstable_getCurrentPriorityLevel,lo=s.unstable_ImmediatePriority,Fs=s.unstable_UserBlockingPriority,Kr=s.unstable_NormalPriority,Eh=s.unstable_LowPriority,Qs=s.unstable_IdlePriority,uo=s.log,Xl=s.unstable_setDisableYieldValue,le=null,Ft=null;function un(e){if(typeof uo=="function"&&Xl(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(le,e)}catch{}}var Qe=Math.clz32?Math.clz32:Xr,$l=Math.log,Th=Math.LN2;function Xr(e){return e>>>=0,e===0?32:31-($l(e)/Th|0)|0}var $r=256,Zr=4194304;function xn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ys(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=xn(o):(v&=E,v!==0?h=xn(v):a||(a=E&~e,a!==0&&(h=xn(a))))):(E=o&~f,E!==0?h=xn(E):v!==0?h=xn(v):a||(a=o&~e,a!==0&&(h=xn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Wr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function co(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var e=$r;return $r<<=1,($r&4194048)===0&&($r=256),e}function fo(){var e=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),e}function _i(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function vi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mo(e,i,a,o,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,U=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Qe(a),Y=1<<G;E[G]=0,b[G]=-1;var z=U[G];if(z!==null)for(U[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~Y}o!==0&&Qn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function Qn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Qe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function go(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Qe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function tr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ks(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function er(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:__(e.type))}function Zl(e,i){var a=it.p;try{return it.p=e,i()}finally{it.p=a}}var ie=Math.random().toString(36).slice(2),be="__reactFiber$"+ie,pe="__reactProps$"+ie,vn="__reactContainer$"+ie,po="__reactEvents$"+ie,Sh="__reactListeners$"+ie,nr="__reactHandles$"+ie,Wl="__reactResources$"+ie,Jr="__reactMarker$"+ie;function ir(e){delete e[be],delete e[pe],delete e[po],delete e[Sh],delete e[nr]}function Ei(e){var i=e[be];if(i)return i;for(var a=e.parentNode;a;){if(i=a[vn]||a[be]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=i_(e);e!==null;){if(a=e[be])return a;e=i_(e)}return i}e=a,a=e.parentNode}return null}function Yn(e){if(e=e[be]||e[vn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Kn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function tn(e){var i=e[Wl];return i||(i=e[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fe(e){e[Jr]=!0}var yo=new Set,Xs={};function kn(e,i){Ti(e,i),Ti(e+"Capture",i)}function Ti(e,i){for(Xs[e]=i,e=0;e<i.length;e++)yo.add(i[e])}var Jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tu={},ts={};function eu(e){return Fr.call(ts,e)?!0:Fr.call(tu,e)?!1:Jl.test(e)?ts[e]=!0:(tu[e]=!0,!1)}function rr(e,i,a){if(eu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Xn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ue(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var es,nu;function Si(e){if(es===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);es=i&&i[1]||"",nu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+es+e+nu}var $s=!1;function Zs(e,i){if(!e||$s)return"";$s=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var z=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){z=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){z=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),U=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===U.length)for(o=b.length-1,h=U.length-1;1<=o&&0<=h&&b[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==U[h]){var G=`
`+b[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{$s=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Si(a):""}function _o(e){switch(e.tag){case 26:case 27:case 5:return Si(e.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return Zs(e.type,!1);case 11:return Zs(e.type.render,!1);case 1:return Zs(e.type,!0);case 31:return Si("Activity");default:return""}}function Ws(e){try{var i="";do i+=_o(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ah(e){var i=vo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Js(e){e._valueTracker||(e._valueTracker=Ah(e))}function Eo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=vo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bh=/[\n"\\]/g;function ye(e){return e.replace(bh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(e,i,a,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+en(i)):e.value!==""+en(i)&&(e.value=""+en(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?sr(e,v,en(i)):a!=null?sr(e,v,en(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+en(E):e.removeAttribute("name")}function is(e,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function sr(e,i,a){i==="number"&&ns(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ai(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+en(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+en(a):""}function rs(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(oe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=en(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function En(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iu(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||ss.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function To(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&iu(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&iu(e,f,i[f])}function So(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return Rh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var bi=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wi=null,Ri=null;function Ao(e){var i=Yn(e);if(i&&(e=i.stateNode)){var a=e[pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(cn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ye(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[pe]||null;if(!h)throw Error(r(90));cn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&Eo(o)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ai(e,!!a.multiple,i,!1)}}}var $n=!1;function ru(e,i,a){if($n)return e(i,a);$n=!0;try{var o=e(i);return o}finally{if($n=!1,(wi!==null||Ri!==null)&&(Zu(),wi&&(i=wi,e=Ri,Ri=wi=null,Ao(i),e)))for(i=0;i<e.length;i++)Ao(e[i])}}function as(e,i){var a=e.stateNode;if(a===null)return null;var o=a[pe]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(Pn)try{var os={};Object.defineProperty(os,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Sn=!1}var Zn=null,ar=null,Ii=null;function bo(){if(Ii)return Ii;var e,i=ar,a=i.length,o,h="value"in Zn?Zn.value:Zn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return Ii=h.slice(e,1<o?1-o:void 0)}function Wn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function wo(){return!1}function Oe(e){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Jn:wo,this.isPropagationStopped=wo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Oe(qt),ls=T({},qt,{view:0,detail:0}),su=Oe(ls),na,ia,ti,us=T({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(na=e.screenX-ti.screenX,ia=e.screenY-ti.screenY):ia=na=0,ti=e),na)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),An=Oe(us),au=T({},us,{dataTransfer:0}),Ih=Oe(au),cs=T({},ls,{relatedTarget:0}),ra=Oe(cs),Ro=T({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),sa=Oe(Ro),ou=T({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aa=Oe(ou),Ch=T({},qt,{data:0}),Io=Oe(Ch),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=uu[e])?!!i[e]:!1}function fs(){return Co}var cu=T({},ls,{key:function(e){if(e.key){var i=hs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Wn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?Wn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oa=Oe(cu),hu=T({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Do=Oe(hu),Ci=T({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),fu=Oe(Ci),du=T({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),mu=Oe(du),gu=T({},us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),la=Oe(gu),nn=T({},qt,{newState:0,oldState:0}),pu=Oe(nn),yu=[9,13,27,32],ei=Pn&&"CompositionEvent"in window,u=null;Pn&&"documentMode"in document&&(u=document.documentMode);var m=Pn&&"TextEvent"in window&&!u,y=Pn&&(!ei||u&&8<u&&11>=u),S=" ",P=!1;function q(e,i){switch(e){case"keyup":return yu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function we(e,i){switch(e){case"compositionend":return nt(i);case"keypress":return i.which!==32?null:(P=!0,S);case"textInput":return e=i.data,e===S&&P?null:e;default:return null}}function kt(e,i){if(xt)return e==="compositionend"||!ei&&q(e,i)?(e=bo(),Ii=ar=Zn=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Re(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ve[e.type]:i==="textarea"}function Di(e,i,a,o){wi?Ri?Ri.push(o):Ri=[o]:wi=o,i=ic(i,"onChange"),0<i.length&&(a=new ea("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var ze=null,ni=null;function No(e){Yy(e,0)}function _u(e){var i=Kn(e);if(Eo(i))return e}function mg(e,i){if(e==="change")return i}var gg=!1;if(Pn){var Dh;if(Pn){var Nh="oninput"in document;if(!Nh){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Nh=typeof pg.oninput=="function"}Dh=Nh}else Dh=!1;gg=Dh&&(!document.documentMode||9<document.documentMode)}function yg(){ze&&(ze.detachEvent("onpropertychange",_g),ni=ze=null)}function _g(e){if(e.propertyName==="value"&&_u(ni)){var i=[];Di(i,ni,e,Tn(e)),ru(No,i)}}function B0(e,i,a){e==="focusin"?(yg(),ze=i,ni=a,ze.attachEvent("onpropertychange",_g)):e==="focusout"&&yg()}function j0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(ni)}function q0(e,i){if(e==="click")return _u(i)}function H0(e,i){if(e==="input"||e==="change")return _u(i)}function G0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:G0;function Oo(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Fr.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eg(e,i){var a=vg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=vg(a)}}function Tg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Tg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ns(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ns(e.document)}return i}function Oh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var F0=Pn&&"documentMode"in document&&11>=document.documentMode,ua=null,Vh=null,Vo=null,Mh=!1;function Ag(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mh||ua==null||ua!==ns(o)||(o=ua,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Oo(Vo,o)||(Vo=o,o=ic(Vh,"onSelect"),0<o.length&&(i=new ea("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ua)))}function ds(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ca={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},xh={},bg={};Pn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function ms(e){if(xh[e])return xh[e];if(!ca[e])return e;var i=ca[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in bg)return xh[e]=i[a];return e}var wg=ms("animationend"),Rg=ms("animationiteration"),Ig=ms("animationstart"),Q0=ms("transitionrun"),Y0=ms("transitionstart"),K0=ms("transitioncancel"),Cg=ms("transitionend"),Dg=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function Ln(e,i){Dg.set(e,i),kn(i,[e])}var Ng=new WeakMap;function bn(e,i){if(typeof e=="object"&&e!==null){var a=Ng.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ws(i)},Ng.set(e,i),i)}return{value:e,source:i,stack:Ws(i)}}var wn=[],ha=0,Ph=0;function vu(){for(var e=ha,i=Ph=ha=0;i<e;){var a=wn[i];wn[i++]=null;var o=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var f=wn[i];if(wn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&Og(a,h,f)}}function Eu(e,i,a,o){wn[ha++]=e,wn[ha++]=i,wn[ha++]=a,wn[ha++]=o,Ph|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Lh(e,i,a,o){return Eu(e,i,a,o),Tu(e)}function fa(e,i){return Eu(e,null,null,i),Tu(e)}function Og(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-Qe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Tu(e){if(50<il)throw il=0,Gf=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var da={};function X0(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,i,a,o){return new X0(e,i,a,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ni(e,i){var a=e.alternate;return a===null?(a=fn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Vg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Su(e,i,a,o,h,f){var v=0;if(o=e,typeof e=="function")Uh(e)&&(v=1);else if(typeof e=="string")v=ZS(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=fn(31,a,i,h),e.elementType=I,e.lanes=f,e;case X:return gs(a.children,h,f,i);case J:v=8,h|=24;break;case W:return e=fn(12,a,i,h|2),e.elementType=W,e.lanes=f,e;case At:return e=fn(13,a,i,h),e.elementType=At,e.lanes=f,e;case jt:return e=fn(19,a,i,h),e.elementType=jt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:case ht:v=10;break t;case ct:v=9;break t;case Gt:v=11;break t;case M:v=14;break t;case A:v=16,o=null;break t}v=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=fn(v,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function gs(e,i,a,o){return e=fn(7,e,o,i),e.lanes=a,e}function zh(e,i,a){return e=fn(6,e,null,i),e.lanes=a,e}function Bh(e,i,a){return i=fn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ma=[],ga=0,Au=null,bu=0,Rn=[],In=0,ps=null,Oi=1,Vi="";function ys(e,i){ma[ga++]=bu,ma[ga++]=Au,Au=e,bu=i}function Mg(e,i,a){Rn[In++]=Oi,Rn[In++]=Vi,Rn[In++]=ps,ps=e;var o=Oi;e=Vi;var h=32-Qe(o)-1;o&=~(1<<h),a+=1;var f=32-Qe(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Oi=1<<32-Qe(i)+h|a<<h|o,Vi=f+e}else Oi=1<<f|a<<h|o,Vi=e}function jh(e){e.return!==null&&(ys(e,1),Mg(e,1,0))}function qh(e){for(;e===Au;)Au=ma[--ga],ma[ga]=null,bu=ma[--ga],ma[ga]=null;for(;e===ps;)ps=Rn[--In],Rn[In]=null,Vi=Rn[--In],Rn[In]=null,Oi=Rn[--In],Rn[In]=null}var rn=null,ue=null,Bt=!1,_s=null,ii=!1,Hh=Error(r(519));function vs(e){var i=Error(r(418,""));throw ko(bn(i,e)),Hh}function xg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[be]=e,i[pe]=o,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<sl.length;a++)Nt(sl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),is(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Js(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),rs(i,o.value,o.defaultValue,o.children),Js(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Zy(i.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),o.onScroll!=null&&Nt("scroll",i),o.onScrollEnd!=null&&Nt("scrollend",i),o.onClick!=null&&(i.onclick=rc),i=!0):i=!1,i||vs(e)}function kg(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:rn=rn.return}}function Mo(e){if(e!==rn)return!1;if(!Bt)return kg(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ad(e.type,e.memoizedProps)),a=!a),a&&ue&&vs(e),kg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ue=zn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ue=null}}else i===27?(i=ue,Sr(e.type)?(e=cd,cd=null,ue=e):ue=i):ue=rn?zn(e.stateNode.nextSibling):null;return!0}function xo(){ue=rn=null,Bt=!1}function Pg(){var e=_s;return e!==null&&(on===null?on=e:on.push.apply(on,e),_s=null),e}function ko(e){_s===null?_s=[e]:_s.push(e)}var Gh=Z(null),Es=null,Mi=null;function or(e,i,a){et(Gh,i._currentValue),i._currentValue=a}function xi(e){e._currentValue=Gh.current,rt(Gh)}function Fh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Qh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Fh(f.return,a,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Fh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Po(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ne.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Qh(i,e,a,o),i.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ts(e){Es=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Lg(Es,e)}function Ru(e,i){return Es===null&&Ts(e),Lg(e,i)}function Lg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(e===null)throw Error(r(308));Mi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Mi=Mi.next=i;return a}var $0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Z0=s.unstable_scheduleCallback,W0=s.unstable_NormalPriority,Ie={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new $0,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&Z0(W0,function(){e.controller.abort()})}var Uo=null,Kh=0,pa=0,ya=null;function J0(e,i){if(Uo===null){var a=Uo=[];Kh=0,pa=Zf(),ya={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Kh++,i.then(Ug,Ug),i}function Ug(){if(--Kh===0&&Uo!==null){ya!==null&&(ya.status="fulfilled");var e=Uo;Uo=null,pa=0,ya=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function tS(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var zg=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&J0(e,i),zg!==null&&zg(e,i)};var Ss=Z(null);function Xh(){var e=Ss.current;return e!==null?e:te.pooledCache}function Iu(e,i){i===null?et(Ss,Ss.current):et(Ss,i.pool)}function Bg(){var e=Xh();return e===null?null:{parent:Ie._currentValue,pool:e}}var zo=Error(r(460)),jg=Error(r(474)),Cu=Error(r(542)),$h={then:function(){}};function qg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Du(){}function Hg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Du,Du),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Fg(e),e;default:if(typeof i.status=="string")i.then(Du,Du);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Fg(e),e}throw Bo=i,zo}}var Bo=null;function Gg(){if(Bo===null)throw Error(r(459));var e=Bo;return Bo=null,e}function Fg(e){if(e===zo||e===Cu)throw Error(r(483))}var lr=!1;function Zh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ur(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function cr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Tu(e),Og(e,null,a),i}return Eu(e,o,i,a),Tu(e)}function jo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,go(e,a)}}function Jh(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var tf=!1;function qo(){if(tf){var e=ya;if(e!==null)throw e}}function Ho(e,i,a,o){tf=!1;var h=e.updateQueue;lr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,U=b.next;b.next=null,v===null?f=U:v.next=U,v=b;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=U:E.next=U,G.lastBaseUpdate=b))}if(f!==null){var Y=h.baseState;v=0,G=U=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Pt&z)===z:(o&z)===z){z!==0&&z===pa&&(tf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=e,gt=E;z=i;var Zt=a;switch(gt.tag){case 1:if(_t=gt.payload,typeof _t=="function"){Y=_t.call(Zt,Y,z);break t}Y=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=gt.payload,z=typeof _t=="function"?_t.call(Zt,Y,z):_t,z==null)break t;Y=T({},Y,z);break t;case 2:lr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(U=G=B,b=Y):G=G.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(b=Y),h.baseState=b,h.firstBaseUpdate=U,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),_r|=v,e.lanes=v,e.memoizedState=Y}}function Qg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Yg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Qg(a[e],i)}var _a=Z(null),Nu=Z(0);function Kg(e,i){e=ji,et(Nu,e),et(_a,i),ji=e|i.baseLanes}function ef(){et(Nu,ji),et(_a,_a.current)}function nf(){ji=Nu.current,rt(_a),rt(Nu)}var hr=0,wt=null,Xt=null,_e=null,Ou=!1,va=!1,As=!1,Vu=0,Go=0,Ea=null,eS=0;function de(){throw Error(r(321))}function rf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function sf(e,i,a,o,h,f){return hr=f,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?Op:Vp,As=!1,f=a(o,h),As=!1,va&&(f=$g(i,a,o,h)),Xg(e),f}function Xg(e){H.H=Uu;var i=Xt!==null&&Xt.next!==null;if(hr=0,_e=Xt=wt=null,Ou=!1,Go=0,Ea=null,i)throw Error(r(300));e===null||Me||(e=e.dependencies,e!==null&&wu(e)&&(Me=!0))}function $g(e,i,a,o){wt=e;var h=0;do{if(va&&(Ea=null),Go=0,va=!1,25<=h)throw Error(r(301));if(h+=1,_e=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=lS,f=i(a,o)}while(va);return f}function nS(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Fo(i):i,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(wt.flags|=1024),i}function af(){var e=Vu!==0;return Vu=0,e}function of(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function lf(e){if(Ou){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ou=!1}hr=0,_e=Xt=wt=null,va=!1,Go=Vu=0,Ea=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?wt.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if(Xt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var i=_e===null?wt.memoizedState:_e.next;if(i!==null)_e=i,Xt=e;else{if(e===null)throw wt.alternate===null?Error(r(467)):Error(r(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},_e===null?wt.memoizedState=_e=e:_e=_e.next=e}return _e}function uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var i=Go;return Go+=1,Ea===null&&(Ea=[]),e=Hg(Ea,e,i),i=wt,(_e===null?i.memoizedState:_e.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Op:Vp),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===ht)return Ye(e)}throw Error(r(438,String(e)))}function cf(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=uf(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=O;return i.index++,a}function ki(e,i){return typeof i=="function"?i(e):i}function xu(e){var i=ve();return hf(i,Xt,e)}function hf(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=v=null,b=null,U=i,G=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(Pt&Y)===Y:(hr&Y)===Y){var z=U.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===pa&&(G=!0);else if((hr&z)===z){U=U.next,z===pa&&(G=!0);continue}else Y={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},b===null?(E=b=Y,v=f):b=b.next=Y,wt.lanes|=z,_r|=z;Y=U.action,As&&a(f,Y),f=U.hasEagerState?U.eagerState:a(f,Y)}else z={lane:Y,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},b===null?(E=b=z,v=f):b=b.next=z,wt.lanes|=Y,_r|=Y;U=U.next}while(U!==null&&U!==i);if(b===null?v=f:b.next=E,!hn(f,e.memoizedState)&&(Me=!0,G&&(a=ya,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ff(e){var i=ve(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);hn(f,i.memoizedState)||(Me=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Zg(e,i,a){var o=wt,h=ve(),f=Bt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!hn((Xt||h).memoizedState,a);v&&(h.memoizedState=a,Me=!0),h=h.queue;var E=tp.bind(null,o,h,e);if(Qo(2048,8,E,[e]),h.getSnapshot!==i||v||_e!==null&&_e.memoizedState.tag&1){if(o.flags|=2048,Ta(9,ku(),Jg.bind(null,o,h,a,i),null),te===null)throw Error(r(349));f||(hr&124)!==0||Wg(o,i,a)}return a}function Wg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=uf(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Jg(e,i,a,o){i.value=a,i.getSnapshot=o,ep(i)&&np(e)}function tp(e,i,a){return a(function(){ep(i)&&np(e)})}function ep(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function np(e){var i=fa(e,2);i!==null&&yn(i,e,2)}function df(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),As){un(!0);try{a()}finally{un(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},i}function ip(e,i,a,o){return e.baseState=a,hf(e,Xt,typeof o=="function"?o:ki)}function iS(e,i,a,o,h){if(Lu(e))throw Error(r(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,rp(i,f)):(f.next=a.next,i.pending=a.next=f)}}function rp(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=H.T,v={};H.T=v;try{var E=a(h,o),b=H.S;b!==null&&b(v,E),sp(e,i,E)}catch(U){mf(e,i,U)}finally{H.T=f}}else try{f=a(h,o),sp(e,i,f)}catch(U){mf(e,i,U)}}function sp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){ap(e,i,o)},function(o){return mf(e,i,o)}):ap(e,i,a)}function ap(e,i,a){i.status="fulfilled",i.value=a,op(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,rp(e,a)))}function mf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,op(i),i=i.next;while(i!==o)}e.action=null}function op(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function lp(e,i){return i}function up(e,i){if(Bt){var a=te.formState;if(a!==null){t:{var o=wt;if(Bt){if(ue){e:{for(var h=ue,f=ii;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ue=zn(h.nextSibling),o=h.data==="F!";break t}}vs(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:i},a.queue=o,a=Cp.bind(null,wt,o),o.dispatch=a,o=df(!1),f=vf.bind(null,wt,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=iS.bind(null,wt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function cp(e){var i=ve();return hp(i,Xt,e)}function hp(e,i,a){if(i=hf(e,i,lp)[0],e=xu(ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Fo(i)}catch(v){throw v===zo?Cu:v}else o=i;i=ve();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(wt.flags|=2048,Ta(9,ku(),rS.bind(null,h,a),null)),[o,f,e]}function rS(e,i){e.action=i}function fp(e){var i=ve(),a=Xt;if(a!==null)return hp(i,a,e);ve(),i=i.memoizedState,a=ve();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Ta(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=wt.updateQueue,i===null&&(i=uf(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function ku(){return{destroy:void 0,resource:void 0}}function dp(){return ve().memoizedState}function Pu(e,i,a,o){var h=sn();o=o===void 0?null:o,wt.flags|=e,h.memoizedState=Ta(1|i,ku(),a,o)}function Qo(e,i,a,o){var h=ve();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&rf(o,Xt.memoizedState.deps)?h.memoizedState=Ta(i,f,a,o):(wt.flags|=e,h.memoizedState=Ta(1|i,f,a,o))}function mp(e,i){Pu(8390656,8,e,i)}function gp(e,i){Qo(2048,8,e,i)}function pp(e,i){return Qo(4,2,e,i)}function yp(e,i){return Qo(4,4,e,i)}function _p(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function vp(e,i,a){a=a!=null?a.concat([e]):null,Qo(4,4,_p.bind(null,i,e),a)}function gf(){}function Ep(e,i){var a=ve();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&rf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Tp(e,i){var a=ve();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&rf(i,o[1]))return o[0];if(o=e(),As){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[o,i],o}function pf(e,i,a){return a===void 0||(hr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=by(),wt.lanes|=e,_r|=e,a)}function Sp(e,i,a,o){return hn(a,i)?a:_a.current!==null?(e=pf(e,a,o),hn(e,i)||(Me=!0),e):(hr&42)===0?(Me=!0,e.memoizedState=a):(e=by(),wt.lanes|=e,_r|=e,i)}function Ap(e,i,a,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,vf(e,!1,i,a);try{var b=h(),U=H.S;if(U!==null&&U(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=tS(b,o);Yo(e,i,G,pn(e))}else Yo(e,i,o,pn(e))}catch(Y){Yo(e,i,{then:function(){},status:"rejected",reason:Y},pn())}finally{it.p=f,H.T=v}}function sS(){}function yf(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=bp(e).queue;Ap(e,h,i,ft,a===null?sS:function(){return wp(e),a(o)})}function bp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function wp(e){var i=bp(e).next.queue;Yo(e,i,{},pn())}function _f(){return Ye(hl)}function Rp(){return ve().memoizedState}function Ip(){return ve().memoizedState}function aS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();e=ur(a);var o=cr(i,e,a);o!==null&&(yn(o,i,a),jo(o,i,a)),i={cache:Yh()},e.payload=i;return}i=i.return}}function oS(e,i,a){var o=pn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lu(e)?Dp(i,a):(a=Lh(e,i,a,o),a!==null&&(yn(a,e,o),Np(a,i,o)))}function Cp(e,i,a){var o=pn();Yo(e,i,a,o)}function Yo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))Dp(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,hn(E,v))return Eu(e,i,h,0),te===null&&vu(),!1}catch{}finally{}if(a=Lh(e,i,h,o),a!==null)return yn(a,e,o),Np(a,i,o),!0}return!1}function vf(e,i,a,o){if(o={lane:2,revertLane:Zf(),action:o,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(i)throw Error(r(479))}else i=Lh(e,a,o,2),i!==null&&yn(i,e,2)}function Lu(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function Dp(e,i){va=Ou=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Np(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,go(e,a)}}var Uu={readContext:Ye,use:Mu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},Op={readContext:Ye,use:Mu,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Ye,useEffect:mp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Pu(4194308,4,_p.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Pu(4194308,4,e,i)},useInsertionEffect:function(e,i){Pu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var o=e();if(As){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=sn();if(a!==void 0){var h=a(i);if(As){un(!0);try{a(i)}finally{un(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=oS.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=df(e);var i=e.queue,a=Cp.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:gf,useDeferredValue:function(e,i){var a=sn();return pf(a,e,i)},useTransition:function(){var e=df(!1);return e=Ap.bind(null,wt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=wt,h=sn();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),te===null)throw Error(r(349));(Pt&124)!==0||Wg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,mp(tp.bind(null,o,f,e),[e]),o.flags|=2048,Ta(9,ku(),Jg.bind(null,o,f,a,i),null),a},useId:function(){var e=sn(),i=te.identifierPrefix;if(Bt){var a=Vi,o=Oi;a=(o&~(1<<32-Qe(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=Vu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=eS++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:_f,useFormState:up,useActionState:up,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=vf.bind(null,wt,!0,a),a.dispatch=i,[e,i]},useMemoCache:cf,useCacheRefresh:function(){return sn().memoizedState=aS.bind(null,wt)}},Vp={readContext:Ye,use:Mu,useCallback:Ep,useContext:Ye,useEffect:gp,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:xu,useRef:dp,useState:function(){return xu(ki)},useDebugValue:gf,useDeferredValue:function(e,i){var a=ve();return Sp(a,Xt.memoizedState,e,i)},useTransition:function(){var e=xu(ki)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Fo(e),i]},useSyncExternalStore:Zg,useId:Rp,useHostTransitionStatus:_f,useFormState:cp,useActionState:cp,useOptimistic:function(e,i){var a=ve();return ip(a,Xt,e,i)},useMemoCache:cf,useCacheRefresh:Ip},lS={readContext:Ye,use:Mu,useCallback:Ep,useContext:Ye,useEffect:gp,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:ff,useRef:dp,useState:function(){return ff(ki)},useDebugValue:gf,useDeferredValue:function(e,i){var a=ve();return Xt===null?pf(a,e,i):Sp(a,Xt.memoizedState,e,i)},useTransition:function(){var e=ff(ki)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Fo(e),i]},useSyncExternalStore:Zg,useId:Rp,useHostTransitionStatus:_f,useFormState:fp,useActionState:fp,useOptimistic:function(e,i){var a=ve();return Xt!==null?ip(a,Xt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:cf,useCacheRefresh:Ip},Sa=null,Ko=0;function zu(e){var i=Ko;return Ko+=1,Sa===null&&(Sa=[]),Hg(Sa,e,i)}function Xo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Bu(e,i){throw i.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Mp(e){var i=e._init;return i(e._payload)}function xp(e){function i(x,N){if(e){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Ni(x,N),x.index=0,x.sibling=null,x}function f(x,N,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,L,F){return N===null||N.tag!==6?(N=zh(L,x.mode,F),N.return=x,N):(N=h(N,L),N.return=x,N)}function b(x,N,L,F){var ot=L.type;return ot===X?G(x,N,L.props.children,F,L.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===A&&Mp(ot)===N.type)?(N=h(N,L.props),Xo(N,L),N.return=x,N):(N=Su(L.type,L.key,L.props,null,x.mode,F),Xo(N,L),N.return=x,N)}function U(x,N,L,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Bh(L,x.mode,F),N.return=x,N):(N=h(N,L.children||[]),N.return=x,N)}function G(x,N,L,F,ot){return N===null||N.tag!==7?(N=gs(L,x.mode,F,ot),N.return=x,N):(N=h(N,L),N.return=x,N)}function Y(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=zh(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return L=Su(N.type,N.key,N.props,null,x.mode,L),Xo(L,N),L.return=x,L;case j:return N=Bh(N,x.mode,L),N.return=x,N;case A:var F=N._init;return N=F(N._payload),Y(x,N,L)}if(oe(N)||k(N))return N=gs(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return Y(x,zu(N),L);if(N.$$typeof===ht)return Y(x,Ru(x,N),L);Bu(x,N)}return null}function z(x,N,L,F){var ot=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(x,N,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return L.key===ot?b(x,N,L,F):null;case j:return L.key===ot?U(x,N,L,F):null;case A:return ot=L._init,L=ot(L._payload),z(x,N,L,F)}if(oe(L)||k(L))return ot!==null?null:G(x,N,L,F,null);if(typeof L.then=="function")return z(x,N,zu(L),F);if(L.$$typeof===ht)return z(x,N,Ru(x,L),F);Bu(x,L)}return null}function B(x,N,L,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(L)||null,E(N,x,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return x=x.get(F.key===null?L:F.key)||null,b(N,x,F,ot);case j:return x=x.get(F.key===null?L:F.key)||null,U(N,x,F,ot);case A:var It=F._init;return F=It(F._payload),B(x,N,L,F,ot)}if(oe(F)||k(F))return x=x.get(L)||null,G(N,x,F,ot,null);if(typeof F.then=="function")return B(x,N,L,zu(F),ot);if(F.$$typeof===ht)return B(x,N,L,Ru(N,F),ot);Bu(N,F)}return null}function _t(x,N,L,F){for(var ot=null,It=null,ut=N,pt=N=0,ke=null;ut!==null&&pt<L.length;pt++){ut.index>pt?(ke=ut,ut=null):ke=ut.sibling;var Ut=z(x,ut,L[pt],F);if(Ut===null){ut===null&&(ut=ke);break}e&&ut&&Ut.alternate===null&&i(x,ut),N=f(Ut,N,pt),It===null?ot=Ut:It.sibling=Ut,It=Ut,ut=ke}if(pt===L.length)return a(x,ut),Bt&&ys(x,pt),ot;if(ut===null){for(;pt<L.length;pt++)ut=Y(x,L[pt],F),ut!==null&&(N=f(ut,N,pt),It===null?ot=ut:It.sibling=ut,It=ut);return Bt&&ys(x,pt),ot}for(ut=o(ut);pt<L.length;pt++)ke=B(ut,x,pt,L[pt],F),ke!==null&&(e&&ke.alternate!==null&&ut.delete(ke.key===null?pt:ke.key),N=f(ke,N,pt),It===null?ot=ke:It.sibling=ke,It=ke);return e&&ut.forEach(function(Ir){return i(x,Ir)}),Bt&&ys(x,pt),ot}function gt(x,N,L,F){if(L==null)throw Error(r(151));for(var ot=null,It=null,ut=N,pt=N=0,ke=null,Ut=L.next();ut!==null&&!Ut.done;pt++,Ut=L.next()){ut.index>pt?(ke=ut,ut=null):ke=ut.sibling;var Ir=z(x,ut,Ut.value,F);if(Ir===null){ut===null&&(ut=ke);break}e&&ut&&Ir.alternate===null&&i(x,ut),N=f(Ir,N,pt),It===null?ot=Ir:It.sibling=Ir,It=Ir,ut=ke}if(Ut.done)return a(x,ut),Bt&&ys(x,pt),ot;if(ut===null){for(;!Ut.done;pt++,Ut=L.next())Ut=Y(x,Ut.value,F),Ut!==null&&(N=f(Ut,N,pt),It===null?ot=Ut:It.sibling=Ut,It=Ut);return Bt&&ys(x,pt),ot}for(ut=o(ut);!Ut.done;pt++,Ut=L.next())Ut=B(ut,x,pt,Ut.value,F),Ut!==null&&(e&&Ut.alternate!==null&&ut.delete(Ut.key===null?pt:Ut.key),N=f(Ut,N,pt),It===null?ot=Ut:It.sibling=Ut,It=Ut);return e&&ut.forEach(function(uA){return i(x,uA)}),Bt&&ys(x,pt),ot}function Zt(x,N,L,F){if(typeof L=="object"&&L!==null&&L.type===X&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case C:t:{for(var ot=L.key;N!==null;){if(N.key===ot){if(ot=L.type,ot===X){if(N.tag===7){a(x,N.sibling),F=h(N,L.props.children),F.return=x,x=F;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===A&&Mp(ot)===N.type){a(x,N.sibling),F=h(N,L.props),Xo(F,L),F.return=x,x=F;break t}a(x,N);break}else i(x,N);N=N.sibling}L.type===X?(F=gs(L.props.children,x.mode,F,L.key),F.return=x,x=F):(F=Su(L.type,L.key,L.props,null,x.mode,F),Xo(F,L),F.return=x,x=F)}return v(x);case j:t:{for(ot=L.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(x,N.sibling),F=h(N,L.children||[]),F.return=x,x=F;break t}else{a(x,N);break}else i(x,N);N=N.sibling}F=Bh(L,x.mode,F),F.return=x,x=F}return v(x);case A:return ot=L._init,L=ot(L._payload),Zt(x,N,L,F)}if(oe(L))return _t(x,N,L,F);if(k(L)){if(ot=k(L),typeof ot!="function")throw Error(r(150));return L=ot.call(L),gt(x,N,L,F)}if(typeof L.then=="function")return Zt(x,N,zu(L),F);if(L.$$typeof===ht)return Zt(x,N,Ru(x,L),F);Bu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(x,N.sibling),F=h(N,L),F.return=x,x=F):(a(x,N),F=zh(L,x.mode,F),F.return=x,x=F),v(x)):a(x,N)}return function(x,N,L,F){try{Ko=0;var ot=Zt(x,N,L,F);return Sa=null,ot}catch(ut){if(ut===zo||ut===Cu)throw ut;var It=fn(29,ut,null,x.mode);return It.lanes=F,It.return=x,It}finally{}}}var Aa=xp(!0),kp=xp(!1),Cn=Z(null),ri=null;function fr(e){var i=e.alternate;et(Ce,Ce.current&1),et(Cn,e),ri===null&&(i===null||_a.current!==null||i.memoizedState!==null)&&(ri=e)}function Pp(e){if(e.tag===22){if(et(Ce,Ce.current),et(Cn,e),ri===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ri=e)}}else dr()}function dr(){et(Ce,Ce.current),et(Cn,Cn.current)}function Pi(e){rt(Cn),ri===e&&(ri=null),rt(Ce)}var Ce=Z(0);function ju(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ud(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ef(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Tf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=pn(),h=ur(o);h.payload=i,a!=null&&(h.callback=a),i=cr(e,h,o),i!==null&&(yn(i,e,o),jo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=pn(),h=ur(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=cr(e,h,o),i!==null&&(yn(i,e,o),jo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=pn(),o=ur(a);o.tag=2,i!=null&&(o.callback=i),i=cr(e,o,a),i!==null&&(yn(i,e,a),jo(i,e,a))}};function Lp(e,i,a,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!Oo(a,o)||!Oo(h,f):!0}function Up(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Tf.enqueueReplaceState(i,i.state,null)}function bs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function zp(e){qu(e)}function Bp(e){console.error(e)}function jp(e){qu(e)}function Hu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function qp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(e,i,a){return a=ur(a),a.tag=3,a.payload={element:null},a.callback=function(){Hu(e,i)},a}function Hp(e){return e=ur(e),e.tag=3,e}function Gp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){qp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){qp(i,a,o),typeof h!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function uS(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Po(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ri===null?Qf():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===$h?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Kf(e,o,h)),!1;case 22:return a.flags|=65536,o===$h?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Kf(e,o,h)),!1}throw Error(r(435,a.tag))}return Kf(e,o,h),Qf(),!1}if(Bt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Hh&&(e=Error(r(422),{cause:o}),ko(bn(e,a)))):(o!==Hh&&(i=Error(r(423),{cause:o}),ko(bn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=bn(o,a),h=Sf(e.stateNode,o,h),Jh(e,h),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:o});if(f=bn(f,a),nl===null?nl=[f]:nl.push(f),ce!==4&&(ce=2),i===null)return!0;o=bn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Sf(a.stateNode,o,e),Jh(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(vr===null||!vr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Hp(h),Gp(h,e,a,o),Jh(a,h),!1}a=a.return}while(a!==null);return!1}var Fp=Error(r(461)),Me=!1;function Be(e,i,a,o){i.child=e===null?kp(i,null,a,o):Aa(i,e.child,a,o)}function Qp(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Ts(i),o=sf(e,i,a,v,f,h),E=af(),e!==null&&!Me?(of(e,i,h),Li(e,i,h)):(Bt&&E&&jh(i),i.flags|=1,Be(e,i,o,h),i.child)}function Yp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Uh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Kp(e,i,f,o,h)):(e=Su(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Nf(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(v,o)&&e.ref===i.ref)return Li(e,i,h)}return i.flags|=1,e=Ni(f,o),e.ref=i.ref,e.return=i,i.child=e}function Kp(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===i.ref)if(Me=!1,i.pendingProps=o=f,Nf(e,h))(e.flags&131072)!==0&&(Me=!0);else return i.lanes=e.lanes,Li(e,i,h)}return Af(e,i,a,o,h)}function Xp(e,i,a){var o=i.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return $p(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(i,f!==null?f.cachePool:null),f!==null?Kg(i,f):ef(),Pp(i);else return i.lanes=i.childLanes=536870912,$p(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Iu(i,f.cachePool),Kg(i,f),dr(),i.memoizedState=null):(e!==null&&Iu(i,null),ef(),dr());return Be(e,i,h,a),i.child}function $p(e,i,a,o){var h=Xh();return h=h===null?null:{parent:Ie._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Iu(i,null),ef(),Pp(i),e!==null&&Po(e,i,o,!0),null}function Gu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Af(e,i,a,o,h){return Ts(i),a=sf(e,i,a,o,void 0,h),o=af(),e!==null&&!Me?(of(e,i,h),Li(e,i,h)):(Bt&&o&&jh(i),i.flags|=1,Be(e,i,a,h),i.child)}function Zp(e,i,a,o,h,f){return Ts(i),i.updateQueue=null,a=$g(i,o,a,h),Xg(e),o=af(),e!==null&&!Me?(of(e,i,f),Li(e,i,f)):(Bt&&o&&jh(i),i.flags|=1,Be(e,i,a,f),i.child)}function Wp(e,i,a,o,h){if(Ts(i),i.stateNode===null){var f=da,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ye(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Zh(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ye(v):da,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ef(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Tf.enqueueReplaceState(f,f.state,null),Ho(i,o,f,h),qo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,b=bs(a,E);f.props=b;var U=f.context,G=a.contextType;v=da,typeof G=="object"&&G!==null&&(v=Ye(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==v)&&Up(i,f,o,v),lr=!1;var z=i.memoizedState;f.state=z,Ho(i,o,f,h),qo(),U=i.memoizedState,E||z!==U||lr?(typeof Y=="function"&&(Ef(i,a,Y,o),U=i.memoizedState),(b=lr||Lp(i,a,b,o,z,U,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=U),f.props=o,f.state=U,f.context=v,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Wh(e,i),v=i.memoizedProps,G=bs(a,v),f.props=G,Y=i.pendingProps,z=f.context,U=a.contextType,b=da,typeof U=="object"&&U!==null&&(b=Ye(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Y||z!==b)&&Up(i,f,o,b),lr=!1,z=i.memoizedState,f.state=z,Ho(i,o,f,h),qo();var B=i.memoizedState;v!==Y||z!==B||lr||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof E=="function"&&(Ef(i,a,E,o),B=i.memoizedState),(G=lr||Lp(i,a,G,o,z,B,b)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=b,o=G):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Gu(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Aa(i,e.child,null,h),i.child=Aa(i,null,a,h)):Be(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Li(e,i,h),e}function Jp(e,i,a,o){return xo(),i.flags|=256,Be(e,i,a,o),i.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(e){return{baseLanes:e,cachePool:Bg()}}function Rf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Dn),e}function ty(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?fr(i):dr(),Bt){var E=ue,b;if(b=E){t:{for(b=E,E=ii;b.nodeType!==8;){if(!E){E=null;break t}if(b=zn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:ps!==null?{id:Oi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},b=fn(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,rn=i,ue=null,b=!0):b=!1}b||vs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ud(E)?i.lanes=32:i.lanes=536870912,null;Pi(i)}return E=o.children,o=o.fallback,h?(dr(),h=i.mode,E=Fu({mode:"hidden",children:E},h),o=gs(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=wf(a),h.childLanes=Rf(e,v,a),i.memoizedState=bf,o):(fr(i),If(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)i.flags&256?(fr(i),i.flags&=-257,i=Cf(e,i,a)):i.memoizedState!==null?(dr(),i.child=e.child,i.flags|=128,i=null):(dr(),h=o.fallback,E=i.mode,o=Fu({mode:"visible",children:o.children},E),h=gs(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,Aa(i,e.child,null,a),o=i.child,o.memoizedState=wf(a),o.childLanes=Rf(e,v,a),i.memoizedState=bf,i=h);else if(fr(i),ud(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var U=v.dgst;v=U,o=Error(r(419)),o.stack="",o.digest=v,ko({value:o,source:null,stack:null}),i=Cf(e,i,a)}else if(Me||Po(e,i,a,!1),v=(a&e.childLanes)!==0,Me||v){if(v=te,v!==null&&(o=a&-a,o=(o&42)!==0?1:tr(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,fa(e,o),yn(v,e,o),Fp;E.data==="$?"||Qf(),i=Cf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,ue=zn(E.nextSibling),rn=i,Bt=!0,_s=null,ii=!1,e!==null&&(Rn[In++]=Oi,Rn[In++]=Vi,Rn[In++]=ps,Oi=e.id,Vi=e.overflow,ps=i),i=If(i,o.children),i.flags|=4096);return i}return h?(dr(),h=o.fallback,E=i.mode,b=e.child,U=b.sibling,o=Ni(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,U!==null?h=Ni(U,h):(h=gs(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=wf(a):(b=E.cachePool,b!==null?(U=Ie._currentValue,b=b.parent!==U?{parent:U,pool:U}:b):b=Bg(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=Rf(e,v,a),i.memoizedState=bf,o):(fr(i),a=e.child,e=a.sibling,a=Ni(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function If(e,i){return i=Fu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Fu(e,i){return e=fn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Cf(e,i,a){return Aa(i,e.child,null,a),e=If(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function ey(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Fh(e.return,i,a)}function Df(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function ny(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Be(e,i,o.children,a),o=Ce.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,a,i);else if(e.tag===19)ey(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(et(Ce,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&ju(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Df(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Df(i,!0,a,null,f);break;case"together":Df(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),_r|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Po(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Ni(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ni(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Nf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function cS(e,i,a){switch(i.tag){case 3:Jt(i,i.stateNode.containerInfo),or(i,Ie,e.memoizedState.cache),xo();break;case 27:case 5:Ji(i);break;case 4:Jt(i,i.stateNode.containerInfo);break;case 10:or(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(fr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ty(e,i,a):(fr(i),e=Li(e,i,a),e!==null?e.sibling:null);fr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Po(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return ny(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Ce,Ce.current),o)break;return null;case 22:case 23:return i.lanes=0,Xp(e,i,a);case 24:or(i,Ie,e.memoizedState.cache)}return Li(e,i,a)}function iy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Me=!0;else{if(!Nf(e,a)&&(i.flags&128)===0)return Me=!1,cS(e,i,a);Me=(e.flags&131072)!==0}else Me=!1,Bt&&(i.flags&1048576)!==0&&Mg(i,bu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Uh(o)?(e=bs(o,e),i.tag=1,i=Wp(null,i,o,e,a)):(i.tag=0,i=Af(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Gt){i.tag=11,i=Qp(null,i,o,e,a);break t}else if(h===M){i.tag=14,i=Yp(null,i,o,e,a);break t}}throw i=Le(o)||o,Error(r(306,i,""))}}return i;case 0:return Af(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=bs(o,i.pendingProps),Wp(e,i,o,h,a);case 3:t:{if(Jt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Wh(e,i),Ho(i,o,null,a);var v=i.memoizedState;if(o=v.cache,or(i,Ie,o),o!==f.cache&&Qh(i,[Ie],a,!0),qo(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Jp(e,i,o,a);break t}else if(o!==h){h=bn(Error(r(424)),i),ko(h),i=Jp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=zn(e.firstChild),rn=i,Bt=!0,_s=null,ii=!0,a=kp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xo(),o===h){i=Li(e,i,a);break t}Be(e,i,o,a)}i=i.child}return i;case 26:return Gu(e,i),e===null?(a=o_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=sc(Et.current).createElement(a),o[be]=i,o[pe]=e,qe(o,a,e),fe(o),i.stateNode=o):i.memoizedState=o_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ji(i),e===null&&Bt&&(o=i.stateNode=r_(i.type,i.pendingProps,Et.current),rn=i,ii=!0,h=ue,Sr(i.type)?(cd=h,ue=zn(o.firstChild)):ue=h),Be(e,i,i.pendingProps.children,a),Gu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=o=ue)&&(o=US(o,i.type,i.pendingProps,ii),o!==null?(i.stateNode=o,rn=i,ue=zn(o.firstChild),ii=!1,h=!0):h=!1),h||vs(i)),Ji(i),h=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,ad(h,f)?o=null:v!==null&&ad(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=sf(e,i,nS,null,null,a),hl._currentValue=h),Gu(e,i),Be(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=ue)&&(a=zS(a,i.pendingProps,ii),a!==null?(i.stateNode=a,rn=i,ue=null,e=!0):e=!1),e||vs(i)),null;case 13:return ty(e,i,a);case 4:return Jt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Aa(i,null,o,a):Be(e,i,o,a),i.child;case 11:return Qp(e,i,i.type,i.pendingProps,a);case 7:return Be(e,i,i.pendingProps,a),i.child;case 8:return Be(e,i,i.pendingProps.children,a),i.child;case 12:return Be(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,or(i,i.type,o.value),Be(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ts(i),h=Ye(h),o=o(h),i.flags|=1,Be(e,i,o,a),i.child;case 14:return Yp(e,i,i.type,i.pendingProps,a);case 15:return Kp(e,i,i.type,i.pendingProps,a);case 19:return ny(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Fu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ni(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Xp(e,i,a);case 24:return Ts(i),o=Ye(Ie),e===null?(h=Xh(),h===null&&(h=te,f=Yh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Zh(i),or(i,Ie,h)):((e.lanes&a)!==0&&(Wh(e,i),Ho(i,null,null,a),qo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),or(i,Ie,o)):(o=f.cache,or(i,Ie,o),o!==h.cache&&Qh(i,[Ie],a,!0))),Be(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ui(e){e.flags|=4}function ry(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!f_(i)){if(i=Cn.current,i!==null&&((Pt&4194048)===Pt?ri!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||i!==ri))throw Bo=$h,jg;e.flags|=8192}}function Qu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?fo():536870912,e.lanes|=i,Ia|=i)}function $o(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function hS(e,i,a){var o=i.pendingProps;switch(qh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),xi(Ie),Fn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Mo(i)?Ui(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pg())),se(i),null;case 26:return a=i.memoizedState,e===null?(Ui(i),a!==null?(se(i),ry(i,a)):(se(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Ui(i),se(i),ry(i,a)):(se(i),i.flags&=-16777217):(e.memoizedProps!==o&&Ui(i),se(i),i.flags&=-16777217),null;case 27:yi(i),a=Et.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ui(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return se(i),null}e=mt.current,Mo(i)?xg(i):(e=r_(h,o,a),i.stateNode=e,Ui(i))}return se(i),null;case 5:if(yi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ui(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return se(i),null}if(e=mt.current,Mo(i))xg(i);else{switch(h=sc(Et.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[be]=i,e[pe]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(qe(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(i)}}return se(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Ui(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=Et.current,Mo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=rn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[be]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Zy(e.nodeValue,a)),e||vs(i)}else e=sc(e).createTextNode(o),e[be]=i,i.stateNode=e}return se(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Mo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[be]=i}else xo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),h=!1}else h=Pg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Qu(i,i.updateQueue),se(i),null;case 4:return Fn(),e===null&&ed(i.stateNode.containerInfo),se(i),null;case 10:return xi(i.type),se(i),null;case 19:if(rt(Ce),h=i.memoizedState,h===null)return se(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)$o(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=ju(e),f!==null){for(i.flags|=128,$o(h,!1),e=f.updateQueue,i.updateQueue=e,Qu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Vg(a,e),a=a.sibling;return et(Ce,Ce.current&1|2),i.child}e=e.sibling}h.tail!==null&&_n()>Xu&&(i.flags|=128,o=!0,$o(h,!1),i.lanes=4194304)}else{if(!o)if(e=ju(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Qu(i,e),$o(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return se(i),null}else 2*_n()-h.renderingStartTime>Xu&&a!==536870912&&(i.flags|=128,o=!0,$o(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=_n(),i.sibling=null,e=Ce.current,et(Ce,o?e&1|2:e&1),i):(se(i),null);case 22:case 23:return Pi(i),nf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),a=i.updateQueue,a!==null&&Qu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&rt(Ss),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xi(Ie),se(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function fS(e,i){switch(qh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return xi(Ie),Fn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(Pi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));xo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return rt(Ce),null;case 4:return Fn(),null;case 10:return xi(i.type),null;case 22:case 23:return Pi(i),nf(),e!==null&&rt(Ss),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return xi(Ie),null;case 25:return null;default:return null}}function sy(e,i){switch(qh(i),i.tag){case 3:xi(Ie),Fn();break;case 26:case 27:case 5:yi(i);break;case 4:Fn();break;case 13:Pi(i);break;case 19:rt(Ce);break;case 10:xi(i.type);break;case 22:case 23:Pi(i),nf(),e!==null&&rt(Ss);break;case 24:xi(Ie)}}function Zo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){Wt(i,i.return,E)}}function mr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a,U=E;try{U()}catch(G){Wt(h,b,G)}}}o=o.next}while(o!==f)}}catch(G){Wt(i,i.return,G)}}function ay(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Yg(i,a)}catch(o){Wt(e,e.return,o)}}}function oy(e,i,a){a.props=bs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Wt(e,i,o)}}function Wo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Wt(e,i,h)}}function si(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,i,h)}else a.current=null}function ly(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function Of(e,i,a){try{var o=e.stateNode;MS(o,e.type,a,i),o[pe]=i}catch(h){Wt(e,e.return,h)}}function uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Sr(e.type)||e.tag===4}function Vf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Sr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=rc));else if(o!==4&&(o===27&&Sr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Mf(e,i,a),e=e.sibling;e!==null;)Mf(e,i,a),e=e.sibling}function Yu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Sr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yu(e,i,a),e=e.sibling;e!==null;)Yu(e,i,a),e=e.sibling}function cy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qe(i,o,a),i[be]=e,i[pe]=a}catch(f){Wt(e,e.return,f)}}var zi=!1,me=!1,xf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,xe=null;function dS(e,i){if(e=e.containerInfo,rd=hc,e=Sg(e),Oh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,U=0,G=0,Y=e,z=null;e:for(;;){for(var B;Y!==a||h!==0&&Y.nodeType!==3||(E=v+h),Y!==f||o!==0&&Y.nodeType!==3||(b=v+o),Y.nodeType===3&&(v+=Y.nodeValue.length),(B=Y.firstChild)!==null;)z=Y,Y=B;for(;;){if(Y===e)break e;if(z===a&&++U===h&&(E=v),z===f&&++G===o&&(b=v),(B=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(sd={focusedElem:e,selectionRange:a},hc=!1,xe=i;xe!==null;)if(i=xe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,xe=e;else for(;xe!==null;){switch(i=xe,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var _t=bs(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(_t,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Wt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)ld(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,xe=e;break}xe=i.return}}function fy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:gr(e,a),o&4&&Zo(5,a);break;case 1:if(gr(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Wt(a,a.return,v)}else{var h=bs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Wt(a,a.return,v)}}o&64&&ay(a),o&512&&Wo(a,a.return);break;case 3:if(gr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Yg(e,i)}catch(v){Wt(a,a.return,v)}}break;case 27:i===null&&o&4&&cy(a);case 26:case 5:gr(e,a),i===null&&o&4&&ly(a),o&512&&Wo(a,a.return);break;case 12:gr(e,a);break;case 13:gr(e,a),o&4&&gy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=SS.bind(null,a),BS(e,a))));break;case 22:if(o=a.memoizedState!==null||zi,!o){i=i!==null&&i.memoizedState!==null||me,h=zi;var f=me;zi=o,(me=i)&&!f?pr(e,a,(a.subtreeFlags&8772)!==0):gr(e,a),zi=h,me=f}break;case 30:break;default:gr(e,a)}}function dy(e){var i=e.alternate;i!==null&&(e.alternate=null,dy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ir(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,an=!1;function Bi(e,i,a){for(a=a.child;a!==null;)my(e,i,a),a=a.sibling}function my(e,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:me||si(a,i),Bi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||si(a,i);var o=re,h=an;Sr(a.type)&&(re=a.stateNode,an=!1),Bi(e,i,a),ol(a.stateNode),re=o,an=h;break;case 5:me||si(a,i);case 6:if(o=re,h=an,re=null,Bi(e,i,a),re=o,an=h,re!==null)if(an)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Wt(a,i,f)}else try{re.removeChild(a.stateNode)}catch(f){Wt(a,i,f)}break;case 18:re!==null&&(an?(e=re,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),gl(e)):n_(re,a.stateNode));break;case 4:o=re,h=an,re=a.stateNode.containerInfo,an=!0,Bi(e,i,a),re=o,an=h;break;case 0:case 11:case 14:case 15:me||mr(2,a,i),me||mr(4,a,i),Bi(e,i,a);break;case 1:me||(si(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&oy(a,i,o)),Bi(e,i,a);break;case 21:Bi(e,i,a);break;case 22:me=(o=me)||a.memoizedState!==null,Bi(e,i,a),me=o;break;default:Bi(e,i,a)}}function gy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gl(e)}catch(a){Wt(i,i.return,a)}}function mS(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new hy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new hy),i;default:throw Error(r(435,e.tag))}}function kf(e,i){var a=mS(e);i.forEach(function(o){var h=AS.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function dn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Sr(E.type)){re=E.stateNode,an=!1;break t}break;case 5:re=E.stateNode,an=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(re===null)throw Error(r(160));my(f,v,h),re=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)py(i,e),i=i.sibling}var Un=null;function py(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),o&4&&(mr(3,e,e.return),Zo(3,e),mr(5,e,e.return));break;case 1:dn(i,e),mn(e),o&512&&(me||a===null||si(a,a.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Un;if(dn(i,e),mn(e),o&512&&(me||a===null||si(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Jr]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),qe(f,o,a),f[be]=e,fe(f),o=f;break t;case"link":var v=c_("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),qe(f,o,a),h.head.appendChild(f);break;case"meta":if(v=c_("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(o),qe(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[be]=e,fe(f),o=f}e.stateNode=o}else h_(h,e.type,e.stateNode);else e.stateNode=u_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?h_(h,e.type,e.stateNode):u_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Of(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(i,e),mn(e),o&512&&(me||a===null||si(a,a.return)),a!==null&&o&4&&Of(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,e),mn(e),o&512&&(me||a===null||si(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(B){Wt(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Of(e,h,a!==null?a.memoizedProps:h)),o&1024&&(xf=!0);break;case 6:if(dn(i,e),mn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){Wt(e,e.return,B)}}break;case 3:if(lc=null,h=Un,Un=ac(i.containerInfo),dn(i,e),Un=h,mn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{gl(i.containerInfo)}catch(B){Wt(e,e.return,B)}xf&&(xf=!1,yy(e));break;case 4:o=Un,Un=ac(e.stateNode.containerInfo),dn(i,e),mn(e),Un=o;break;case 12:dn(i,e),mn(e);break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jf=_n()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,kf(e,o)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,U=zi,G=me;if(zi=U||h,me=G||b,dn(i,e),me=G,zi=U,mn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||zi||me||ws(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(f=b.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Wt(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){Wt(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,kf(e,a))));break;case 19:dn(i,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,kf(e,o)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(uy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Vf(e);Yu(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(En(v,""),a.flags&=-33);var E=Vf(e);Yu(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,U=Vf(e);Mf(e,U,b);break;default:throw Error(r(161))}}catch(G){Wt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;yy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function gr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)fy(e,i.alternate,i),i=i.sibling}function ws(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:mr(4,i,i.return),ws(i);break;case 1:si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&oy(i,i.return,a),ws(i);break;case 27:ol(i.stateNode);case 26:case 5:si(i,i.return),ws(i);break;case 22:i.memoizedState===null&&ws(i);break;case 30:ws(i);break;default:ws(i)}e=e.sibling}}function pr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:pr(h,f,a),Zo(4,f);break;case 1:if(pr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Wt(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Qg(b[h],E)}catch(U){Wt(o,o.return,U)}}a&&v&64&&ay(f),Wo(f,f.return);break;case 27:cy(f);case 26:case 5:pr(h,f,a),a&&o===null&&v&4&&ly(f),Wo(f,f.return);break;case 12:pr(h,f,a);break;case 13:pr(h,f,a),a&&v&4&&gy(h,f);break;case 22:f.memoizedState===null&&pr(h,f,a),Wo(f,f.return);break;case 30:break;default:pr(h,f,a)}i=i.sibling}}function Pf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lo(a))}function Lf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e))}function ai(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_y(e,i,a,o),i=i.sibling}function _y(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(e,i,a,o),h&2048&&Zo(9,i);break;case 1:ai(e,i,a,o);break;case 3:ai(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){ai(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Wt(i,i.return,b)}}else ai(e,i,a,o);break;case 13:ai(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ai(e,i,a,o):Jo(e,i):f._visibility&2?ai(e,i,a,o):(f._visibility|=2,ba(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Pf(v,i);break;case 24:ai(e,i,a,o),h&2048&&Lf(i.alternate,i);break;default:ai(e,i,a,o)}}function ba(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,v=i,E=a,b=o,U=v.flags;switch(v.tag){case 0:case 11:case 15:ba(f,v,E,b,h),Zo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?ba(f,v,E,b,h):Jo(f,v):(G._visibility|=2,ba(f,v,E,b,h)),h&&U&2048&&Pf(v.alternate,v);break;case 24:ba(f,v,E,b,h),h&&U&2048&&Lf(v.alternate,v);break;default:ba(f,v,E,b,h)}i=i.sibling}}function Jo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Jo(a,o),h&2048&&Pf(o.alternate,o);break;case 24:Jo(a,o),h&2048&&Lf(o.alternate,o);break;default:Jo(a,o)}i=i.sibling}}var tl=8192;function wa(e){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 26:wa(e),e.flags&tl&&e.memoizedState!==null&&JS(Un,e.memoizedState,e.memoizedProps);break;case 5:wa(e);break;case 3:case 4:var i=Un;Un=ac(e.stateNode.containerInfo),wa(e),Un=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=tl,tl=16777216,wa(e),tl=i):wa(e));break;default:wa(e)}}function Ey(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function el(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];xe=o,Sy(o,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&mr(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ku(e)):el(e);break;default:el(e)}}function Ku(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];xe=o,Sy(o,e)}Ey(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:mr(8,i,i.return),Ku(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ku(i));break;default:Ku(i)}e=e.sibling}}function Sy(e,i){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,xe=o;else t:for(a=e;xe!==null;){o=xe;var h=o.sibling,f=o.return;if(dy(o),o===a){xe=null;break t}if(h!==null){h.return=f,xe=h;break t}xe=f}}}var gS={getCacheForType:function(e){var i=Ye(Ie),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},pS=typeof WeakMap=="function"?WeakMap:Map,Qt=0,te=null,Dt=null,Pt=0,Yt=0,gn=null,yr=!1,Ra=!1,Uf=!1,ji=0,ce=0,_r=0,Rs=0,zf=0,Dn=0,Ia=0,nl=null,on=null,Bf=!1,jf=0,Xu=1/0,$u=null,vr=null,je=0,Er=null,Ca=null,Da=0,qf=0,Hf=null,Ay=null,il=0,Gf=null;function pn(){if((Qt&2)!==0&&Pt!==0)return Pt&-Pt;if(H.T!==null){var e=pa;return e!==0?e:Zf()}return er()}function by(){Dn===0&&(Dn=(Pt&536870912)===0||Bt?ho():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Dn}function yn(e,i,a){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Na(e,0),Tr(e,Pt,Dn,!1)),vi(e,a),((Qt&2)===0||e!==te)&&(e===te&&((Qt&2)===0&&(Rs|=a),ce===4&&Tr(e,Pt,Dn,!1)),oi(e))}function wy(e,i,a){if((Qt&6)!==0)throw Error(r(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Wr(e,i),h=o?vS(e,i):Yf(e,i,!0),f=o;do{if(h===0){Ra&&!o&&Tr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!yS(a)){h=Yf(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=nl;var b=E.current.memoizedState.isDehydrated;if(b&&(Na(E,v).flags|=256),v=Yf(E,v,!1),v!==2){if(Uf&&!b){E.errorRecoveryDisabledLanes|=f,Rs|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Na(e,0),Tr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Tr(o,i,Dn,!yr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=jf+300-_n(),10<h)){if(Tr(o,i,Dn,!yr),Ys(o,0,!0)!==0)break t;o.timeoutHandle=t_(Ry.bind(null,o,a,on,$u,Bf,i,Dn,Rs,Ia,yr,f,2,-0,0),h);break t}Ry(o,a,on,$u,Bf,i,Dn,Rs,Ia,yr,f,0,-0,0)}}break}while(!0);oi(e)}function Ry(e,i,a,o,h,f,v,E,b,U,G,Y,z,B){if(e.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(cl={stylesheets:null,count:0,unsuspend:WS},vy(i),Y=tA(),Y!==null)){e.cancelPendingCommit=Y(My.bind(null,e,i,f,a,o,h,v,E,b,G,1,z,B)),Tr(e,f,v,!U);return}My(e,i,f,a,o,h,v,E,b)}function yS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!hn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Tr(e,i,a,o){i&=~zf,i&=~Rs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-Qe(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&Qn(e,a,i)}function Zu(){return(Qt&6)===0?(rl(0),!1):!0}function Ff(){if(Dt!==null){if(Yt===0)var e=Dt.return;else e=Dt,Mi=Es=null,lf(e),Sa=null,Ko=0,e=Dt;for(;e!==null;)sy(e.alternate,e),e=e.return;Dt=null}}function Na(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,kS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ff(),te=e,Dt=a=Ni(e.current,null),Pt=i,Yt=0,gn=null,yr=!1,Ra=Wr(e,i),Uf=!1,Ia=Dn=zf=Rs=_r=ce=0,on=nl=null,Bf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Qe(o),f=1<<h;i|=e[h],o&=~f}return ji=i,vu(),a}function Iy(e,i){wt=null,H.H=Uu,i===zo||i===Cu?(i=Gg(),Yt=3):i===jg?(i=Gg(),Yt=4):Yt=i===Fp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Dt===null&&(ce=1,Hu(e,bn(i,e.current)))}function Cy(){var e=H.H;return H.H=Uu,e===null?Uu:e}function Dy(){var e=H.A;return H.A=gS,e}function Qf(){ce=4,yr||(Pt&4194048)!==Pt&&Cn.current!==null||(Ra=!0),(_r&134217727)===0&&(Rs&134217727)===0||te===null||Tr(te,Pt,Dn,!1)}function Yf(e,i,a){var o=Qt;Qt|=2;var h=Cy(),f=Dy();(te!==e||Pt!==i)&&($u=null,Na(e,i)),i=!1;var v=ce;t:do try{if(Yt!==0&&Dt!==null){var E=Dt,b=gn;switch(Yt){case 8:Ff(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var U=Yt;if(Yt=0,gn=null,Oa(e,E,b,U),a&&Ra){v=0;break t}break;default:U=Yt,Yt=0,gn=null,Oa(e,E,b,U)}}_S(),v=ce;break}catch(G){Iy(e,G)}while(!0);return i&&e.shellSuspendCounter++,Mi=Es=null,Qt=o,H.H=h,H.A=f,Dt===null&&(te=null,Pt=0,vu()),v}function _S(){for(;Dt!==null;)Ny(Dt)}function vS(e,i){var a=Qt;Qt|=2;var o=Cy(),h=Dy();te!==e||Pt!==i?($u=null,Xu=_n()+500,Na(e,i)):Ra=Wr(e,i);t:do try{if(Yt!==0&&Dt!==null){i=Dt;var f=gn;e:switch(Yt){case 1:Yt=0,gn=null,Oa(e,i,f,1);break;case 2:case 9:if(qg(f)){Yt=0,gn=null,Oy(i);break}i=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),oi(e)},f.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:qg(f)?(Yt=0,gn=null,Oy(i)):(Yt=0,gn=null,Oa(e,i,f,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var E=Dt;if(!v||f_(v)){Yt=0,gn=null;var b=E.sibling;if(b!==null)Dt=b;else{var U=E.return;U!==null?(Dt=U,Wu(U)):Dt=null}break e}}Yt=0,gn=null,Oa(e,i,f,5);break;case 6:Yt=0,gn=null,Oa(e,i,f,6);break;case 8:Ff(),ce=6;break t;default:throw Error(r(462))}}ES();break}catch(G){Iy(e,G)}while(!0);return Mi=Es=null,H.H=o,H.A=h,Qt=a,Dt!==null?0:(te=null,Pt=0,vu(),ce)}function ES(){for(;Dt!==null&&!oo();)Ny(Dt)}function Ny(e){var i=iy(e.alternate,e,ji);e.memoizedProps=e.pendingProps,i===null?Wu(e):Dt=i}function Oy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Zp(a,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=Zp(a,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:lf(i);default:sy(a,i),i=Dt=Vg(i,ji),i=iy(a,i,ji)}e.memoizedProps=e.pendingProps,i===null?Wu(e):Dt=i}function Oa(e,i,a,o){Mi=Es=null,lf(i),Sa=null,Ko=0;var h=i.return;try{if(uS(e,h,i,a,Pt)){ce=1,Hu(e,bn(a,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ce=1,Hu(e,bn(a,e.current)),Dt=null;return}i.flags&32768?(Bt||o===1?e=!0:Ra||(Pt&536870912)!==0?e=!1:(yr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vy(i,e)):Wu(i)}function Wu(e){var i=e;do{if((i.flags&32768)!==0){Vy(i,yr);return}e=i.return;var a=hS(i.alternate,i,ji);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);ce===0&&(ce=5)}function Vy(e,i){do{var a=fS(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);ce=6,Dt=null}function My(e,i,a,o,h,f,v,E,b){e.cancelPendingCommit=null;do Ju();while(je!==0);if((Qt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=Ph,mo(e,a,f,v,E,b),e===te&&(Dt=te=null,Pt=0),Ca=i,Er=e,Da=a,qf=f,Hf=h,Ay=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bS(Kr,function(){return Uy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=it.p,it.p=2,v=Qt,Qt|=4;try{dS(e,i,a)}finally{Qt=v,it.p=h,H.T=o}}je=1,xy(),ky(),Py()}}function xy(){if(je===1){je=0;var e=Er,i=Ca,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=it.p;it.p=2;var h=Qt;Qt|=4;try{py(i,e);var f=sd,v=Sg(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&Tg(E.ownerDocument.documentElement,E)){if(b!==null&&Oh(E)){var U=b.start,G=b.end;if(G===void 0&&(G=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var B=z.getSelection(),_t=E.textContent.length,gt=Math.min(b.start,_t),Zt=b.end===void 0?gt:Math.min(b.end,_t);!B.extend&&gt>Zt&&(v=Zt,Zt=gt,gt=v);var x=Eg(E,gt),N=Eg(E,Zt);if(x&&N&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=Y.createRange();L.setStart(x.node,x.offset),B.removeAllRanges(),gt>Zt?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}hc=!!rd,sd=rd=null}finally{Qt=h,it.p=o,H.T=a}}e.current=i,je=2}}function ky(){if(je===2){je=0;var e=Er,i=Ca,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=it.p;it.p=2;var h=Qt;Qt|=4;try{fy(e,i.alternate,i)}finally{Qt=h,it.p=o,H.T=a}}je=3}}function Py(){if(je===4||je===3){je=0,Kl();var e=Er,i=Ca,a=Da,o=Ay;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?je=5:(je=0,Ca=Er=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(vr=null),Ks(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(le,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=it.p,it.p=2,H.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{H.T=i,it.p=h}}(Da&3)!==0&&Ju(),oi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Gf?il++:(il=0,Gf=e):il=0,rl(0)}}function Ly(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Lo(i)))}function Ju(e){return xy(),ky(),Py(),Uy()}function Uy(){if(je!==5)return!1;var e=Er,i=qf;qf=0;var a=Ks(Da),o=H.T,h=it.p;try{it.p=32>a?32:a,H.T=null,a=Hf,Hf=null;var f=Er,v=Da;if(je=0,Ca=Er=null,Da=0,(Qt&6)!==0)throw Error(r(331));var E=Qt;if(Qt|=4,Ty(f.current),_y(f,f.current,v,a),Qt=E,rl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(le,f)}catch{}return!0}finally{it.p=h,H.T=o,Ly(e,i)}}function zy(e,i,a){i=bn(a,i),i=Sf(e.stateNode,i,2),e=cr(e,i,2),e!==null&&(vi(e,2),oi(e))}function Wt(e,i,a){if(e.tag===3)zy(e,e,a);else for(;i!==null;){if(i.tag===3){zy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(vr===null||!vr.has(o))){e=bn(a,e),a=Hp(2),o=cr(i,a,2),o!==null&&(Gp(a,o,i,e),vi(o,2),oi(o));break}}i=i.return}}function Kf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new pS;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Uf=!0,h.add(a),e=TS.bind(null,e,i,a),i.then(e,e))}function TS(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Pt&a)===a&&(ce===4||ce===3&&(Pt&62914560)===Pt&&300>_n()-jf?(Qt&2)===0&&Na(e,0):zf|=a,Ia===Pt&&(Ia=0)),oi(e)}function By(e,i){i===0&&(i=fo()),e=fa(e,i),e!==null&&(vi(e,i),oi(e))}function SS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),By(e,a)}function AS(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),By(e,a)}function bS(e,i){return Qr(e,i)}var tc=null,Va=null,Xf=!1,ec=!1,$f=!1,Is=0;function oi(e){e!==Va&&e.next===null&&(Va===null?tc=Va=e:Va=Va.next=e),ec=!0,Xf||(Xf=!0,RS())}function rl(e,i){if(!$f&&ec){$f=!0;do for(var a=!1,o=tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Qe(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Gy(o,f))}else f=Pt,f=Ys(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Wr(o,f)||(a=!0,Gy(o,f));o=o.next}while(a);$f=!1}}function wS(){jy()}function jy(){ec=Xf=!1;var e=0;Is!==0&&(xS()&&(e=Is),Is=0);for(var i=_n(),a=null,o=tc;o!==null;){var h=o.next,f=qy(o,i);f===0?(o.next=null,a===null?tc=h:a.next=h,h===null&&(Va=a)):(a=o,(e!==0||(f&3)!==0)&&(ec=!0)),o=h}rl(e)}function qy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Qe(f),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&o)!==0)&&(h[v]=co(E,i)):b<=i&&(e.expiredLanes|=E),f&=~E}if(i=te,a=Pt,a=Ys(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Yr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Yr(o),Ks(a)){case 2:case 8:a=Fs;break;case 32:a=Kr;break;case 268435456:a=Qs;break;default:a=Kr}return o=Hy.bind(null,e),a=Qr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Yr(o),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,i){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ju()&&e.callbackNode!==a)return null;var o=Pt;return o=Ys(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(wy(e,o,i),qy(e,_n()),e.callbackNode!=null&&e.callbackNode===a?Hy.bind(null,e):null)}function Gy(e,i){if(Ju())return null;wy(e,i,!0)}function RS(){PS(function(){(Qt&6)!==0?Qr(lo,wS):jy()})}function Zf(){return Is===0&&(Is=ho()),Is}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function Qy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function IS(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=Fy((h[pe]||null).action),v=o.submitter;v&&(i=(i=v[pe]||null)?Fy(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new ea("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Is!==0){var b=v?Qy(h,v):new FormData(h);yf(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?Qy(h,v):new FormData(h),yf(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var Wf=0;Wf<kh.length;Wf++){var Jf=kh[Wf],CS=Jf.toLowerCase(),DS=Jf[0].toUpperCase()+Jf.slice(1);Ln(CS,"on"+DS)}Ln(wg,"onAnimationEnd"),Ln(Rg,"onAnimationIteration"),Ln(Ig,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Q0,"onTransitionRun"),Ln(Y0,"onTransitionStart"),Ln(K0,"onTransitionCancel"),Ln(Cg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Yy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,U=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(G){qu(G)}h.currentTarget=null,f=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,U=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(G){qu(G)}h.currentTarget=null,f=b}}}}function Nt(e,i){var a=i[po];a===void 0&&(a=i[po]=new Set);var o=e+"__bubble";a.has(o)||(Ky(i,e,2,!1),a.add(o))}function td(e,i,a){var o=0;i&&(o|=4),Ky(a,e,o,i)}var nc="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[nc]){e[nc]=!0,yo.forEach(function(a){a!=="selectionchange"&&(NS.has(a)||td(a,!1,e),td(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[nc]||(i[nc]=!0,td("selectionchange",!1,i))}}function Ky(e,i,a,o){switch(__(i)){case 2:var h=iA;break;case 8:h=rA;break;default:h=gd}a=h.bind(null,i,a,e),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function nd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ei(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=f=v;continue t}E=E.parentNode}}o=o.return}ru(function(){var U=f,G=Tn(a),Y=[];t:{var z=Dg.get(e);if(z!==void 0){var B=ea,_t=e;switch(e){case"keypress":if(Wn(a)===0)break t;case"keydown":case"keyup":B=oa;break;case"focusin":_t="focus",B=ra;break;case"focusout":_t="blur",B=ra;break;case"beforeblur":case"afterblur":B=ra;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=fu;break;case wg:case Rg:case Ig:B=sa;break;case Cg:B=mu;break;case"scroll":case"scrollend":B=su;break;case"wheel":B=la;break;case"copy":case"cut":case"paste":B=aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Do;break;case"toggle":case"beforetoggle":B=pu}var gt=(i&4)!==0,Zt=!gt&&(e==="scroll"||e==="scrollend"),x=gt?z!==null?z+"Capture":null:z;gt=[];for(var N=U,L;N!==null;){var F=N;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||x===null||(F=as(N,x),F!=null&&gt.push(al(N,F,L))),Zt)break;N=N.return}0<gt.length&&(z=new B(z,_t,null,a,G),Y.push({event:z,listeners:gt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==bi&&(_t=a.relatedTarget||a.fromElement)&&(Ei(_t)||_t[vn]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(_t=a.relatedTarget||a.toElement,B=U,_t=_t?Ei(_t):null,_t!==null&&(Zt=c(_t),gt=_t.tag,_t!==Zt||gt!==5&&gt!==27&&gt!==6)&&(_t=null)):(B=null,_t=U),B!==_t)){if(gt=An,F="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Do,F="onPointerLeave",x="onPointerEnter",N="pointer"),Zt=B==null?z:Kn(B),L=_t==null?z:Kn(_t),z=new gt(F,N+"leave",B,a,G),z.target=Zt,z.relatedTarget=L,F=null,Ei(G)===U&&(gt=new gt(x,N+"enter",_t,a,G),gt.target=L,gt.relatedTarget=Zt,F=gt),Zt=F,B&&_t)e:{for(gt=B,x=_t,N=0,L=gt;L;L=Ma(L))N++;for(L=0,F=x;F;F=Ma(F))L++;for(;0<N-L;)gt=Ma(gt),N--;for(;0<L-N;)x=Ma(x),L--;for(;N--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=Ma(gt),x=Ma(x)}gt=null}else gt=null;B!==null&&Xy(Y,z,B,gt,!1),_t!==null&&Zt!==null&&Xy(Y,Zt,_t,gt,!0)}}t:{if(z=U?Kn(U):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var ot=mg;else if(Re(z))if(gg)ot=H0;else{ot=j0;var It=B0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&So(U.elementType)&&(ot=mg):ot=q0;if(ot&&(ot=ot(e,U))){Di(Y,ot,a,G);break t}It&&It(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&sr(z,"number",z.value)}switch(It=U?Kn(U):window,e){case"focusin":(Re(It)||It.contentEditable==="true")&&(ua=It,Vh=U,Vo=null);break;case"focusout":Vo=Vh=ua=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Ag(Y,a,G);break;case"selectionchange":if(F0)break;case"keydown":case"keyup":Ag(Y,a,G)}var ut;if(ei)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else xt?q(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(y&&a.locale!=="ko"&&(xt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&xt&&(ut=bo()):(Zn=G,ar="value"in Zn?Zn.value:Zn.textContent,xt=!0)),It=ic(U,pt),0<It.length&&(pt=new Io(pt,e,null,a,G),Y.push({event:pt,listeners:It}),ut?pt.data=ut:(ut=nt(a),ut!==null&&(pt.data=ut)))),(ut=m?we(e,a):kt(e,a))&&(pt=ic(U,"onBeforeInput"),0<pt.length&&(It=new Io("onBeforeInput","beforeinput",null,a,G),Y.push({event:It,listeners:pt}),It.data=ut)),IS(Y,e,U,a,G)}Yy(Y,i)})}function al(e,i,a){return{instance:e,listener:i,currentTarget:a}}function ic(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=as(e,a),h!=null&&o.unshift(al(e,h,f)),h=as(e,i),h!=null&&o.push(al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xy(e,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,b=E.alternate,U=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||U===null||(b=U,h?(U=as(a,f),U!=null&&v.unshift(al(a,U,b))):h||(U=as(a,f),U!=null&&v.push(al(a,U,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var OS=/\r\n?/g,VS=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(OS,`
`).replace(VS,"")}function Zy(e,i){return i=$y(i),$y(e)===i}function rc(){}function $t(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||En(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&En(e,""+o);break;case"className":Xn(e,"class",o);break;case"tabIndex":Xn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(e,a,o);break;case"style":To(e,o,f);break;case"data":if(i!=="object"){Xn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ta(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&$t(e,i,"name",h.name,h,null),$t(e,i,"formEncType",h.formEncType,h,null),$t(e,i,"formMethod",h.formMethod,h,null),$t(e,i,"formTarget",h.formTarget,h,null)):($t(e,i,"encType",h.encType,h,null),$t(e,i,"method",h.method,h,null),$t(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ta(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=rc);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),rr(e,"popover",o);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":rr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wh.get(a)||a,rr(e,a,o))}}function id(e,i,a,o,h,f){switch(a){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?En(e,o):(typeof o=="number"||typeof o=="bigint")&&En(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[pe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):rr(e,a,o)}}}function qe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:$t(e,i,f,v,a,null)}}h&&$t(e,i,"srcSet",a.srcSet,a,null),o&&$t(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=f=v=h=null,b=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":b=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:$t(e,i,o,G,a,null)}}is(e,f,E,b,U,v,h,!1),Js(e);return;case"select":Nt("invalid",e),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:$t(e,i,h,E,a,null)}i=f,a=v,e.multiple=!!o,i!=null?Ai(e,!!o,i,!1):a!=null&&Ai(e,!!o,a,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:$t(e,i,v,E,a,null)}rs(e,o,h,f),Js(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$t(e,i,b,o,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)Nt(sl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:$t(e,i,U,o,a,null)}return;default:if(So(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&id(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&$t(e,i,E,o,a,null))}function MS(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,b=null,U=null,G=null;for(B in a){var Y=a[B];if(a.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Y;default:o.hasOwnProperty(B)||$t(e,i,B,null,o,Y)}}for(var z in o){var B=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(B!=null||Y!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":U=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:B!==Y&&$t(e,i,z,B,o,Y)}}cn(e,v,E,b,U,G,f,h);return;case"select":B=v=E=z=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||$t(e,i,f,null,o,b)}for(h in o)if(f=o[h],b=a[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&$t(e,i,h,f,o,b)}i=E,a=v,o=B,z!=null?Ai(e,!!a,z,!1):!!o!=!!a&&(i!=null?Ai(e,!!a,i,!0):Ai(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&$t(e,i,v,h,o,f)}Kt(e,z,B);return;case"option":for(var _t in a)if(z=a[_t],a.hasOwnProperty(_t)&&z!=null&&!o.hasOwnProperty(_t))switch(_t){case"selected":e.selected=!1;break;default:$t(e,i,_t,null,o,z)}for(b in o)if(z=o[b],B=a[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:$t(e,i,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt)&&$t(e,i,gt,null,o,z);for(U in o)if(z=o[U],B=a[U],o.hasOwnProperty(U)&&z!==B&&(z!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:$t(e,i,U,z,o,B)}return;default:if(So(i)){for(var Zt in a)z=a[Zt],a.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&id(e,i,Zt,void 0,o,z);for(G in o)z=o[G],B=a[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||id(e,i,G,z,o,B);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&$t(e,i,x,null,o,z);for(Y in o)z=o[Y],B=a[Y],!o.hasOwnProperty(Y)||z===B||z==null&&B==null||$t(e,i,Y,z,o,B)}var rd=null,sd=null;function sc(e){return e.nodeType===9?e:e.ownerDocument}function Wy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ad(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var od=null;function xS(){var e=window.event;return e&&e.type==="popstate"?e===od?!1:(od=e,!0):(od=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,kS=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,PS=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(LS)}:t_;function LS(e){setTimeout(function(){throw e})}function Sr(e){return e==="head"}function n_(e,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&ol(v.documentElement),a&2&&ol(v.body),a&4)for(a=v.head,ol(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Jr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),gl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);gl(i)}function ld(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ld(a),ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function US(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Jr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function zS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function BS(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var cd=null;function i_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function r_(e,i,a){switch(i=sc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ol(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ir(e)}var Nn=new Map,s_=new Set;function ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qi=it.d;it.d={f:jS,r:qS,D:HS,C:GS,L:FS,m:QS,X:KS,S:YS,M:XS};function jS(){var e=qi.f(),i=Zu();return e||i}function qS(e){var i=Yn(e);i!==null&&i.tag===5&&i.type==="form"?wp(i):qi.r(e)}var xa=typeof document>"u"?null:document;function a_(e,i,a){var o=xa;if(o&&typeof i=="string"&&i){var h=ye(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),s_.has(h)||(s_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),qe(i,"link",e),fe(i),o.head.appendChild(i)))}}function HS(e){qi.D(e),a_("dns-prefetch",e,null)}function GS(e,i){qi.C(e,i),a_("preconnect",e,i)}function FS(e,i,a){qi.L(e,i,a);var o=xa;if(o&&e&&i){var h='link[rel="preload"][as="'+ye(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ye(a.imageSizes)+'"]')):h+='[href="'+ye(e)+'"]';var f=h;switch(i){case"style":f=ka(e);break;case"script":f=Pa(e)}Nn.has(f)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Nn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(ll(f))||i==="script"&&o.querySelector(ul(f))||(i=o.createElement("link"),qe(i,"link",e),fe(i),o.head.appendChild(i)))}}function QS(e,i){qi.m(e,i);var a=xa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ye(o)+'"][href="'+ye(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!Nn.has(f)&&(e=T({rel:"modulepreload",href:e},i),Nn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ul(f)))return}o=a.createElement("link"),qe(o,"link",e),fe(o),a.head.appendChild(o)}}}function YS(e,i,a){qi.S(e,i,a);var o=xa;if(o&&e){var h=tn(o).hoistableStyles,f=ka(e);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(ll(f)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Nn.get(f))&&hd(e,a);var b=v=o.createElement("link");fe(b),qe(b,"link",e),b._p=new Promise(function(U,G){b.onload=U,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function KS(e,i){qi.X(e,i);var a=xa;if(a&&e){var o=tn(a).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=a.querySelector(ul(h)),f||(e=T({src:e,async:!0},i),(i=Nn.get(h))&&fd(e,i),f=a.createElement("script"),fe(f),qe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function XS(e,i){qi.M(e,i);var a=xa;if(a&&e){var o=tn(a).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=a.querySelector(ul(h)),f||(e=T({src:e,async:!0,type:"module"},i),(i=Nn.get(h))&&fd(e,i),f=a.createElement("script"),fe(f),qe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function o_(e,i,a,o){var h=(h=Et.current)?ac(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=tn(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ka(a.href);var f=tn(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(ll(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(e,a),f||$S(h,e,a,v.state))),i&&o===null)throw Error(r(528,""));return v}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Pa(a),a=tn(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ka(e){return'href="'+ye(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function l_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function $S(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),qe(i,"link",a),fe(i),e.head.appendChild(i))}function Pa(e){return'[src="'+ye(e)+'"]'}function ul(e){return"script[async]"+e}function u_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ye(a.href)+'"]');if(o)return i.instance=o,fe(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),fe(o),qe(o,"style",h),oc(o,a.precedence,e),i.instance=o;case"stylesheet":h=ka(a.href);var f=e.querySelector(ll(h));if(f)return i.state.loading|=4,i.instance=f,fe(f),f;o=l_(a),(h=Nn.get(h))&&hd(o,h),f=(e.ownerDocument||e).createElement("link"),fe(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),qe(f,"link",o),i.state.loading|=4,oc(f,a.precedence,e),i.instance=f;case"script":return f=Pa(a.src),(h=e.querySelector(ul(f)))?(i.instance=h,fe(h),h):(o=a,(h=Nn.get(f))&&(o=T({},a),fd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),qe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,oc(o,a.precedence,e));return i.instance}function oc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function hd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function fd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var lc=null;function c_(e,i,a){if(lc===null){var o=new Map,h=lc=new Map;h.set(a,o)}else h=lc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Jr]||f[be]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function h_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function ZS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function f_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var cl=null;function WS(){}function JS(e,i,a){if(cl===null)throw Error(r(475));var o=cl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ka(a.href),f=e.querySelector(ll(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=uc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,fe(f);return}f=e.ownerDocument||e,a=l_(a),(h=Nn.get(h))&&hd(a,h),f=f.createElement("link"),fe(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),qe(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=uc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function tA(){if(cl===null)throw Error(r(475));var e=cl;return e.stylesheets&&e.count===0&&dd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&dd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function uc(){if(this.count--,this.count===0){if(this.stylesheets)dd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function dd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,i.forEach(eA,e),cc=null,uc.call(e))}function eA(e,i){if(!(i.state.loading&4)){var a=cc.get(e);if(a)var o=a.get(null);else{a=new Map,cc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=uc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var hl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function nA(e,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function d_(e,i,a,o,h,f,v,E,b,U,G,Y){return e=new nA(e,i,a,v,E,b,U,Y),i=1,f===!0&&(i|=24),f=fn(3,null,null,i),e.current=f,f.stateNode=e,i=Yh(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Zh(f),e}function m_(e){return e?(e=da,e):da}function g_(e,i,a,o,h,f){h=m_(h),o.context===null?o.context=h:o.pendingContext=h,o=ur(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=cr(e,o,i),a!==null&&(yn(a,e,i),jo(a,e,i))}function p_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function md(e,i){p_(e,i),(e=e.alternate)&&p_(e,i)}function y_(e){if(e.tag===13){var i=fa(e,67108864);i!==null&&yn(i,e,67108864),md(e,67108864)}}var hc=!0;function iA(e,i,a,o){var h=H.T;H.T=null;var f=it.p;try{it.p=2,gd(e,i,a,o)}finally{it.p=f,H.T=h}}function rA(e,i,a,o){var h=H.T;H.T=null;var f=it.p;try{it.p=8,gd(e,i,a,o)}finally{it.p=f,H.T=h}}function gd(e,i,a,o){if(hc){var h=pd(o);if(h===null)nd(e,i,o,fc,a),v_(e,o);else if(aA(h,e,i,a,o))o.stopPropagation();else if(v_(e,o),i&4&&-1<sA.indexOf(e)){for(;h!==null;){var f=Yn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=xn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-Qe(v);E.entanglements[1]|=b,v&=~b}oi(f),(Qt&6)===0&&(Xu=_n()+500,rl(0))}}break;case 13:E=fa(f,2),E!==null&&yn(E,f,2),Zu(),md(f,2)}if(f=pd(o),f===null&&nd(e,i,o,fc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else nd(e,i,o,null,a)}}function pd(e){return e=Tn(e),yd(e)}var fc=null;function yd(e){if(fc=null,e=Ei(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return fc=e,null}function __(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vh()){case lo:return 2;case Fs:return 8;case Kr:case Eh:return 32;case Qs:return 268435456;default:return 32}default:return 32}}var _d=!1,Ar=null,br=null,wr=null,fl=new Map,dl=new Map,Rr=[],sA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v_(e,i){switch(e){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(i.pointerId)}}function ml(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Yn(i),i!==null&&y_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function aA(e,i,a,o,h){switch(i){case"focusin":return Ar=ml(Ar,e,i,a,o,h),!0;case"dragenter":return br=ml(br,e,i,a,o,h),!0;case"mouseover":return wr=ml(wr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,i,a,o,h)),!0}return!1}function E_(e){var i=Ei(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Zl(e.priority,function(){if(a.tag===13){var o=pn();o=tr(o);var h=fa(a,o);h!==null&&yn(h,a,o),md(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=pd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);bi=o,a.target.dispatchEvent(o),bi=null}else return i=Yn(a),i!==null&&y_(i),e.blockedOn=a,!1;i.shift()}return!0}function T_(e,i,a){dc(e)&&a.delete(i)}function oA(){_d=!1,Ar!==null&&dc(Ar)&&(Ar=null),br!==null&&dc(br)&&(br=null),wr!==null&&dc(wr)&&(wr=null),fl.forEach(T_),dl.forEach(T_)}function mc(e,i){e.blockedOn===i&&(e.blockedOn=null,_d||(_d=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,oA)))}var gc=null;function S_(e){gc!==e&&(gc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(yd(o||a)===null)continue;break}var f=Yn(a);f!==null&&(e.splice(i,3),i-=3,yf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function gl(e){function i(b){return mc(b,e)}Ar!==null&&mc(Ar,e),br!==null&&mc(br,e),wr!==null&&mc(wr,e),fl.forEach(i),dl.forEach(i);for(var a=0;a<Rr.length;a++){var o=Rr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Rr.length&&(a=Rr[0],a.blockedOn===null);)E_(a),a.blockedOn===null&&Rr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[pe]||null;if(typeof f=="function")v||S_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[pe]||null)E=v.formAction;else if(yd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),S_(a)}}}function vd(e){this._internalRoot=e}pc.prototype.render=vd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=pn();g_(a,o,e,i,null,null)},pc.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;g_(e.current,2,null,e,null,null),Zu(),i[vn]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var i=er();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Rr.length&&i!==0&&i<Rr[a].priority;a++);Rr.splice(a,0,e),a===0&&E_(e)}};var A_=t.version;if(A_!=="19.1.1")throw Error(r(527,A_,"19.1.1"));it.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var lA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{le=yc.inject(lA),Ft=yc}catch{}}return yl.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=zp,f=Bp,v=jp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=d_(e,1,!1,null,null,a,o,h,f,v,E,null),e[vn]=i.current,ed(e),new vd(i)},yl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=zp,v=Bp,E=jp,b=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),i=d_(e,1,!0,i,a??null,o,h,f,v,E,b,U),i.context=m_(null),a=i.current,o=pn(),o=tr(o),h=ur(o),h.callback=null,cr(a,h,o),a=o,i.current.lanes=a,vi(i,a),oi(i),e[vn]=i.current,ed(e),new pc(i)},yl.version="19.1.1",yl}var M_;function _A(){if(M_)return Sd.exports;M_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Sd.exports=yA(),Sd.exports}var vA=_A();const EA=dE(vA),TA=()=>{};var x_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},SA=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],g=s[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const c=s[n++],d=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,T=c>>2,w=(c&3)<<4|g>>4;let C=(g&15)<<2|_>>6,j=_&63;p||(j=64,d||(C=64)),r.push(n[T],n[w],n[C],n[j])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(mE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):SA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const _=l<s.length?n[s.charAt(l)]:64;++l;const w=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||w==null)throw new AA;const C=c<<2|g>>4;if(r.push(C),_!==64){const j=g<<4&240|_>>2;if(r.push(j),w!==64){const X=_<<6&192|w;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class AA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bA=function(s){const t=mE(s);return gE.encodeByteArray(t,!0)},Pc=function(s){return bA(s).replace(/\./g,"")},pE=function(s){try{return gE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=()=>wA().__FIREBASE_DEFAULTS__,IA=()=>{if(typeof process>"u"||typeof x_>"u")return;const s=x_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},CA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&pE(s[1]);return t&&JSON.parse(t)},eh=()=>{try{return TA()||RA()||IA()||CA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},yE=s=>eh()?.emulatorHosts?.[s],_E=s=>{const t=yE(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},vE=()=>eh()?.config,EE=s=>eh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mm(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Pc(JSON.stringify(n)),Pc(JSON.stringify(d)),""].join(".")}const Al={};function OA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?s.emulator.push(t):s.prod.push(t);return s}function VA(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let k_=!1;function gm(s,t){if(typeof window>"u"||typeof document>"u"||!zs(window.location.host)||Al[s]===t||Al[s]||k_)return;Al[s]=t;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",c=OA().prod.length>0;function d(){const C=document.getElementById(r);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,j){C.setAttribute("width","24"),C.setAttribute("id",j),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{k_=!0,d()},C}function T(C,j){C.setAttribute("id",j),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function w(){const C=VA(r),j=n("text"),X=document.getElementById(j)||document.createElement("span"),J=n("learnmore"),W=document.getElementById(J)||document.createElement("a"),lt=n("preprendIcon"),ct=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ht=C.element;g(ht),T(W,J);const Gt=_();p(ct,lt),ht.append(ct,X,W,Gt),document.body.appendChild(ht)}c?(X.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function xA(){const s=eh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function LA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UA(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function zA(){return!xA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BA(){try{return typeof indexedDB=="object"}catch{return!1}}function jA(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="FirebaseError";class Wi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=qA,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?HA(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Wi(l,g,r)}}function HA(s,t){return s.replace(GA,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const GA=/\{\$([^}]+)}/g;function FA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function xs(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(P_(c)&&P_(d)){if(!xs(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function P_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function QA(s,t){const n=new YA(s,t);return n.subscribe.bind(n)}class YA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");KA(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=Rd),l.error===void 0&&(l.error=Rd),l.complete===void 0&&(l.complete=Rd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KA(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Rd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(s){return s&&s._delegate?s._delegate:s}class Ur{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new DA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZA(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$A(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $A(s){return s===Ds?void 0:s}function ZA(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new XA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const JA={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},t1=Ot.INFO,e1={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},n1=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=e1[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pm{constructor(t){this.name=t,this._logLevel=t1,this._logHandler=n1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?JA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const i1=(s,t)=>t.some(n=>s instanceof n);let L_,U_;function r1(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s1(){return U_||(U_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,zd=new WeakMap,SE=new WeakMap,Id=new WeakMap,ym=new WeakMap;function a1(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(Mr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&TE.set(n,s)}).catch(()=>{}),ym.set(t,s),t}function o1(s){if(zd.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});zd.set(s,t)}let Bd={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return zd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||SE.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function l1(s){Bd=s(Bd)}function u1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Cd(this),t,...n);return SE.set(r,t.sort?t.sort():[t]),Mr(r)}:s1().includes(s)?function(...t){return s.apply(Cd(this),t),Mr(TE.get(this))}:function(...t){return Mr(s.apply(Cd(this),t))}}function c1(s){return typeof s=="function"?u1(s):(s instanceof IDBTransaction&&o1(s),i1(s,r1())?new Proxy(s,Bd):s)}function Mr(s){if(s instanceof IDBRequest)return a1(s);if(Id.has(s))return Id.get(s);const t=c1(s);return t!==s&&(Id.set(s,t),ym.set(t,s)),t}const Cd=s=>ym.get(s);function h1(s,t,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=Mr(d);return r&&d.addEventListener("upgradeneeded",p=>{r(Mr(d.result),p.oldVersion,p.newVersion,Mr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const f1=["get","getKey","getAll","getAllKeys","count"],d1=["put","add","delete","clear"],Dd=new Map;function z_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=d1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||f1.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Dd.set(t,c),c}l1(s=>({...s,get:(t,n,r)=>z_(t,n)||s.get(t,n,r),has:(t,n)=>!!z_(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function g1(s){return s.getComponent()?.type==="VERSION"}const jd="@firebase/app",B_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new pm("@firebase/app"),p1="@firebase/app-compat",y1="@firebase/analytics-compat",_1="@firebase/analytics",v1="@firebase/app-check-compat",E1="@firebase/app-check",T1="@firebase/auth",S1="@firebase/auth-compat",A1="@firebase/database",b1="@firebase/data-connect",w1="@firebase/database-compat",R1="@firebase/functions",I1="@firebase/functions-compat",C1="@firebase/installations",D1="@firebase/installations-compat",N1="@firebase/messaging",O1="@firebase/messaging-compat",V1="@firebase/performance",M1="@firebase/performance-compat",x1="@firebase/remote-config",k1="@firebase/remote-config-compat",P1="@firebase/storage",L1="@firebase/storage-compat",U1="@firebase/firestore",z1="@firebase/ai",B1="@firebase/firestore-compat",j1="firebase",q1="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="[DEFAULT]",H1={[jd]:"fire-core",[p1]:"fire-core-compat",[_1]:"fire-analytics",[y1]:"fire-analytics-compat",[E1]:"fire-app-check",[v1]:"fire-app-check-compat",[T1]:"fire-auth",[S1]:"fire-auth-compat",[A1]:"fire-rtdb",[b1]:"fire-data-connect",[w1]:"fire-rtdb-compat",[R1]:"fire-fn",[I1]:"fire-fn-compat",[C1]:"fire-iid",[D1]:"fire-iid-compat",[N1]:"fire-fcm",[O1]:"fire-fcm-compat",[V1]:"fire-perf",[M1]:"fire-perf-compat",[x1]:"fire-rc",[k1]:"fire-rc-compat",[P1]:"fire-gcs",[L1]:"fire-gcs-compat",[U1]:"fire-fst",[B1]:"fire-fst-compat",[z1]:"fire-vertex","fire-js":"fire-js",[j1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,G1=new Map,Hd=new Map;function j_(s,t){try{s.container.addComponent(t)}catch(n){Yi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function ks(s){const t=s.name;if(Hd.has(t))return Yi.debug(`There were multiple attempts to register component ${t}.`),!1;Hd.set(t,s);for(const n of Lc.values())j_(n,s);for(const n of G1.values())j_(n,s);return!0}function nh(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function On(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Ul("app","Firebase",F1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=q1;function AE(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:qd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw xr.create("bad-app-name",{appName:String(l)});if(n||(n=vE()),!n)throw xr.create("no-options");const c=Lc.get(l);if(c){if(xs(n,c.options)&&xs(r,c.config))return c;throw xr.create("duplicate-app",{appName:l})}const d=new WA(l);for(const p of Hd.values())d.addComponent(p);const g=new Q1(n,r,d);return Lc.set(l,g),g}function _m(s=qd){const t=Lc.get(s);if(!t&&s===qd&&vE())return AE();if(!t)throw xr.create("no-app",{appName:s});return t}function ui(s,t,n){let r=H1[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yi.warn(d.join(" "));return}ks(new Ur(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="firebase-heartbeat-database",K1=1,Dl="firebase-heartbeat-store";let Nd=null;function bE(){return Nd||(Nd=h1(Y1,K1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(s=>{throw xr.create("idb-open",{originalErrorMessage:s.message})})),Nd}async function X1(s){try{const n=(await bE()).transaction(Dl),r=await n.objectStore(Dl).get(wE(s));return await n.done,r}catch(t){if(t instanceof Wi)Yi.warn(t.message);else{const n=xr.create("idb-get",{originalErrorMessage:t?.message});Yi.warn(n.message)}}}async function q_(s,t){try{const r=(await bE()).transaction(Dl,"readwrite");await r.objectStore(Dl).put(t,wE(s)),await r.done}catch(n){if(n instanceof Wi)Yi.warn(n.message);else{const r=xr.create("idb-set",{originalErrorMessage:n?.message});Yi.warn(r.message)}}}function wE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=1024,Z1=30;class W1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=H_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Z1){const l=eb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Yi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H_(),{heartbeatsToSend:n,unsentEntries:r}=J1(this._heartbeatsCache.heartbeats),l=Pc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Yi.warn(t),""}}}function H_(){return new Date().toISOString().substring(0,10)}function J1(s,t=$1){const n=[];let r=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),G_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),G_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BA()?jA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await X1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function G_(s){return Pc(JSON.stringify({version:2,heartbeats:s})).length}function eb(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(s){ks(new Ur("platform-logger",t=>new m1(t),"PRIVATE")),ks(new Ur("heartbeat",t=>new W1(t),"PRIVATE")),ui(jd,B_,s),ui(jd,B_,"esm2020"),ui("fire-js","")}nb("");function RE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ib=RE,IE=new Ul("auth","Firebase",RE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new pm("@firebase/auth");function rb(s,...t){Uc.logLevel<=Ot.WARN&&Uc.warn(`Auth (${Ja}): ${s}`,...t)}function wc(s,...t){Uc.logLevel<=Ot.ERROR&&Uc.error(`Auth (${Ja}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(s,...t){throw Em(s,...t)}function qn(s,...t){return Em(s,...t)}function vm(s,t,n){const r={...ib(),[t]:n};return new Ul("auth","Firebase",r).create(t,{appName:s.name})}function Vs(s){return vm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sb(s,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&gi(s,"argument-error"),vm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Em(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return IE.create(s,...t)}function vt(s,t,...n){if(!s)throw Em(t,...n)}function Gi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw wc(t),new Error(t)}function Ki(s,t){s||Gi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){return typeof self<"u"&&self.location?.href||""}function ab(){return F_()==="http:"||F_()==="https:"}function F_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ab()||PA()||"connection"in navigator)?navigator.onLine:!0}function lb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ki(n>t,"Short delay should be less than long delay!"),this.isMobile=MA()||LA()}get(){return ob()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(s,t){Ki(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hb=new Bl(3e4,6e4);function Sm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function to(s,t,n,r,l={}){return DE(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=zl({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:p,...c};return kA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&zs(s.emulatorConfig.host)&&(_.credentials="include"),CE.fetch()(await NE(s,s.config.apiHost,n,g),_)})}async function DE(s,t,n){s._canInitEmulator=!1;const r={...ub,...t};try{const l=new db(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw _c(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw _c(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw _c(s,"user-disabled",d);const T=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw vm(s,T,_);gi(s,T)}}catch(l){if(l instanceof Wi)throw l;gi(s,"network-request-failed",{message:String(l)})}}async function fb(s,t,n,r,l={}){const c=await to(s,t,n,r,l);return"mfaPendingCredential"in c&&gi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function NE(s,t,n,r){const l=`${t}${n}?${r}`,c=s,d=c.config.emulator?Tm(s.config,l):`${s.config.apiScheme}://${l}`;return cb.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class db{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qn(this.auth,"network-request-failed")),hb.get())})}}function _c(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=qn(s,t,r);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(s,t){return to(s,"POST","/v1/accounts:delete",t)}async function zc(s,t){return to(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gb(s,t=!1){const n=Je(s),r=await n.getIdToken(t),l=Am(r);vt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:bl(Od(l.auth_time)),issuedAtTime:bl(Od(l.iat)),expirationTime:bl(Od(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Od(s){return Number(s)*1e3}function Am(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const l=pE(n);return l?JSON.parse(l):(wc("Failed to decode base64 JWT payload"),null)}catch(l){return wc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Q_(s){const t=Am(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Wi&&pb(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function pb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(s){const t=s.auth,n=await s.getIdToken(),r=await Nl(s,zc(t,{idToken:n}));vt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?OE(l.providerUserInfo):[],d=vb(s.providerData,c),g=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!d?.length,_=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Fd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function _b(s){const t=Je(s);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vb(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function OE(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(s,t){const n=await DE(s,{},async()=>{const r=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await NE(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&zs(s.emulatorConfig.host)&&(p.credentials="include"),CE.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Tb(s,t){return to(s,"POST","/v2/accounts:revokeToken",Sm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Q_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=Q_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await Eb(t,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new ja;return r&&(vt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Bn{constructor({uid:t,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new yb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Fd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return gb(this,t)}reload(){return _b(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Vs(this.auth));const t=await this.getIdToken();return await Nl(this,mb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:C,isAnonymous:j,providerData:X,stsTokenManager:J}=n;vt(w&&J,t,"internal-error");const W=ja.fromJSON(this.name,J);vt(typeof w=="string",t,"internal-error"),Cr(r,t.name),Cr(l,t.name),vt(typeof C=="boolean",t,"internal-error"),vt(typeof j=="boolean",t,"internal-error"),Cr(c,t.name),Cr(d,t.name),Cr(g,t.name),Cr(p,t.name),Cr(_,t.name),Cr(T,t.name);const lt=new Bn({uid:w,auth:t,email:l,emailVerified:C,displayName:r,isAnonymous:j,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:_,lastLoginAt:T});return X&&Array.isArray(X)&&(lt.providerData=X.map(ct=>({...ct}))),p&&(lt._redirectEventId=p),lt}static async _fromIdTokenResponse(t,n,r=!1){const l=new ja;l.updateFromServerResponse(n);const c=new Bn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Bc(c),c}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?OE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new ja;g.updateFromIdToken(r);const p=new Bn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Fd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;function Fi(s){Ki(s instanceof Function,"Expected a class definition");let t=Y_.get(s);return t?(Ki(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Y_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}VE.type="NONE";const K_=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(s,t,n){return`firebase:${s}:${t}:${n}`}class qa{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Rc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await zc(this.auth,{idToken:t}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,t):null}return Bn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new qa(Fi(K_),t,r);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Fi(K_);const d=Rc(r,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const T=await _._get(d);if(T){let w;if(typeof T=="string"){const C=await zc(t,{idToken:T}).catch(()=>{});if(!C)break;w=await Bn._fromGetAccountInfoResponse(t,C,T)}else w=Bn._fromJSON(t,T);_!==c&&(g=w),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new qa(c,t,r):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new qa(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ME(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(UE(t))return"Blackberry";if(zE(t))return"Webos";if(xE(t))return"Safari";if((t.includes("chrome/")||kE(t))&&!t.includes("edge/"))return"Chrome";if(LE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function ME(s=We()){return/firefox\//i.test(s)}function xE(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kE(s=We()){return/crios\//i.test(s)}function PE(s=We()){return/iemobile/i.test(s)}function LE(s=We()){return/android/i.test(s)}function UE(s=We()){return/blackberry/i.test(s)}function zE(s=We()){return/webos/i.test(s)}function bm(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Sb(s=We()){return bm(s)&&!!window.navigator?.standalone}function Ab(){return UA()&&document.documentMode===10}function BE(s=We()){return bm(s)||LE(s)||zE(s)||UE(s)||/windows phone/i.test(s)||PE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(s,t=[]){let n;switch(s){case"Browser":n=X_(We());break;case"Worker":n=`${X_(We())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ja}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(s,t={}){return to(s,"GET","/v2/passwordPolicy",Sm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=6;class Ib{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Rb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new bb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await zc(this,{idToken:t}),r=await Bn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(On(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(On(this.app))return Promise.reject(Vs(this));const n=t?Je(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return On(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wb(this),n=new Ib(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Tb(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Fi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,r,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&rb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ih(s){return Je(s)}class $_{constructor(t){this.auth=t,this.observer=null,this.addObserver=QA(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Db(s){wm=s}function Nb(s){return wm.loadJS(s)}function Ob(){return wm.gapiScript}function Vb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(s,t){const n=nh(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(xs(c,t??{}))return l;gi(l,"already-initialized")}return n.initialize({options:t})}function xb(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function kb(s,t,n){const r=ih(s);vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=qE(t),{host:d,port:g}=Pb(t),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(xs(_,r.config.emulator)&&xs(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,zs(d)?(mm(`${c}//${d}${p}`),gm("Auth",!0)):Lb()}function qE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Pb(s){const t=qE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Z_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Z_(d)}}}function Z_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Lb(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(t){return Gi("not implemented")}_linkToIdToken(t,n){return Gi("not implemented")}_getReauthenticationResolver(t){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(s,t){return fb(s,"POST","/v1/accounts:signInWithIdp",Sm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="http://localhost";class Ps extends HE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new Ps(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Ha(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ha(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ha(t,n)}buildRequest(){const t={requestUri:Ub,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=zl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Rm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends jl{constructor(){super("facebook.com")}static credential(t){return Ps._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dr.credential(t.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ps._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Hi.credentialFromTaggedObject(t)}static credentialFromError(t){return Hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends jl{constructor(){super("github.com")}static credential(t){return Ps._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends jl{constructor(){super("twitter.com")}static credential(t,n){return Ps._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const c=await Bn._fromIdTokenResponse(t,r,l),d=W_(r);return new Qa({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=W_(r);return new Qa({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function W_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends Wi{constructor(t,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new jc(t,n,r,l)}}function GE(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?jc._fromErrorAndOperation(s,c,t,r):c})}async function zb(s,t,n=!1){const r=await Nl(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Qa._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(s,t,n=!1){const{auth:r}=s;if(On(r.app))return Promise.reject(Vs(r));const l="reauthenticate";try{const c=await Nl(s,GE(r,l,t,s),n);vt(c.idToken,r,"internal-error");const d=Am(c.idToken);vt(d,r,"internal-error");const{sub:g}=d;return vt(s.uid===g,r,"user-mismatch"),Qa._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&gi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(s,t,n=!1){if(On(s.app))return Promise.reject(Vs(s));const r="signIn",l=await GE(s,r,t),c=await Qa._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}function qb(s,t,n,r){return Je(s).onIdTokenChanged(t,n,r)}function Hb(s,t,n){return Je(s).beforeAuthStateChanged(t,n)}function Gb(s,t,n,r){return Je(s).onAuthStateChanged(t,n,r)}function Fb(s){return Je(s).signOut()}const qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qc,"1"),this.storage.removeItem(qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=1e3,Yb=10;class QE extends FE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Ab()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Yb):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Qb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}QE.type="LOCAL";const Kb=QE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends FE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}YE.type="SESSION";const KE=YE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new rh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,c)),p=await Xb(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=Im("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const C=w;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function Zb(s){ci().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function Wb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jb(){return navigator?.serviceWorker?.controller||null}function tw(){return XE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="firebaseLocalStorageDb",ew=1,Hc="firebaseLocalStorage",ZE="fbase_key";class ql{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sh(s,t){return s.transaction([Hc],t?"readwrite":"readonly").objectStore(Hc)}function nw(){const s=indexedDB.deleteDatabase($E);return new ql(s).toPromise()}function Qd(){const s=indexedDB.open($E,ew);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Hc,{keyPath:ZE})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Hc)?t(r):(r.close(),await nw(),t(await Qd()))})})}async function J_(s,t,n){const r=sh(s,!0).put({[ZE]:t,value:n});return new ql(r).toPromise()}async function iw(s,t){const n=sh(s,!1).get(t),r=await new ql(n).toPromise();return r===void 0?null:r.value}function tv(s,t){const n=sh(s,!0).delete(t);return new ql(n).toPromise()}const rw=800,sw=3;class WE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>sw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(tw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Wb(),!this.activeServiceWorker)return;this.sender=new $b(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Jb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qd();return await J_(t,qc,"1"),await tv(t,qc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J_(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>iw(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=sh(l,!1).getAll();return new ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WE.type="LOCAL";const aw=WE;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(s,t){return t?Fi(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends HE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ha(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ha(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ha(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ow(s){return jb(s.auth,new Cm(s),s.bypassAuthState)}function lw(s){const{auth:t,user:n}=s;return vt(n,t,"internal-error"),Bb(n,new Cm(s),s.bypassAuthState)}async function uw(s){const{auth:t,user:n}=s;return vt(n,t,"internal-error"),zb(n,new Cm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(t,n,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ow;case"linkViaPopup":case"linkViaRedirect":return uw;case"reauthViaPopup":case"reauthViaRedirect":return lw;default:gi(this.auth,"internal-error")}}resolve(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new Bl(2e3,1e4);async function hw(s,t,n){if(On(s.app))return Promise.reject(qn(s,"operation-not-supported-in-this-environment"));const r=ih(s);sb(s,t,Rm);const l=JE(r,n);return new Ns(r,"signInViaPopup",t,l).executeNotNull()}class Ns extends tT{constructor(t,n,r,l,c){super(t,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cw.get())};t()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="pendingRedirect",Ic=new Map;class dw extends tT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Ic.get(this.auth._key());if(!t){try{const r=await mw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Ic.set(this.auth._key(),t)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mw(s,t){const n=yw(t),r=pw(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function gw(s,t){Ic.set(s._key(),t)}function pw(s){return Fi(s._redirectPersistence)}function yw(s){return Rc(fw,s.config.apiKey,s.name)}async function _w(s,t,n=!1){if(On(s.app))return Promise.reject(Vs(s));const r=ih(s),l=JE(r,t),d=await new dw(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=600*1e3;class Ew{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Tw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!eT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(qn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vw&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(t))}saveEventToCache(t){this.cachedEventUids.add(ev(t)),this.lastProcessedEventTime=Date.now()}}function ev(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function eT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Tw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(s,t={}){return to(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bw=/^https?/;async function ww(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Sw(s);for(const n of t)try{if(Rw(n))return}catch{}gi(s,"unauthorized-domain")}function Rw(s){const t=Gd(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!bw.test(n))return!1;if(Aw.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new Bl(3e4,6e4);function nv(){const s=ci().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Cw(s){return new Promise((t,n)=>{function r(){nv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nv(),n(qn(s,"network-request-failed"))},timeout:Iw.get()})}if(ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ci().gapi?.load)r();else{const l=Vb("iframefcb");return ci()[l]=()=>{gapi.load?r():n(qn(s,"network-request-failed"))},Nb(`${Ob()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Cc=null,t})}let Cc=null;function Dw(s){return Cc=Cc||Cw(s),Cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Bl(5e3,15e3),Ow="__/auth/iframe",Vw="emulator/auth/iframe",Mw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kw(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Tm(t,Vw):`https://${s.config.authDomain}/${Ow}`,r={apiKey:t.apiKey,appName:s.name,v:Ja},l=xw.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${zl(r).slice(1)}`}async function Pw(s){const t=await Dw(s),n=ci().gapi;return vt(n,s,"internal-error"),t.open({where:document.body,url:kw(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=qn(s,"network-request-failed"),g=ci().setTimeout(()=>{c(d)},Nw.get());function p(){ci().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uw=500,zw=600,Bw="_blank",jw="http://localhost";class iv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qw(s,t,n,r=Uw,l=zw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...Lw,width:r.toString(),height:l.toString(),top:c,left:d},_=We().toLowerCase();n&&(g=kE(_)?Bw:n),ME(_)&&(t=t||jw,p.scrollbars="yes");const T=Object.entries(p).reduce((C,[j,X])=>`${C}${j}=${X},`,"");if(Sb(_)&&g!=="_self")return Hw(t||"",g),new iv(null);const w=window.open(t||"",g,T);vt(w,s,"popup-blocked");try{w.focus()}catch{}return new iv(w)}function Hw(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="__/auth/handler",Fw="emulator/auth/handler",Qw=encodeURIComponent("fac");async function rv(s,t,n,r,l,c){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Ja,eventId:l};if(t instanceof Rm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",FA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(t instanceof jl){const T=t.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await s._getAppCheckToken(),_=p?`#${Qw}=${encodeURIComponent(p)}`:"";return`${Yw(s)}?${zl(g).slice(1)}${_}`}function Yw({config:s}){return s.emulator?Tm(s,Fw):`https://${s.authDomain}/${Gw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class Kw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KE,this._completeRedirectFn=_w,this._overrideRedirectResult=gw}async _openPopup(t,n,r,l){Ki(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await rv(t,n,r,Gd(),l);return qw(t,c,Im())}async _openRedirect(t,n,r,l){await this._originValidation(t);const c=await rv(t,n,r,Gd(),l);return Zb(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Ki(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Pw(t),r=new Ew(t);return n.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Vd,{type:Vd},l=>{const c=l?.[0]?.[Vd];c!==void 0&&n(!!c),gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ww(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return BE()||xE()||bm()}}const Xw=Kw;var sv="@firebase/auth",av="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ww(s){ks(new Ur("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jE(s)},_=new Cb(r,l,c,p);return xb(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ks(new Ur("auth-internal",t=>{const n=ih(t.getProvider("auth").getImmediate());return(r=>new $w(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(sv,av,Zw(s)),ui(sv,av,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=300,tR=EE("authIdTokenMaxAge")||Jw;let ov=null;const eR=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tR)return;const l=n?.token;ov!==l&&(ov=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function nR(s=_m()){const t=nh(s,"auth");if(t.isInitialized())return t.getImmediate();const n=Mb(s,{popupRedirectResolver:Xw,persistence:[aw,Kb,KE]}),r=EE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=eR(c.toString());Hb(n,d,()=>d(n.currentUser)),qb(n,g=>d(g))}}const l=yE("auth");return l&&kb(n,`http://${l}`),n}function iR(){return document.getElementsByTagName("head")?.[0]??document}Db({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=qn("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",iR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ww("Browser");var rR="firebase",sR="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(rR,sR,"app");var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,nT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,A){function I(){}I.prototype=A.prototype,M.D=A.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(O,V,k){for(var R=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)R[Le-2]=arguments[Le];return A.prototype[V].apply(O,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,A,I){I||(I=0);var O=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)O[V]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(V=0;16>V;++V)O[V]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=M.g[0],I=M.g[1],V=M.g[2];var k=M.g[3],R=A+(k^I&(V^k))+O[0]+3614090360&4294967295;A=I+(R<<7&4294967295|R>>>25),R=k+(V^A&(I^V))+O[1]+3905402710&4294967295,k=A+(R<<12&4294967295|R>>>20),R=V+(I^k&(A^I))+O[2]+606105819&4294967295,V=k+(R<<17&4294967295|R>>>15),R=I+(A^V&(k^A))+O[3]+3250441966&4294967295,I=V+(R<<22&4294967295|R>>>10),R=A+(k^I&(V^k))+O[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=k+(V^A&(I^V))+O[5]+1200080426&4294967295,k=A+(R<<12&4294967295|R>>>20),R=V+(I^k&(A^I))+O[6]+2821735955&4294967295,V=k+(R<<17&4294967295|R>>>15),R=I+(A^V&(k^A))+O[7]+4249261313&4294967295,I=V+(R<<22&4294967295|R>>>10),R=A+(k^I&(V^k))+O[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=k+(V^A&(I^V))+O[9]+2336552879&4294967295,k=A+(R<<12&4294967295|R>>>20),R=V+(I^k&(A^I))+O[10]+4294925233&4294967295,V=k+(R<<17&4294967295|R>>>15),R=I+(A^V&(k^A))+O[11]+2304563134&4294967295,I=V+(R<<22&4294967295|R>>>10),R=A+(k^I&(V^k))+O[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=k+(V^A&(I^V))+O[13]+4254626195&4294967295,k=A+(R<<12&4294967295|R>>>20),R=V+(I^k&(A^I))+O[14]+2792965006&4294967295,V=k+(R<<17&4294967295|R>>>15),R=I+(A^V&(k^A))+O[15]+1236535329&4294967295,I=V+(R<<22&4294967295|R>>>10),R=A+(V^k&(I^V))+O[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=k+(I^V&(A^I))+O[6]+3225465664&4294967295,k=A+(R<<9&4294967295|R>>>23),R=V+(A^I&(k^A))+O[11]+643717713&4294967295,V=k+(R<<14&4294967295|R>>>18),R=I+(k^A&(V^k))+O[0]+3921069994&4294967295,I=V+(R<<20&4294967295|R>>>12),R=A+(V^k&(I^V))+O[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=k+(I^V&(A^I))+O[10]+38016083&4294967295,k=A+(R<<9&4294967295|R>>>23),R=V+(A^I&(k^A))+O[15]+3634488961&4294967295,V=k+(R<<14&4294967295|R>>>18),R=I+(k^A&(V^k))+O[4]+3889429448&4294967295,I=V+(R<<20&4294967295|R>>>12),R=A+(V^k&(I^V))+O[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=k+(I^V&(A^I))+O[14]+3275163606&4294967295,k=A+(R<<9&4294967295|R>>>23),R=V+(A^I&(k^A))+O[3]+4107603335&4294967295,V=k+(R<<14&4294967295|R>>>18),R=I+(k^A&(V^k))+O[8]+1163531501&4294967295,I=V+(R<<20&4294967295|R>>>12),R=A+(V^k&(I^V))+O[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=k+(I^V&(A^I))+O[2]+4243563512&4294967295,k=A+(R<<9&4294967295|R>>>23),R=V+(A^I&(k^A))+O[7]+1735328473&4294967295,V=k+(R<<14&4294967295|R>>>18),R=I+(k^A&(V^k))+O[12]+2368359562&4294967295,I=V+(R<<20&4294967295|R>>>12),R=A+(I^V^k)+O[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=k+(A^I^V)+O[8]+2272392833&4294967295,k=A+(R<<11&4294967295|R>>>21),R=V+(k^A^I)+O[11]+1839030562&4294967295,V=k+(R<<16&4294967295|R>>>16),R=I+(V^k^A)+O[14]+4259657740&4294967295,I=V+(R<<23&4294967295|R>>>9),R=A+(I^V^k)+O[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=k+(A^I^V)+O[4]+1272893353&4294967295,k=A+(R<<11&4294967295|R>>>21),R=V+(k^A^I)+O[7]+4139469664&4294967295,V=k+(R<<16&4294967295|R>>>16),R=I+(V^k^A)+O[10]+3200236656&4294967295,I=V+(R<<23&4294967295|R>>>9),R=A+(I^V^k)+O[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=k+(A^I^V)+O[0]+3936430074&4294967295,k=A+(R<<11&4294967295|R>>>21),R=V+(k^A^I)+O[3]+3572445317&4294967295,V=k+(R<<16&4294967295|R>>>16),R=I+(V^k^A)+O[6]+76029189&4294967295,I=V+(R<<23&4294967295|R>>>9),R=A+(I^V^k)+O[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=k+(A^I^V)+O[12]+3873151461&4294967295,k=A+(R<<11&4294967295|R>>>21),R=V+(k^A^I)+O[15]+530742520&4294967295,V=k+(R<<16&4294967295|R>>>16),R=I+(V^k^A)+O[2]+3299628645&4294967295,I=V+(R<<23&4294967295|R>>>9),R=A+(V^(I|~k))+O[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=k+(I^(A|~V))+O[7]+1126891415&4294967295,k=A+(R<<10&4294967295|R>>>22),R=V+(A^(k|~I))+O[14]+2878612391&4294967295,V=k+(R<<15&4294967295|R>>>17),R=I+(k^(V|~A))+O[5]+4237533241&4294967295,I=V+(R<<21&4294967295|R>>>11),R=A+(V^(I|~k))+O[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=k+(I^(A|~V))+O[3]+2399980690&4294967295,k=A+(R<<10&4294967295|R>>>22),R=V+(A^(k|~I))+O[10]+4293915773&4294967295,V=k+(R<<15&4294967295|R>>>17),R=I+(k^(V|~A))+O[1]+2240044497&4294967295,I=V+(R<<21&4294967295|R>>>11),R=A+(V^(I|~k))+O[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=k+(I^(A|~V))+O[15]+4264355552&4294967295,k=A+(R<<10&4294967295|R>>>22),R=V+(A^(k|~I))+O[6]+2734768916&4294967295,V=k+(R<<15&4294967295|R>>>17),R=I+(k^(V|~A))+O[13]+1309151649&4294967295,I=V+(R<<21&4294967295|R>>>11),R=A+(V^(I|~k))+O[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=k+(I^(A|~V))+O[11]+3174756917&4294967295,k=A+(R<<10&4294967295|R>>>22),R=V+(A^(k|~I))+O[2]+718787259&4294967295,V=k+(R<<15&4294967295|R>>>17),R=I+(k^(V|~A))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+k&4294967295}r.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var I=A-this.blockSize,O=this.B,V=this.h,k=0;k<A;){if(V==0)for(;k<=I;)l(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<A;)if(O[V++]=M.charCodeAt(k++),V==this.blockSize){l(this,O),V=0;break}}else for(;k<A;)if(O[V++]=M[k++],V==this.blockSize){l(this,O),V=0;break}}this.h=V,this.o+=A},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var I=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=I&255,I/=256;for(this.u(M),M=Array(16),A=I=0;4>A;++A)for(var O=0;32>O;O+=8)M[I++]=this.g[A]>>>O&255;return M};function c(M,A){var I=g;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=A(M)}function d(M,A){this.h=A;for(var I=[],O=!0,V=M.length-1;0<=V;V--){var k=M[V]|0;O&&k==A||(I[V]=k,O=!1)}this.g=I}var g={};function p(M){return-128<=M&&128>M?c(M,function(A){return new d([A|0],0>A?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return W(_(-M));for(var A=[],I=1,O=0;M>=I;O++)A[O]=M/I|0,I*=4294967296;return new d(A,0)}function T(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return W(T(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(A,8)),O=w,V=0;V<M.length;V+=8){var k=Math.min(8,M.length-V),R=parseInt(M.substring(V,V+k),A);8>k?(k=_(Math.pow(A,k)),O=O.j(k).add(_(R))):(O=O.j(I),O=O.add(_(R)))}return O}var w=p(0),C=p(1),j=p(16777216);s=d.prototype,s.m=function(){if(J(this))return-W(this).m();for(var M=0,A=1,I=0;I<this.g.length;I++){var O=this.i(I);M+=(0<=O?O:4294967296+O)*A,A*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(X(this))return"0";if(J(this))return"-"+W(this).toString(M);for(var A=_(Math.pow(M,6)),I=this,O="";;){var V=Gt(I,A).g;I=lt(I,V.j(A));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=V,X(I))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function X(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function J(M){return M.h==-1}s.l=function(M){return M=lt(this,M),J(M)?-1:X(M)?0:1};function W(M){for(var A=M.g.length,I=[],O=0;O<A;O++)I[O]=~M.g[O];return new d(I,~M.h).add(C)}s.abs=function(){return J(this)?W(this):this},s.add=function(M){for(var A=Math.max(this.g.length,M.g.length),I=[],O=0,V=0;V<=A;V++){var k=O+(this.i(V)&65535)+(M.i(V)&65535),R=(k>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=R>>>16,k&=65535,R&=65535,I[V]=R<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function lt(M,A){return M.add(W(A))}s.j=function(M){if(X(this)||X(M))return w;if(J(this))return J(M)?W(this).j(W(M)):W(W(this).j(M));if(J(M))return W(this.j(W(M)));if(0>this.l(j)&&0>M.l(j))return _(this.m()*M.m());for(var A=this.g.length+M.g.length,I=[],O=0;O<2*A;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<M.g.length;V++){var k=this.i(O)>>>16,R=this.i(O)&65535,Le=M.i(V)>>>16,oe=M.i(V)&65535;I[2*O+2*V]+=R*oe,ct(I,2*O+2*V),I[2*O+2*V+1]+=k*oe,ct(I,2*O+2*V+1),I[2*O+2*V+1]+=R*Le,ct(I,2*O+2*V+1),I[2*O+2*V+2]+=k*Le,ct(I,2*O+2*V+2)}for(O=0;O<A;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=A;O<2*A;O++)I[O]=0;return new d(I,0)};function ct(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function ht(M,A){this.g=M,this.h=A}function Gt(M,A){if(X(A))throw Error("division by zero");if(X(M))return new ht(w,w);if(J(M))return A=Gt(W(M),A),new ht(W(A.g),W(A.h));if(J(A))return A=Gt(M,W(A)),new ht(W(A.g),A.h);if(30<M.g.length){if(J(M)||J(A))throw Error("slowDivide_ only works with positive integers.");for(var I=C,O=A;0>=O.l(M);)I=At(I),O=At(O);var V=jt(I,1),k=jt(O,1);for(O=jt(O,2),I=jt(I,2);!X(O);){var R=k.add(O);0>=R.l(M)&&(V=V.add(I),k=R),O=jt(O,1),I=jt(I,1)}return A=lt(M,V.j(A)),new ht(V,A)}for(V=w;0<=M.l(A);){for(I=Math.max(1,Math.floor(M.m()/A.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=_(I),R=k.j(A);J(R)||0<R.l(M);)I-=O,k=_(I),R=k.j(A);X(k)&&(k=C),V=V.add(k),M=lt(M,R)}return new ht(V,M)}s.A=function(M){return Gt(this,M).h},s.and=function(M){for(var A=Math.max(this.g.length,M.g.length),I=[],O=0;O<A;O++)I[O]=this.i(O)&M.i(O);return new d(I,this.h&M.h)},s.or=function(M){for(var A=Math.max(this.g.length,M.g.length),I=[],O=0;O<A;O++)I[O]=this.i(O)|M.i(O);return new d(I,this.h|M.h)},s.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),I=[],O=0;O<A;O++)I[O]=this.i(O)^M.i(O);return new d(I,this.h^M.h)};function At(M){for(var A=M.g.length+1,I=[],O=0;O<A;O++)I[O]=M.i(O)<<1|M.i(O-1)>>>31;return new d(I,M.h)}function jt(M,A){var I=A>>5;A%=32;for(var O=M.g.length-I,V=[],k=0;k<O;k++)V[k]=0<A?M.i(k+I)>>>A|M.i(k+I+1)<<32-A:M.i(k+I);return new d(V,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,kr=d}).apply(typeof lv<"u"?lv:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iT,vl,rT,Dc,Yd,sT,aT,oT;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function l(u,m){if(m)t:{var y=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in y))break t;y=y[P]}u=u[u.length-1],S=y[u],m=m(S),m!=S&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,S=!1,P={next:function(){if(!S&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function w(u,m,y){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,S),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function C(u,m,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,C.apply(null,arguments)}function j(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function X(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(S,P,q){for(var nt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)nt[xt-2]=arguments[xt];return m.prototype[P].apply(S,nt)}}function J(u){const m=u.length;if(0<m){const y=Array(m);for(let S=0;S<m;S++)y[S]=u[S];return y}return[]}function W(u,m){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(p(S)){const P=u.length||0,q=S.length||0;u.length=P+q;for(let nt=0;nt<q;nt++)u[P+nt]=S[nt]}else u.push(S)}}class lt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ct(u){return/^[\s\xa0]*$/.test(u)}function ht(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Gt(u){return Gt[" "](u),u}Gt[" "]=function(){};var At=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function jt(u,m,y){for(const S in u)m.call(y,u[S],S,u)}function M(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function A(u){const m={};for(const y in u)m[y]=u[y];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let y,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(y in S)u[y]=S[y];for(let q=0;q<I.length;q++)y=I[q],Object.prototype.hasOwnProperty.call(S,y)&&(u[y]=S[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function k(u){g.setTimeout(()=>{throw u},0)}function R(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Le{constructor(){this.h=this.g=null}add(m,y){const S=oe.get();S.set(m,y),this.h?this.h.next=S:this.g=S,this.h=S}}var oe=new lt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ft=!1,zt=new Le,D=()=>{const u=g.Promise.resolve(void 0);it=()=>{u.then(Z)}};var Z=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){k(y)}var m=oe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Rt(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(At){t:{try{Gt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}X(Rt,et);var Et={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Fn(u,m,y,S,P){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!S,this.ha=P,this.key=++Jt,this.da=this.fa=!1}function Ji(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yi(u){this.src=u,this.g={},this.h=0}yi.prototype.add=function(u,m,y,S,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var nt=Qr(u,m,S,P);return-1<nt?(m=u[nt],y||(m.fa=!1)):(m=new Fn(m,this.src,q,!!S,P),m.fa=y,u.push(m)),m};function Fr(u,m){var y=m.type;if(y in u.g){var S=u.g[y],P=Array.prototype.indexOf.call(S,m,void 0),q;(q=0<=P)&&Array.prototype.splice.call(S,P,1),q&&(Ji(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Qr(u,m,y,S){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==S)return P}return-1}var Yr="closure_lm_"+(1e6*Math.random()|0),oo={};function Kl(u,m,y,S,P){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Kl(u,m[q],y,S,P);return null}return y=Xl(y),u&&u[Ne]?u.K(m,y,_(S)?!!S.capture:!1,P):_n(u,m,y,!1,S,P)}function _n(u,m,y,S,P,q){if(!m)throw Error("Invalid event type");var nt=_(P)?!!P.capture:!!P,xt=Qs(u);if(xt||(u[Yr]=xt=new yi(u)),y=xt.add(m,y,S,nt,q),y.proxy)return y;if(S=vh(),y.proxy=S,S.src=u,S.listener=y,u.addEventListener)mt||(P=nt),P===void 0&&(P=!1),u.addEventListener(m.toString(),S,P);else if(u.attachEvent)u.attachEvent(Kr(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function vh(){function u(y){return m.call(u.src,u.listener,y)}const m=Eh;return u}function lo(u,m,y,S,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)lo(u,m[q],y,S,P);else S=_(S)?!!S.capture:!!S,y=Xl(y),u&&u[Ne]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Qr(q,y,S,P),-1<y&&(Ji(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Qs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Qr(m,y,S,P)),(y=-1<u?m[u]:null)&&Fs(y))}function Fs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])Fr(m.i,u);else{var y=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(y,S,u.capture):m.detachEvent?m.detachEvent(Kr(y),S):m.addListener&&m.removeListener&&m.removeListener(S),(y=Qs(m))?(Fr(y,u),y.h==0&&(y.src=null,m[Yr]=null)):Ji(u)}}}function Kr(u){return u in oo?oo[u]:oo[u]="on"+u}function Eh(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var y=u.listener,S=u.ha||u.src;u.fa&&Fs(u),u=y.call(S,m)}return u}function Qs(u){return u=u[Yr],u instanceof yi?u:null}var uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(u){return typeof u=="function"?u:(u[uo]||(u[uo]=function(m){return u.handleEvent(m)}),u[uo])}function le(){rt.call(this),this.i=new yi(this),this.M=this,this.F=null}X(le,rt),le.prototype[Ne]=!0,le.prototype.removeEventListener=function(u,m,y,S){lo(this,u,m,y,S)};function Ft(u,m){var y,S=u.F;if(S)for(y=[];S;S=S.F)y.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var P=m;m=new et(S,u),O(m,P)}if(P=!0,y)for(var q=y.length-1;0<=q;q--){var nt=m.g=y[q];P=un(nt,S,!0,m)&&P}if(nt=m.g=u,P=un(nt,S,!0,m)&&P,P=un(nt,S,!1,m)&&P,y)for(q=0;q<y.length;q++)nt=m.g=y[q],P=un(nt,S,!1,m)&&P}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],S=0;S<y.length;S++)Ji(y[S]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,y,S){return this.i.add(String(u),m,!1,y,S)},le.prototype.L=function(u,m,y,S){return this.i.add(String(u),m,!0,y,S)};function un(u,m,y,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==y){var xt=nt.listener,we=nt.ha||nt.src;nt.fa&&Fr(u.i,nt),P=xt.call(we,S)!==!1&&P}}return P&&!S.defaultPrevented}function Qe(u,m,y){if(typeof u=="function")y&&(u=C(u,y));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function $l(u){u.g=Qe(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Th extends rt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(u){rt.call(this),this.h=u,this.g={}}X(Xr,rt);var $r=[];function Zr(u){jt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Fs(m)},u),u.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Zr(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=g.JSON.stringify,Ys=g.JSON.parse,Wr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function co(){}co.prototype.h=null;function ho(u){return u.h||(u.h=u.i())}function fo(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){et.call(this,"d")}X(vi,et);function mo(){et.call(this,"c")}X(mo,et);var Qn={},go=null;function tr(){return go=go||new le}Qn.La="serverreachability";function Ks(u){et.call(this,Qn.La,u)}X(Ks,et);function er(u){const m=tr();Ft(m,new Ks(m))}Qn.STAT_EVENT="statevent";function Zl(u,m){et.call(this,Qn.STAT_EVENT,u),this.stat=m}X(Zl,et);function ie(u){const m=tr();Ft(m,new Zl(m,u))}Qn.Ma="timingevent";function be(u,m){et.call(this,Qn.Ma,u),this.size=m}X(be,et);function pe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function po(u,m,y,S,P,q){u.info(function(){if(u.g)if(q)for(var nt="",xt=q.split("&"),we=0;we<xt.length;we++){var kt=xt[we].split("=");if(1<kt.length){var Ve=kt[0];kt=kt[1];var Re=Ve.split("_");nt=2<=Re.length&&Re[1]=="type"?nt+(Ve+"="+kt+"&"):nt+(Ve+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+y+`
`+nt})}function Sh(u,m,y,S,P,q,nt){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+y+`
`+q+" "+nt})}function nr(u,m,y,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jr(u,y)+(S?" "+S:"")})}function Wl(u,m){u.info(function(){return"TIMEOUT: "+m})}vn.prototype.info=function(){};function Jr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var S=y[u];if(!(2>S.length)){var P=S[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<P.length;nt++)P[nt]=""}}}}return xn(y)}catch{return m}}var ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function Kn(){}X(Kn,co),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Yn=new Kn;function tn(u,m,y,S){this.j=u,this.i=m,this.l=y,this.R=S||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var yo={},Xs={};function kn(u,m,y){u.L=1,u.v=rs(cn(m)),u.m=y,u.P=!0,Ti(u,null)}function Ti(u,m){u.F=Date.now(),ts(u),u.A=cn(u.v);var y=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Ao(y.i,"t",S),u.C=0,y=u.j.J,u.h=new fe,u.g=mu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Th(C(u.Y,u,u.g),u.O)),m=u.U,y=u.g,S=u.ca;var P="readystatechange";Array.isArray(P)||(P&&($r[0]=P.toString()),P=$r);for(var q=0;q<P.length;q++){var nt=Kl(y,P[q],S||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),er(),po(u.i,u.u,u.A,u.l,u.R,u.m)}tn.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},tn.prototype.Y=function(u){try{if(u==this.g)t:{const Re=An(this.g);var m=this.g.Ba();const Di=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||Re!=4||m==7||(m==8||0>=Di?er(3):er(2)),rr(this);var y=this.g.Z();this.X=y;e:if(Jl(this)){var S=au(this.g);u="";var P=S.length,q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Xn(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(q&&m==P-1)});S.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=y==200,Sh(this.i,this.u,this.A,this.l,this.R,Re,y),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,we=this.g;if((xt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(xt)){var kt=xt;break e}}kt=null}if(y=kt)nr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,es(this,y);else{this.o=!1,this.s=3,ie(12),Ue(this),Xn(this);break t}}if(this.P){y=!0;let ze;for(;!this.J&&this.C<nt.length;)if(ze=tu(this,nt),ze==Xs){Re==4&&(this.s=4,ie(14),y=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==yo){this.s=4,ie(15),nr(this.i,this.l,nt,"[Invalid Chunk]"),y=!1;break}else nr(this.i,this.l,ze,null),es(this,ze);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||nt.length!=0||this.h.h||(this.s=1,ie(16),y=!1),this.o=this.o&&y,!y)nr(this.i,this.l,nt,"[Invalid Chunked Response]"),Ue(this),Xn(this);else if(0<nt.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),fs(Ve),Ve.M=!0,ie(11))}}else nr(this.i,this.l,nt,null),es(this,nt);Re==4&&Ue(this),this.o&&!this.J&&(Re==4?hu(this.j,this):(this.o=!1,ts(this)))}else Ih(this.g),y==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Ue(this),Xn(this)}}}catch{}finally{}};function Jl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tu(u,m){var y=u.C,S=m.indexOf(`
`,y);return S==-1?Xs:(y=Number(m.substring(y,S)),isNaN(y)?yo:(S+=1,S+y>m.length?Xs:(m=m.slice(S,S+y),u.C=S+y,m)))}tn.prototype.cancel=function(){this.J=!0,Ue(this)};function ts(u){u.S=Date.now()+u.I,eu(u,u.I)}function eu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pe(C(u.ba,u),m)}function rr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}tn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Wl(this.i,this.A),this.L!=2&&(er(),ie(17)),Ue(this),this.s=2,Xn(this)):eu(this,this.S-u)};function Xn(u){u.j.G==0||u.J||hu(u.j,u)}function Ue(u){rr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Zr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function es(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||_o(y.h,u))){if(!u.K&&_o(y.h,u)&&y.G==3){try{var S=y.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)oa(y),sa(y);else break t;Co(y),ie(18)}}else y.za=P[1],0<y.za-y.T&&37500>P[2]&&y.F&&y.v==0&&!y.C&&(y.C=pe(C(y.Za,y),6e3));if(1>=Zs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ci(y,11)}else if((u.K||y.g==u)&&oa(y),!ct(m))for(P=y.Da.g.parse(m),m=0;m<P.length;m++){let kt=P[m];if(y.T=kt[0],kt=kt[1],y.G==2)if(kt[0]=="c"){y.K=kt[1],y.ia=kt[2];const Ve=kt[3];Ve!=null&&(y.la=Ve,y.j.info("VER="+y.la));const Re=kt[4];Re!=null&&(y.Aa=Re,y.j.info("SVER="+y.Aa));const Di=kt[5];Di!=null&&typeof Di=="number"&&0<Di&&(S=1.5*Di,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const ze=u.g;if(ze){const ni=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var q=S.h;q.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ws(q,q.h),q.h=null))}if(S.D){const No=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;No&&(S.ya=No,Kt(S.I,S.D,No))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var nt=u;if(S.qa=du(S,S.J?S.ia:null,S.W),nt.K){en(S.h,nt);var xt=nt,we=S.L;we&&(xt.I=we),xt.B&&(rr(xt),ts(xt)),S.g=nt}else uu(S);0<y.i.length&&aa(y)}else kt[0]!="stop"&&kt[0]!="close"||Ci(y,7);else y.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Ci(y,7):Ro(y):kt[0]!="noop"&&y.l&&y.l.ta(kt),y.v=0)}}er(4)}catch{}}var nu=class{constructor(u,m){this.g=u,this.map=m}};function Si(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $s(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Zs(u){return u.h?1:u.g?u.g.size:0}function _o(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ws(u,m){u.g?u.g.add(m):u.h=m}function en(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Si.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return J(u.i)}function Ah(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,S=0;S<y;S++)m.push(u[S]);return m}m=[],y=0;for(S in u)m[y++]=u[S];return m}function Js(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const S in u)m[y++]=S;return m}}}function Eo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Js(u),S=Ah(u),P=S.length,q=0;q<P;q++)m.call(void 0,S[q],y&&y[q],u)}var ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var S=u[y].indexOf("="),P=null;if(0<=S){var q=u[y].substring(0,S);P=u[y].substring(S+1)}else q=u[y];m(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ye(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ye){this.h=u.h,is(this,u.j),this.o=u.o,this.g=u.g,sr(this,u.s),this.l=u.l;var m=u.i,y=new bi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Ai(this,y),this.m=u.m}else u&&(m=String(u).match(ns))?(this.h=!1,is(this,m[1]||"",!0),this.o=En(m[2]||""),this.g=En(m[3]||"",!0),sr(this,m[4]),this.l=En(m[5]||"",!0),Ai(this,m[6]||"",!0),this.m=En(m[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}ye.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ss(m,To,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ss(m,To,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ss(y,y.charAt(0)=="/"?wh:So,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ss(y,ta)),u.join("")};function cn(u){return new ye(u)}function is(u,m,y){u.j=y?En(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function sr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ai(u,m,y){m instanceof bi?(u.i=m,ru(u.i,u.h)):(y||(m=ss(m,Rh)),u.i=new bi(m,u.h))}function Kt(u,m,y){u.i.set(m,y)}function rs(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function En(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ss(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,iu),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function iu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var To=/[#\/\?@]/g,So=/[#\?:]/g,wh=/[#\?]/g,Rh=/[#\?@]/g,ta=/#/g;function bi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&bh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=bi.prototype,s.add=function(u,m){Tn(this),this.i=null,u=$n(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function wi(u,m){Tn(u),m=$n(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ri(u,m){return Tn(u),m=$n(u,m),u.g.has(m)}s.forEach=function(u,m){Tn(this),this.g.forEach(function(y,S){y.forEach(function(P){u.call(m,P,S,this)},this)},this)},s.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let S=0;S<m.length;S++){const P=u[S];for(let q=0;q<P.length;q++)y.push(m[S])}return y},s.V=function(u){Tn(this);let m=[];if(typeof u=="string")Ri(this,u)&&(m=m.concat(this.g.get($n(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},s.set=function(u,m){return Tn(this),this.i=null,u=$n(this,u),Ri(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ao(u,m,y){wi(u,m),0<y.length&&(u.i=null,u.g.set($n(u,m),J(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var S=m[y];const q=encodeURIComponent(String(S)),nt=this.V(S);for(S=0;S<nt.length;S++){var P=q;nt[S]!==""&&(P+="="+encodeURIComponent(String(nt[S]))),u.push(P)}}return this.i=u.join("&")};function $n(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ru(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(y,S){var P=S.toLowerCase();S!=P&&(wi(this,S),Ao(this,P,y))},u)),u.j=m}function as(u,m){const y=new vn;if(g.Image){const S=new Image;S.onload=j(Sn,y,"TestLoadImage: loaded",!0,m,S),S.onerror=j(Sn,y,"TestLoadImage: error",!1,m,S),S.onabort=j(Sn,y,"TestLoadImage: abort",!1,m,S),S.ontimeout=j(Sn,y,"TestLoadImage: timeout",!1,m,S),g.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Pn(u,m){const y=new vn,S=new AbortController,P=setTimeout(()=>{S.abort(),Sn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(P),q.ok?Sn(y,"TestPingServer: ok",!0,m):Sn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Sn(y,"TestPingServer: error",!1,m)})}function Sn(u,m,y,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(y)}catch{}}function os(){this.g=new Wr}function Zn(u,m,y){const S=y||"";try{Eo(u,function(P,q){let nt=P;_(P)&&(nt=xn(P)),m.push(S+q+"="+encodeURIComponent(nt))})}catch(P){throw m.push(S+"type="+encodeURIComponent("_badmap")),P}}function ar(u){this.l=u.Ub||null,this.j=u.eb||!1}X(ar,co),ar.prototype.g=function(){return new Ii(this.l,this.j)},ar.prototype.i=function(u){return function(){return u}}({});function Ii(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Ii,le),s=Ii.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function bo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Wn(this):Jn(this),this.readyState==3&&bo(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Wn(this))},s.Qa=function(u){this.g&&(this.response=u,Wn(this))},s.ga=function(){this.g&&Wn(this)};function Wn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Jn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wo(u){let m="";return jt(u,function(y,S){m+=S,m+=":",m+=y,m+=`\r
`}),m}function Oe(u,m,y){t:{for(S in y){var S=!1;break t}S=!0}S||(y=wo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Kt(u,m,y))}function qt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(qt,le);var ea=/^https?$/i,ls=["POST","PUT"];s=qt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?ho(this.o):ho(Yn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){su(this,q);return}if(u=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)y.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())y.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ls,m,void 0))||S||P||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of y)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{us(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){su(this,q)}};function su(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,na(u),ti(u)}function na(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),ti(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},s.bb=function(){ia(this)};function ia(u){if(u.h&&typeof d<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)Qe(u.Ea,0,u);else if(Ft(u,"readystatechange"),An(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var S;if(S=nt===0){var P=String(u.D).match(ns)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),S=!ea.test(P?P.toLowerCase():"")}y=S}if(y)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var q=2<An(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",na(u)}}finally{ti(u)}}}}function ti(u,m){if(u.g){us(u);const y=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ft(u,"ready");try{y.onreadystatechange=S}catch{}}}function us(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ys(m)}};function au(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ih(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(ct(u[S]))continue;var y=V(u[S]);const P=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[P]||[];m[P]=q,q.push(y)}M(m,function(S){return S.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ra(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cs("baseRetryDelayMs",5e3,u),this.cb=cs("retryDelaySeedMs",1e4,u),this.Wa=cs("forwardChannelMaxRetries",2,u),this.wa=cs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(u&&u.concurrentRequestLimit),this.Da=new os,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ra.prototype,s.la=8,s.G=1,s.connect=function(u,m,y,S){ie(0),this.W=u,this.H=m||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=du(this,null,this.W),aa(this)};function Ro(u){if(ou(u),u.G==3){var m=u.U++,y=cn(u.I);if(Kt(y,"SID",u.K),Kt(y,"RID",m),Kt(y,"TYPE","terminate"),hs(u,y),m=new tn(u,u.j,m),m.L=2,m.v=rs(cn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=mu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ts(m)}fu(u)}function sa(u){u.g&&(fs(u),u.g.cancel(),u.g=null)}function ou(u){sa(u),u.u&&(g.clearTimeout(u.u),u.u=null),oa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function aa(u){if(!$s(u.h)&&!u.s){u.s=!0;var m=u.Ga;it||D(),ft||(it(),ft=!0),zt.add(m,u),u.B=0}}function Ch(u,m){return Zs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pe(C(u.Ga,u,m),Do(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new tn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=A(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=lu(this,P,m),y=cn(this.I),Kt(y,"RID",u),Kt(y,"CVER",22),this.D&&Kt(y,"X-HTTP-Session-Id",this.D),hs(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(wo(q)))+"&"+m:this.m&&Oe(y,this.m,q)),Ws(this.h,P),this.Ua&&Kt(y,"TYPE","init"),this.P?(Kt(y,"$req",m),Kt(y,"SID","null"),P.T=!0,kn(P,y,null)):kn(P,y,m),this.G=2}}else this.G==3&&(u?Io(this,u):this.i.length==0||$s(this.h)||Io(this))};function Io(u,m){var y;m?y=m.l:y=u.U++;const S=cn(u.I);Kt(S,"SID",u.K),Kt(S,"RID",y),Kt(S,"AID",u.T),hs(u,S),u.m&&u.o&&Oe(S,u.m,u.o),y=new tn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=lu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ws(u.h,y),kn(y,S,m)}function hs(u,m){u.H&&jt(u.H,function(y,S){Kt(m,S,y)}),u.l&&Eo({},function(y,S){Kt(m,S,y)})}function lu(u,m,y){y=Math.min(u.i.length,y);var S=u.l?C(u.l.Na,u.l,u):null;t:{var P=u.i;let q=-1;for(;;){const nt=["count="+y];q==-1?0<y?(q=P[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let xt=!0;for(let we=0;we<y;we++){let kt=P[we].g;const Ve=P[we].map;if(kt-=q,0>kt)q=Math.max(0,P[we].g-100),xt=!1;else try{Zn(Ve,nt,"req"+kt+"_")}catch{S&&S(Ve)}}if(xt){S=nt.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,S}function uu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;it||D(),ft||(it(),ft=!0),zt.add(m,u),u.v=0}}function Co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pe(C(u.Fa,u),Do(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pe(C(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),sa(this),cu(this))};function fs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function cu(u){u.g=new tn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=cn(u.qa);Kt(m,"RID","rpc"),Kt(m,"SID",u.K),Kt(m,"AID",u.T),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(m,"TO",u.ja),Kt(m,"TYPE","xmlhttp"),hs(u,m),u.m&&u.o&&Oe(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=rs(cn(m)),y.m=null,y.P=!0,Ti(y,u)}s.Za=function(){this.C!=null&&(this.C=null,sa(this),Co(this),ie(19))};function oa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function hu(u,m){var y=null;if(u.g==m){oa(u),fs(u),u.g=null;var S=2}else if(_o(u.h,m))y=m.D,en(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;S=tr(),Ft(S,new be(S,y)),aa(u)}else uu(u);else if(P=m.s,P==3||P==0&&0<m.X||!(S==1&&Ch(u,m)||S==2&&Co(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),P){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function Do(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ci(u,m){if(u.j.info("Error code "+m),m==2){var y=C(u.fb,u),S=u.Xa;const P=!S;S=new ye(S||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||is(S,"https"),rs(S),P?as(S.toString(),y):Pn(S.toString(),y)}else ie(2);u.G=0,u.l&&u.l.sa(m),fu(u),ou(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function fu(u){if(u.G=0,u.ka=[],u.l){const m=vo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ka,m),W(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function du(u,m,y){var S=y instanceof ye?cn(y):new ye(y);if(S.g!="")m&&(S.g=m+"."+S.g),sr(S,S.s);else{var P=g.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var q=new ye(null);S&&is(q,S),m&&(q.g=m),P&&sr(q,P),y&&(q.l=y),S=q}return y=u.D,m=u.ya,y&&m&&Kt(S,y,m),Kt(S,"VER",u.la),hs(u,S),S}function mu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new ar({eb:y})):new qt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}s=gu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function la(){}la.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){le.call(this),this.g=new ra(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ct(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ct(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ei(this)}X(nn,le),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ro(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=xn(u),u=y);m.i.push(new nu(m.Ya++,u)),m.G==3&&aa(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,nn.aa.N.call(this)};function pu(u){vi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(pu,vi);function yu(){mo.call(this),this.status=1}X(yu,mo);function ei(u){this.g=u}X(ei,gu),ei.prototype.ua=function(){Ft(this.g,"a")},ei.prototype.ta=function(u){Ft(this.g,new pu(u))},ei.prototype.sa=function(u){Ft(this.g,new yu)},ei.prototype.ra=function(){Ft(this.g,"b")},la.prototype.createWebChannel=la.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,oT=function(){return new la},aT=function(){return tr()},sT=Qn,Yd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,Dc=ir,Ei.COMPLETE="complete",rT=Ei,fo.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",le.prototype.listen=le.prototype.K,vl=fo,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,iT=qt}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const uv="@firebase/firestore",cv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new pm("@firebase/firestore");function La(){return Ls.logLevel}function at(s,...t){if(Ls.logLevel<=Ot.DEBUG){const n=t.map(Dm);Ls.debug(`Firestore (${eo}): ${s}`,...n)}}function Xi(s,...t){if(Ls.logLevel<=Ot.ERROR){const n=t.map(Dm);Ls.error(`Firestore (${eo}): ${s}`,...n)}}function Ya(s,...t){if(Ls.logLevel<=Ot.WARN){const n=t.map(Dm);Ls.warn(`Firestore (${eo}): ${s}`,...n)}}function Dm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,lT(s,r,n)}function lT(s,t,n){let r=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xi(r),new Error(r)}function Ht(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||lT(t,l,r)}function St(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Wi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($e.UNAUTHENTICATED))}shutdown(){}}class oR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lR{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let c=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qi,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qi)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new uT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class uR{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cR{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new uR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>r(c))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=fR(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=t.charAt(l[c]%62))}return r}}function Vt(s,t){return s<t?-1:s>t?1:0}function Kd(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Md(l)===Md(c)?Vt(l,c):Md(l)?1:-1}return Vt(s.length,t.length)}const dR=55296,mR=57343;function Md(s){const t=s.charCodeAt(0);return t>=dR&&t<=mR}function Ka(s,t,n){return s.length===t.length&&s.every((r,l)=>n(r,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__name__";class li{constructor(t,n,r){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&yt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return li.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof li?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const c=li.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Vt(t.length,n.length)}static compareSegments(t,n){const r=li.isNumericId(t),l=li.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?li.extractNumericId(t).compare(li.extractNumericId(n)):Kd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return kr.fromString(t.substring(4,t.length-2))}}class ee extends li{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new st(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(l=>l.length>0))}return new ee(n)}static emptyPath(){return new ee([])}}const gR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends li{construct(t,n,r){return new Ge(t,n,r)}static isValidIdentifier(t){return gR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new Ge([fv])}static fromServerFormat(t){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new st(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new st(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new st(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new st(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(n)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ee.fromString(t))}static fromName(t){return new dt(ee.fromString(t).popFirst(5))}static empty(){return new dt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(s,t,n){if(!n)throw new st(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function pR(s,t,n,r){if(t===!0&&r===!0)throw new st(Q.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function dv(s){if(!dt.isDocumentKey(s))throw new st(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function mv(s){if(dt.isDocumentKey(s))throw new st(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function hT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ah(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function $i(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new st(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ah(s);throw new st(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s,t){const n={typeString:s};return t&&(n.value=t),n}function Hl(s,t){if(!hT(s))throw new st(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new st(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=-62135596800,pv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*pv);return new ne(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new st(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<gv)throw new st(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-gv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Se("string",ne._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ne(0,0))}static max(){return new Tt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=-1;function yR(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(r===1e9?new ne(n+1,0):new ne(n,r));return new zr(l,dt.empty(),t)}function _R(s){return new zr(s.readTime,s.key,Ol)}class zr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new zr(Tt.min(),dt.empty(),Ol)}static max(){return new zr(Tt.max(),dt.empty(),Ol)}}function vR(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(s.documentKey,t.documentKey),n!==0?n:Vt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==ER)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new K((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):K.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):K.reject(n)}static resolve(t){return new K((n,r)=>{n(t)})}static reject(t){return new K((n,r)=>{r(t)})}static waitFor(t){return new K((n,r)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>r(p))}),d=!0,c===l&&n()})}static or(t){let n=K.resolve(!1);for(const r of t)n=n.next(l=>l?K.resolve(l):r());return n}static forEach(t,n){const r=[];return t.forEach((l,c)=>{r.push(n.call(this,l,c))}),this.waitFor(r)}static mapArray(t,n){return new K((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(T=>{d[_]=T,++g,g===c&&r(d)},T=>l(T))}})}static doWhile(t,n){return new K((r,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):r()};c()})}}function SR(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}oh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=-1;function lh(s){return s==null}function Gc(s){return s===0&&1/s==-1/0}function AR(s){return typeof s=="number"&&Number.isInteger(s)&&!Gc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="";function bR(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=yv(t)),t=wR(s.get(n),t);return yv(t)}function wR(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case fT:n+="";break;default:n+=c}}return n}function yv(s){return s+fT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function Bs(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function dT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||He.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?r(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,n,r,l,c){this.key=t,this.value=n,this.color=r??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,c){return new He(t??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,r,l,c){return this}insert(t,n,r){return new He(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(t){return new vv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class vv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new jn([])}unionWith(t){let n=new De(Ge.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new mT("Invalid base64 string: "+c):c}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const RR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(s){if(Ht(!!s,39018),typeof s=="string"){let t=0;const n=RR.exec(s);if(Ht(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function jr(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="server_timestamp",pT="__type__",yT="__previous_value__",_T="__local_write_time__";function Vm(s){return(s?.mapValue?.fields||{})[pT]?.stringValue===gT}function uh(s){const t=s.mapValue.fields[yT];return Vm(t)?uh(t):t}function Vl(s){const t=Br(s.mapValue.fields[_T].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t,n,r,l,c,d,g,p,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Fc="(default)";class Ml{constructor(t,n){this.projectId=t,this.database=n||Fc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__type__",CR="__max__",Tc={mapValue:{}},ET="__vector__",Qc="value";function qr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Vm(s)?4:NR(s)?9007199254740991:DR(s)?10:11:yt(28295,{value:s})}function pi(s,t){if(s===t)return!0;const n=qr(s);if(n!==qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Vl(s).isEqual(Vl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Br(l.timestampValue),g=Br(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(l,c){return jr(l.bytesValue).isEqual(jr(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)}(s,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?Gc(d)===Gc(g):isNaN(d)&&isNaN(g)}return!1}(s,t);case 9:return Ka(s.arrayValue.values||[],t.arrayValue.values||[],pi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(_v(d)!==_v(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!pi(d[p],g[p])))return!1;return!0}(s,t);default:return yt(52216,{left:s})}}function xl(s,t){return(s.values||[]).find(n=>pi(n,t))!==void 0}function Xa(s,t){if(s===t)return 0;const n=qr(s),r=qr(t);if(n!==r)return Vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return function(c,d){const g=ge(c.integerValue||c.doubleValue),p=ge(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(s,t);case 3:return Ev(s.timestampValue,t.timestampValue);case 4:return Ev(Vl(s),Vl(t));case 5:return Kd(s.stringValue,t.stringValue);case 6:return function(c,d){const g=jr(c),p=jr(d);return g.compareTo(p)}(s.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Vt(g[_],p[_]);if(T!==0)return T}return Vt(g.length,p.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Vt(ge(c.latitude),ge(d.latitude));return g!==0?g:Vt(ge(c.longitude),ge(d.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return Tv(s.arrayValue,t.arrayValue);case 10:return function(c,d){const g=c.fields||{},p=d.fields||{},_=g[Qc]?.arrayValue,T=p[Qc]?.arrayValue,w=Vt(_?.values?.length||0,T?.values?.length||0);return w!==0?w:Tv(_,T)}(s.mapValue,t.mapValue);case 11:return function(c,d){if(c===Tc.mapValue&&d===Tc.mapValue)return 0;if(c===Tc.mapValue)return 1;if(d===Tc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const C=Kd(p[w],T[w]);if(C!==0)return C;const j=Xa(g[p[w]],_[T[w]]);if(j!==0)return j}return Vt(p.length,T.length)}(s.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function Ev(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const n=Br(s),r=Br(t),l=Vt(n.seconds,r.seconds);return l!==0?l:Vt(n.nanos,r.nanos)}function Tv(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=Xa(n[l],r[l]);if(c)return c}return Vt(n.length,r.length)}function $a(s){return Xd(s)}function Xd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const r=Br(n);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return jr(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return dt.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Xd(c);return r+"]"}(s.arrayValue):"mapValue"in s?function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Xd(n.fields[d])}`;return l+"}"}(s.mapValue):yt(61005,{value:s})}function Nc(s){switch(qr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uh(s);return t?16+Nc(t):16;case 5:return 2*s.stringValue.length;case 6:return jr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((l,c)=>l+Nc(c),0)}(s.arrayValue);case 10:case 11:return function(r){let l=0;return Bs(r.fields,(c,d)=>{l+=c.length+Nc(d)}),l}(s.mapValue);default:throw yt(13486,{value:s})}}function Sv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function $d(s){return!!s&&"integerValue"in s}function Mm(s){return!!s&&"arrayValue"in s}function Av(s){return!!s&&"nullValue"in s}function bv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oc(s){return!!s&&"mapValue"in s}function DR(s){return(s?.mapValue?.fields||{})[vT]?.stringValue===ET}function wl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Bs(s.mapValue.fields,(n,r)=>t.mapValue.fields[n]=wl(r)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wl(s.arrayValue.values[n]);return t}return{...s}}function NR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===CR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Oc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(n)}setAll(t){let n=Ge.emptyPath(),r={},l=[];t.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,r,l),r={},l=[],n=g.popLast()}d?r[g.lastSegment()]=wl(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(t){const n=this.field(t.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return pi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];Oc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){Bs(n,(l,c)=>t[l]=c);for(const l of r)delete t[l]}clone(){return new Vn(wl(this.value))}}function TT(s){const t=[];return Bs(s.fields,(n,r)=>{const l=new Ge([n]);if(Oc(r)){const c=TT(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,n,r,l,c,d,g){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,Tt.min(),Tt.min(),Tt.min(),Vn.empty(),0)}static newFoundDocument(t,n,r,l){return new Ze(t,1,n,Tt.min(),r,l,0)}static newNoDocument(t,n){return new Ze(t,2,n,Tt.min(),Tt.min(),Vn.empty(),0)}static newUnknownDocument(t,n){return new Ze(t,3,n,Tt.min(),Tt.min(),Vn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n){this.position=t,this.inclusive=n}}function wv(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),n.key):r=Xa(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Rv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!pi(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n="asc"){this.field=t,this.dir=n}}function OR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{}class Te extends ST{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new MR(t,n,r):n==="array-contains"?new PR(t,r):n==="in"?new LR(t,r):n==="not-in"?new UR(t,r):n==="array-contains-any"?new zR(t,r):new Te(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new xR(t,r):new kR(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xa(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends ST{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Gn(t,n)}matches(t){return AT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AT(s){return s.op==="and"}function bT(s){return VR(s)&&AT(s)}function VR(s){for(const t of s.filters)if(t instanceof Gn)return!1;return!0}function Zd(s){if(s instanceof Te)return s.field.canonicalString()+s.op.toString()+$a(s.value);if(bT(s))return s.filters.map(t=>Zd(t)).join(",");{const t=s.filters.map(n=>Zd(n)).join(",");return`${s.op}(${t})`}}function wT(s,t){return s instanceof Te?function(r,l){return l instanceof Te&&r.op===l.op&&r.field.isEqual(l.field)&&pi(r.value,l.value)}(s,t):s instanceof Gn?function(r,l){return l instanceof Gn&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce((c,d,g)=>c&&wT(d,l.filters[g]),!0):!1}(s,t):void yt(19439)}function RT(s){return s instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${$a(n.value)}`}(s):s instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(RT).join(" ,")+"}"}(s):"Filter"}class MR extends Te{constructor(t,n,r){super(t,n,r),this.key=dt.fromName(r.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class xR extends Te{constructor(t,n){super(t,"in",n),this.keys=IT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class kR extends Te{constructor(t,n){super(t,"not-in",n),this.keys=IT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function IT(s,t){return(t.arrayValue?.values||[]).map(n=>dt.fromName(n.referenceValue))}class PR extends Te{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Mm(n)&&xl(n.arrayValue,this.value)}}class LR extends Te{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class UR extends Te{constructor(t,n){super(t,"not-in",n)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xl(this.value.arrayValue,n)}}class zR extends Te{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Mm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,n=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Iv(s,t=null,n=[],r=[],l=null,c=null,d=null){return new BR(s,t,n,r,l,c,d)}function xm(s){const t=St(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Zd(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),lh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>$a(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>$a(r)).join(",")),t.Te=n}return t.Te}function km(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!OR(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!wT(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Rv(s.startAt,t.startAt)&&Rv(s.endAt,t.endAt)}function Wd(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n=null,r=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jR(s,t,n,r,l,c,d,g){return new ro(s,t,n,r,l,c,d,g)}function Pm(s){return new ro(s)}function Cv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function CT(s){return s.collectionGroup!==null}function Rl(s){const t=St(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new De(Ge.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new kl(c,r))}),n.has(Ge.keyField().canonicalString())||t.Ie.push(new kl(Ge.keyField(),r))}return t.Ie}function hi(s){const t=St(s);return t.Ee||(t.Ee=qR(t,Rl(s))),t.Ee}function qR(s,t){if(s.limitType==="F")return Iv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new kl(l.field,c)});const n=s.endAt?new Yc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Yc(s.startAt.position,s.startAt.inclusive):null;return Iv(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Jd(s,t){const n=s.filters.concat([t]);return new ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function tm(s,t,n){return new ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function ch(s,t){return km(hi(s),hi(t))&&s.limitType===t.limitType}function DT(s){return`${xm(hi(s))}|lt:${s.limitType}`}function Ua(s){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(l=>RT(l)).join(", ")}]`),lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(l=>$a(l)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(l=>$a(l)).join(",")),`Target(${r})`}(hi(s))}; limitType=${s.limitType})`}function hh(s,t){return t.isFoundDocument()&&function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):dt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(s,t)&&function(r,l){for(const c of Rl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,t)&&function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0}(s,t)&&function(r,l){return!(r.startAt&&!function(d,g,p){const _=wv(d,g,p);return d.inclusive?_<=0:_<0}(r.startAt,Rl(r),l)||r.endAt&&!function(d,g,p){const _=wv(d,g,p);return d.inclusive?_>=0:_>0}(r.endAt,Rl(r),l))}(s,t)}function HR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function NT(s){return(t,n)=>{let r=!1;for(const l of Rl(s)){const c=GR(l,t,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function GR(s,t,n){const r=s.field.isKeyField()?dt.comparator(t.key,n.key):function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?Xa(p,_):yt(42886)}(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Bs(this.inner,(n,r)=>{for(const[l,c]of r)t(l,c)})}isEmpty(){return dT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new ae(dt.comparator);function Zi(){return FR}const OT=new ae(dt.comparator);function El(...s){let t=OT;for(const n of s)t=t.insert(n.key,n);return t}function VT(s){let t=OT;return s.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Os(){return Il()}function MT(){return Il()}function Il(){return new js(s=>s.toString(),(s,t)=>s.isEqual(t))}const QR=new ae(dt.comparator),YR=new De(dt.comparator);function Mt(...s){let t=YR;for(const n of s)t=t.add(n);return t}const KR=new De(Vt);function XR(){return KR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function xT(s){return{integerValue:""+s}}function $R(s,t){return AR(t)?xT(t):Lm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this._=void 0}}function ZR(s,t,n){return s instanceof Kc?function(l,c){const d={fields:{[pT]:{stringValue:gT},[_T]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Vm(c)&&(c=uh(c)),c&&(d.fields[yT]=c),{mapValue:d}}(n,t):s instanceof Pl?PT(s,t):s instanceof Ll?LT(s,t):function(l,c){const d=kT(l,c),g=Dv(d)+Dv(l.Ae);return $d(d)&&$d(l.Ae)?xT(g):Lm(l.serializer,g)}(s,t)}function WR(s,t,n){return s instanceof Pl?PT(s,t):s instanceof Ll?LT(s,t):n}function kT(s,t){return s instanceof Xc?function(r){return $d(r)||function(c){return!!c&&"doubleValue"in c}(r)}(t)?t:{integerValue:0}:null}class Kc extends fh{}class Pl extends fh{constructor(t){super(),this.elements=t}}function PT(s,t){const n=UT(t);for(const r of s.elements)n.some(l=>pi(l,r))||n.push(r);return{arrayValue:{values:n}}}class Ll extends fh{constructor(t){super(),this.elements=t}}function LT(s,t){let n=UT(t);for(const r of s.elements)n=n.filter(l=>!pi(l,r));return{arrayValue:{values:n}}}class Xc extends fh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Dv(s){return ge(s.integerValue||s.doubleValue)}function UT(s){return Mm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function JR(s,t){return s.field.isEqual(t.field)&&function(r,l){return r instanceof Pl&&l instanceof Pl||r instanceof Ll&&l instanceof Ll?Ka(r.elements,l.elements,pi):r instanceof Xc&&l instanceof Xc?pi(r.Ae,l.Ae):r instanceof Kc&&l instanceof Kc}(s.transform,t.transform)}class tI{constructor(t,n){this.version=t,this.transformResults=n}}class Hn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Hn}static exists(t){return new Hn(void 0,t)}static updateTime(t){return new Hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class dh{}function zT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Um(s.key,Hn.none()):new Gl(s.key,s.data,Hn.none());{const n=s.data,r=Vn.empty();let l=new De(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new qs(s.key,r,new jn(l.toArray()),Hn.none())}}function eI(s,t,n){s instanceof Gl?function(l,c,d){const g=l.value.clone(),p=Ov(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,t,n):s instanceof qs?function(l,c,d){if(!Vc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Ov(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(BT(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function Cl(s,t,n,r){return s instanceof Gl?function(c,d,g,p){if(!Vc(c.precondition,d))return g;const _=c.value.clone(),T=Vv(c.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,t,n,r):s instanceof qs?function(c,d,g,p){if(!Vc(c.precondition,d))return g;const _=Vv(c.fieldTransforms,p,d),T=d.data;return T.setAll(BT(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(s,t,n,r):function(c,d,g){return Vc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,t,n)}function nI(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=kT(r.transform,l||null);c!=null&&(n===null&&(n=Vn.empty()),n.set(r.field,c))}return n||null}function Nv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ka(r,l,(c,d)=>JR(c,d))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Gl extends dh{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qs extends dh{constructor(t,n,r,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function BT(s){const t=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}}),t}function Ov(s,t,n){const r=new Map;Ht(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,WR(d,g,n[l]))}return r}function Vv(s,t,n){const r=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);r.set(l.field,ZR(c,d,t))}return r}class Um extends dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iI extends dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&eI(c,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Cl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Cl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=MT();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=zT(d,g);p!==null&&r.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,(n,r)=>Nv(n,r))&&Ka(this.baseMutations,t.baseMutations,(n,r)=>Nv(n,r))}}class zm{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){Ht(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=function(){return QR}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new zm(t,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Lt;function oI(s){switch(s){case Q.OK:return yt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function jT(s){if(s===void 0)return Xi("GRPC error has no .code"),Q.UNKNOWN;switch(s){case Ee.OK:return Q.OK;case Ee.CANCELLED:return Q.CANCELLED;case Ee.UNKNOWN:return Q.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return Q.INTERNAL;case Ee.UNAVAILABLE:return Q.UNAVAILABLE;case Ee.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Ee.NOT_FOUND:return Q.NOT_FOUND;case Ee.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Ee.ABORTED:return Q.ABORTED;case Ee.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Ee.DATA_LOSS:return Q.DATA_LOSS;default:return yt(39323,{code:s})}}(Lt=Ee||(Ee={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new kr([4294967295,4294967295],0);function Mv(s){const t=lI().encode(s),n=new nT;return n.update(t),new Uint8Array(n.digest())}function xv(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new kr([n,r],0),new kr([l,c],0)]}class Bm{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tl(`Invalid padding: ${n}`);if(r<0)throw new Tl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=kr.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(kr.fromNumber(r)));return l.compare(uI)===1&&(l=new kr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Mv(t),[r,l]=xv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Bm(c,l,n);return r.forEach(g=>d.insert(g)),d}insert(t){if(this.ge===0)return;const n=Mv(t),[r,l]=xv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n,r,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new mh(Tt.min(),l,new ae(Vt),Zi(),Mt())}}class Fl{constructor(t,n,r,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Fl(r,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,n,r,l){this.be=t,this.removedTargetIds=n,this.key=r,this.De=l}}class qT{constructor(t,n){this.targetId=t,this.Ce=n}}class HT{constructor(t,n,r=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class kv{constructor(){this.ve=0,this.Fe=Pv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),n=Mt(),r=Mt();return this.Fe.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:yt(38017,{changeType:c})}}),new Fl(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=Pv()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Zi(),this.Je=Sc(),this.He=Sc(),this.Ye=new ae(Vt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,l)=>{this.rt(l)&&n(l)})}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Wd(c))if(r===0){const d=new dt(c.path);this.et(n,d,Ze.newNoDocument(d,Tt.min()))}else Ht(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const g=this.ut(t),p=g?this.ct(g,t,d):1;if(p!==0){this.it(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=jr(r).toUint8Array()}catch(p){if(p instanceof mT)return Ya("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Bm(d,l,c)}catch(p){return Ya(p instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach(c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(n,c,null),l++)}),l}Tt(t){const n=new Map;this.ze.forEach((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Wd(g.target)){const p=new dt(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Ze.newNoDocument(p,t))}c.Be&&(n.set(d,c.ke()),c.qe())}});let r=Mt();this.He.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(c))}),this.je.forEach((c,d)=>d.setReadTime(t));const l=new mh(t,n,this.Ye,this.je,r);return this.je=Zi(),this.Je=Sc(),this.He=Sc(),this.Ye=new ae(Vt),l}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new kv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new De(Vt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new De(Vt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new kv),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Sc(){return new ae(dt.comparator)}function Pv(){return new ae(dt.comparator)}const hI={asc:"ASCENDING",desc:"DESCENDING"},fI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dI={and:"AND",or:"OR"};class mI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function em(s,t){return s.useProto3Json||lh(t)?t:{value:t}}function $c(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function gI(s,t){return $c(s,t.toTimestamp())}function fi(s){return Ht(!!s,49232),Tt.fromTimestamp(function(n){const r=Br(n);return new ne(r.seconds,r.nanos)}(s))}function jm(s,t){return nm(s,t).canonicalString()}function nm(s,t){const n=function(l){return new ee(["projects",l.projectId,"databases",l.database])}(s).child("documents");return t===void 0?n:n.child(t)}function FT(s){const t=ee.fromString(s);return Ht($T(t),10190,{key:t.toString()}),t}function im(s,t){return jm(s.databaseId,t.path)}function xd(s,t){const n=FT(t);if(n.get(1)!==s.databaseId.projectId)throw new st(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new st(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new dt(YT(n))}function QT(s,t){return jm(s.databaseId,t)}function pI(s){const t=FT(s);return t.length===4?ee.emptyPath():YT(t)}function rm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function YT(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Lv(s,t,n){return{name:im(s,t),fields:n.value.mapValue.fields}}function yI(s,t){let n;if("targetChange"in t){t.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,T){return _.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),Fe.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Fe.fromUint8Array(T||new Uint8Array))}(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(_){const T=_.code===void 0?Q.UNKNOWN:jT(_.code);return new st(T,_.message||"")}(d);n=new HT(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=xd(s,r.document.name),c=fi(r.document.updateTime),d=r.document.createTime?fi(r.document.createTime):Tt.min(),g=new Vn({mapValue:{fields:r.document.fields}}),p=Ze.newFoundDocument(l,c,d,g),_=r.targetIds||[],T=r.removedTargetIds||[];n=new Mc(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=xd(s,r.document),c=r.readTime?fi(r.readTime):Tt.min(),d=Ze.newNoDocument(l,c),g=r.removedTargetIds||[];n=new Mc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=xd(s,r.document),c=r.removedTargetIds||[];n=new Mc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new aI(l,c),g=r.targetId;n=new qT(g,d)}}return n}function _I(s,t){let n;if(t instanceof Gl)n={update:Lv(s,t.key,t.value)};else if(t instanceof Um)n={delete:im(s,t.key)};else if(t instanceof qs)n={update:Lv(s,t.key,t.data),updateMask:II(t.fieldMask)};else{if(!(t instanceof iI))return yt(16599,{Vt:t.type});n={verify:im(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(c,d){const g=d.transform;if(g instanceof Kc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Xc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:gI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)}(s,t.precondition)),n}function vI(s,t){return s&&s.length>0?(Ht(t!==void 0,14353),s.map(n=>function(l,c){let d=l.updateTime?fi(l.updateTime):fi(c);return d.isEqual(Tt.min())&&(d=fi(c)),new tI(d,l.transformResults||[])}(n,t))):[]}function EI(s,t){return{documents:[QT(s,t.path)]}}function TI(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QT(s,l);const c=function(_){if(_.length!==0)return XT(Gn.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(T=>function(C){return{field:za(C.field),direction:bI(C.dir)}}(T))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=em(s,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{ft:n,parent:l}}function SI(s){let t=pI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ht(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=function(w){const C=KT(w);return C instanceof Gn&&bT(C)?C.getFilters():[C]}(n.where));let d=[];n.orderBy&&(d=function(w){return w.map(C=>function(X){return new kl(Ba(X.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(C))}(n.orderBy));let g=null;n.limit&&(g=function(w){let C;return C=typeof w=="object"?w.value:w,lh(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(w){const C=!!w.before,j=w.values||[];return new Yc(j,C)}(n.startAt));let _=null;return n.endAt&&(_=function(w){const C=!w.before,j=w.values||[];return new Yc(j,C)}(n.endAt)),jR(t,l,d,c,g,"F",p,_)}function AI(s,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function KT(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ba(n.unaryFilter.field);return Te.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(n.unaryFilter.field);return Te.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(n.unaryFilter.field);return Te.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(n.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(s):s.fieldFilter!==void 0?function(n){return Te.create(Ba(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(r=>KT(r)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(n.compositeFilter.op))}(s):yt(30097,{filter:s})}function bI(s){return hI[s]}function wI(s){return fI[s]}function RI(s){return dI[s]}function za(s){return{fieldPath:s.canonicalString()}}function Ba(s){return Ge.fromServerFormat(s.fieldPath)}function XT(s){return s instanceof Te?function(n){if(n.op==="=="){if(bv(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(Av(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bv(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(Av(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:wI(n.op),value:n.value}}}(s):s instanceof Gn?function(n){const r=n.getFilters().map(l=>XT(l));return r.length===1?r[0]:{compositeFilter:{op:RI(n.op),filters:r}}}(s):yt(54877,{filter:s})}function II(s){const t=[];return s.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function $T(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t,n,r,l,c=Tt.min(),d=Tt.min(),g=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Vr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t){this.yt=t}}function DI(s){const t=SI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?tm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.Cn=new OI}addToCollectionParentIndex(t,n){return this.Cn.add(n),K.resolve()}getCollectionParents(t,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return K.resolve()}deleteFieldIndex(t,n){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,n){return K.resolve()}getDocumentsMatchingTarget(t,n){return K.resolve(null)}getIndexType(t,n){return K.resolve(0)}getFieldIndexes(t,n){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,n){return K.resolve(zr.min())}getMinOffsetFromCollectionGroup(t,n){return K.resolve(zr.min())}updateCollectionGroup(t,n,r){return K.resolve()}updateIndexEntries(t,n){return K.resolve()}}class OI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new De(ee.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new De(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZT=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(ZT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Za(0)}static cr(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="LruGarbageCollector",VI=1048576;function Bv([s,t],[n,r]){const l=Vt(s,n);return l===0?Vt(t,r):l}class MI{constructor(t){this.Ir=t,this.buffer=new De(Bv),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Bv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xI{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?at(zv,"Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.Vr(3e5)})}}class kI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return K.resolve(oh.ce);const r=new MI(n);return this.mr.forEachTarget(t,l=>r.Ar(l.sequenceNumber)).next(()=>this.mr.pr(t,l=>r.Ar(l))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Uv)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,l,c,d,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l))).next(w=>(r=w,g=Date.now(),this.removeTargets(t,r,n))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(w=>(_=Date.now(),La()<=Ot.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w})))}}function PI(s,t){return new kI(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.changes=new js(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(r=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(r!==null&&Cl(r.mutation,l,jn.empty(),ne.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Mt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Mt()){const l=Os();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,r).next(c=>{let d=El();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const r=Os();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Mt()))}populateOverlays(t,n,r){const l=[];return r.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(t,n,r,l){let c=Zi();const d=Il(),g=function(){return Il()}();return n.forEach((p,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof qs)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Cl(T.mutation,_,T.mutation.getFieldMask(),ne.now())):d.set(_.key,jn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,T)=>d.set(_,T)),n.forEach((_,T)=>g.set(_,new UI(T,d.get(_)??null))),g))}recalculateAndSaveOverlays(t,n){const r=Il();let l=new ae((d,g)=>d-g),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=r.get(p)||jn.empty();T=g.applyToLocalView(_,T),r.set(p,T);const w=(l.get(g.batchId)||Mt()).add(p);l=l.insert(g.batchId,w)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,w=MT();T.forEach(C=>{if(!c.has(C)){const j=zT(n.get(C),r.get(C));j!==null&&w.set(C,j),c=c.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return K.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,l){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):CT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-c.size):K.resolve(Os());let g=Ol,p=c;return d.next(_=>K.forEach(_,(T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(T)?K.resolve():this.remoteDocumentCache.getEntry(t,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Mt())).next(T=>({batchId:g,changes:VT(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next(r=>{let l=El();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const c=n.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,p=>{const _=function(w,C){return new ro(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next(T=>{T.forEach((w,C)=>{d=d.insert(w,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,c,l))).next(d=>{c.forEach((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Ze.newInvalidDocument(T)))});let g=El();return d.forEach((p,_)=>{const T=c.get(p);T!==void 0&&Cl(T.mutation,_,jn.empty(),ne.now()),hh(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return K.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:fi(l.createTime)}}(n)),K.resolve()}getNamedQuery(t,n){return K.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(l){return{name:l.name,query:DI(l.bundledQuery),readTime:fi(l.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.overlays=new ae(dt.comparator),this.qr=new Map}getOverlay(t,n){return K.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Os();return K.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&r.set(l,c)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((l,c)=>{this.St(t,n,c)}),K.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(t,n,r){const l=Os(),c=n.length+1,d=new dt(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>r&&l.set(p.getKey(),p)}return K.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let c=new ae((_,T)=>_-T);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let T=c.get(_.largestBatchId);T===null&&(T=Os(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Os(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>g.set(_,T)),!(g.size()>=l)););return K.resolve(g)}St(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new sI(n,r));let c=this.qr.get(n);c===void 0&&(c=Mt(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.Qr=new De(Pe.$r),this.Ur=new De(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Pe(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Gr(new Pe(t,n))}zr(t,n){t.forEach(r=>this.removeReference(r,n))}jr(t){const n=new dt(new ee([])),r=new Pe(n,t),l=new Pe(n,t+1),c=[];return this.Ur.forEachInRange([r,l],d=>{this.Gr(d),c.push(d.key)}),c}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new dt(new ee([])),r=new Pe(n,t),l=new Pe(n,t+1);let c=Mt();return this.Ur.forEachInRange([r,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new Pe(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return dt.comparator(t.key,n.key)||Vt(t.Yr,n.Yr)}static Kr(t,n){return Vt(t.Yr,n.Yr)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new De(Pe.$r)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new rI(c,n,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,n){return K.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.ei(r),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Om:this.tr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Pe(n,0),l=new Pe(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],d=>{const g=this.Xr(d.Yr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new De(Vt);return n.forEach(l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],g=>{r=r.add(g.Yr)})}),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let c=r;dt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new dt(c),0);let g=new De(Vt);return this.Zr.forEachWhile(p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Yr)),!0)},d),K.resolve(this.ti(g))}ti(t){const n=[];return t.forEach(r=>{const l=this.Xr(r);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(n.mutations,l=>{const c=new Pe(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,n){const r=new Pe(n,0),l=this.Zr.firstAfterOrEqual(r);return K.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.ri=t,this.docs=function(){return new ae(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(t,n){let r=Zi();return n.forEach(l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))}),K.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let c=Zi();const d=n.path,g=new dt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||vR(_R(T),r)<=0||(l.has(T.key)||hh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,n,r,l){yt(9500)}ii(t,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new FI(this)}getSize(t){return K.resolve(this.size)}}class FI extends LI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)}),K.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.persistence=t,this.si=new js(n=>xm(n),km),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new qm,this.targetCount=0,this.ai=Za.ur()}forEachTarget(t,n){return this.si.forEach((r,l)=>n(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),K.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Za(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,K.resolve()}updateTargetData(t,n){return this.Pr(n),K.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,n,r){let l=0;const c=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return K.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),K.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),K.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return K.resolve(r)}containsKey(t,n){return K.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t,n){this.ui={},this.overlays={},this.ci=new oh(0),this.li=!1,this.li=!0,this.hi=new qI,this.referenceDelegate=t(this),this.Pi=new QI(this),this.indexManager=new NI,this.remoteDocumentCache=function(l){return new GI(l)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new CI(n),this.Ii=new BI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new jI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new HI(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){at("MemoryPersistence","Starting transaction:",t);const l=new YI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next(c=>this.referenceDelegate.di(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ai(t,n){return K.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,n)))}}class YI extends TR{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Ri=new qm,this.Vi=null}static mi(t){return new Hm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),K.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),K.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(l=>this.fi.add(l.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.fi.add(c.toString()))}).next(()=>r.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,r=>{const l=dt.fromPath(r);return this.gi(t,l).next(c=>{c||n.removeEntry(l,Tt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return K.or([()=>K.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Zc{constructor(t,n){this.persistence=t,this.pi=new js(r=>bR(r.path),(r,l)=>r.isEqual(l)),this.garbageCollector=PI(this,n)}static mi(t,n){return new Zc(t,n)}Ei(){}di(t){return K.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(l=>r+l))}wr(t){let n=0;return this.pr(t,r=>{n++}).next(()=>n)}pr(t,n){return K.forEach(this.pi,(r,l)=>this.br(t,r,l).next(c=>c?K.resolve():n(l)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,d=>this.br(t,d,n).next(g=>{g||(r++,c.removeEntry(d,Tt.min()))})).next(()=>c.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),K.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),K.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),K.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Nc(t.data.value)),n}br(t,n,r){return K.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return K.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=l}static As(t,n){let r=Mt(),l=Mt();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Gm(t,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return zA()?8:SR(We())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const c={result:null};return this.ys(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ws(t,n,l,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new KI;return this.Ss(t,n,d).next(g=>{if(c.result=g,this.Vs)return this.bs(t,n,d,g.size)})}).next(()=>c.result)}bs(t,n,r,l){return r.documentReadCount<this.fs?(La()<=Ot.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(La()<=Ot.DEBUG&&at("QueryEngine","Query:",Ua(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(La()<=Ot.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hi(n))):K.resolve())}ys(t,n){if(Cv(n))return K.resolve(null);let r=hi(n);return this.indexManager.getIndexType(t,r).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=tm(n,null,"F"),r=hi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,r).next(p=>{const _=this.Ds(n,g);return this.Cs(n,_,d,p.readTime)?this.ys(t,tm(n,null,"F")):this.vs(t,_,n,p)}))})))}ws(t,n,r,l){return Cv(n)||l.isEqual(Tt.min())?K.resolve(null):this.ps.getDocuments(t,r).next(c=>{const d=this.Ds(n,c);return this.Cs(n,d,r,l)?K.resolve(null):(La()<=Ot.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ua(n)),this.vs(t,d,n,yR(l,Ol)).next(g=>g))})}Ds(t,n){let r=new De(NT(t));return n.forEach((l,c)=>{hh(t,c)&&(r=r.add(c))}),r}Cs(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,r){return La()<=Ot.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.ps.getDocumentsMatchingQuery(t,n,zr.min(),r)}vs(t,n,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="LocalStore",$I=3e8;class ZI{constructor(t,n,r,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new ae(Vt),this.xs=new js(c=>xm(c),km),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function WI(s,t,n,r){return new ZI(s,t,n,r)}async function JT(s,t){const n=St(s);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next(c=>(l=c,n.Bs(t),n.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],g=[];let p=Mt();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(r,p).next(_=>({Ls:_,removedBatchIds:d,addedBatchIds:g}))})})}function JI(s,t){const n=St(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const l=t.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(g,p,_,T){const w=_.batch,C=w.keys();let j=K.resolve();return C.forEach(X=>{j=j.next(()=>T.getEntry(p,X)).next(J=>{const W=_.docVersions.get(X);Ht(W!==null,48541),J.version.compareTo(W)<0&&(w.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),T.addEntry(J)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(p,w))}(n,r,t,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let p=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(r,l))})}function t0(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function tC(s,t){const n=St(s),r=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];t.targetChanges.forEach((T,w)=>{const C=l.get(w);if(!C)return;g.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(c,T.addedDocuments,w)));let j=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?j=j.withResumeToken(Fe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,r)),l=l.insert(w,j),function(J,W,lt){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=$I?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0}(C,j,T)&&g.push(n.Pi.updateTargetData(c,j))});let p=Zi(),_=Mt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(eC(c,d,t.documentUpdates).next(T=>{p=T.ks,_=T.qs})),!r.isEqual(Tt.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next(w=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r));g.push(T)}return K.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Ms=l,c))}function eC(s,t,n){let r=Mt(),l=Mt();return n.forEach(c=>r=r.add(c)),t.getEntries(s,r).next(c=>{let d=Zi();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):at(Fm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{ks:d,qs:l}})}function nC(s,t){const n=St(s);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Om),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function iC(s,t){const n=St(s);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let l;return n.Pi.getTargetData(r,t).next(c=>c?(l=c,K.resolve(l)):n.Pi.allocateTargetId(r).next(d=>(l=new Vr(t,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next(()=>l))))}).then(r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r})}async function sm(s,t,n){const r=St(s),l=r.Ms.get(t),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!io(d))throw d;at(Fm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function jv(s,t,n){const r=St(s);let l=Tt.min(),c=Mt();return r.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,T){const w=St(p),C=w.xs.get(T);return C!==void 0?K.resolve(w.Ms.get(C)):w.Pi.getTargetData(_,T)}(r,d,hi(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>r.Fs.getDocumentsMatchingQuery(d,t,n?l:Tt.min(),n?c:Mt())).next(g=>(rC(r,HR(t),g),{documents:g,Qs:c})))}function rC(s,t,n){let r=s.Os.get(t)||Tt.min();n.forEach((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),s.Os.set(t,r)}class qv{constructor(){this.activeTargetIds=XR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sC{constructor(){this.Mo=new qv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new qv,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="ConnectivityMonitor";class Gv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Hv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Hv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function am(){return Ac===null?Ac=function(){return 268435456+Math.round(2147483648*Math.random())}():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="RestConnection",oC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Fc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,n,r,l,c){const d=am(),g=this.zo(t,n.toUriEncodedString());at(kd,`Sending RPC '${t}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:_}=new URL(g),T=zs(_);return this.Jo(t,g,p,r,T).then(w=>(at(kd,`Received RPC '${t}' ${d}: `,w),w),w=>{throw Ya(kd,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",r),w})}Ho(t,n,r,l,c,d){return this.Go(t,n,r,l,c)}jo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),r&&r.headers.forEach((l,c)=>t[c]=l)}zo(t,n){const r=oC[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class cC extends lC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,l,c){const d=am();return new Promise((g,p)=>{const _=new iT;_.setWithCredentials(!0),_.listenOnce(rT.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Dc.NO_ERROR:const w=_.getResponseJson();at(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case Dc.TIMEOUT:at(Xe,`RPC '${t}' ${d} timed out`),p(new st(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const C=_.getStatus();if(at(Xe,`RPC '${t}' ${d} failed with status:`,C,"response text:",_.getResponseText()),C>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j?.error;if(X&&X.status&&X.message){const J=function(lt){const ct=lt.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(ct)>=0?ct:Q.UNKNOWN}(X.status);p(new st(J,X.message))}else p(new st(Q.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new st(Q.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Xe,`RPC '${t}' ${d} completed.`)}});const T=JSON.stringify(l);at(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",T,r,15)})}T_(t,n,r){const l=am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=oT(),g=aT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const T=c.join("");at(Xe,`Creating RPC '${t}' stream ${l}: ${T}`,p);const w=d.createWebChannel(T,p);this.I_(w);let C=!1,j=!1;const X=new uC({Yo:W=>{j?at(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(C||(at(Xe,`Opening RPC '${t}' stream ${l} transport.`),w.open(),C=!0),at(Xe,`RPC '${t}' stream ${l} sending:`,W),w.send(W))},Zo:()=>w.close()}),J=(W,lt,ct)=>{W.listen(lt,ht=>{try{ct(ht)}catch(Gt){setTimeout(()=>{throw Gt},0)}})};return J(w,vl.EventType.OPEN,()=>{j||(at(Xe,`RPC '${t}' stream ${l} transport opened.`),X.o_())}),J(w,vl.EventType.CLOSE,()=>{j||(j=!0,at(Xe,`RPC '${t}' stream ${l} transport closed`),X.a_(),this.E_(w))}),J(w,vl.EventType.ERROR,W=>{j||(j=!0,Ya(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),X.a_(new st(Q.UNAVAILABLE,"The operation could not be completed")))}),J(w,vl.EventType.MESSAGE,W=>{if(!j){const lt=W.data[0];Ht(!!lt,16349);const ct=lt,ht=ct?.error||ct[0]?.error;if(ht){at(Xe,`RPC '${t}' stream ${l} received error:`,ht);const Gt=ht.status;let At=function(A){const I=Ee[A];if(I!==void 0)return jT(I)}(Gt),jt=ht.message;At===void 0&&(At=Q.INTERNAL,jt="Unknown error status: "+Gt+" with message "+ht.message),j=!0,X.a_(new st(At,jt)),w.close()}else at(Xe,`RPC '${t}' stream ${l} received:`,lt),X.u_(lt)}}),J(g,sT.STAT_EVENT,W=>{W.stat===Yd.PROXY?at(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Yd.NOPROXY&&at(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{X.__()},0),X}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(s){return new mI(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(t,n,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="PersistentStream";class n0{constructor(t,n,r,l,c,d,g,p){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new e0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Xi(n.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,l])=>{this.D_===n&&this.G_(r,l)},r=>{t(()=>{const l=new st(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)})})}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(l=>{r(()=>this.z_(l))}),this.stream.onMessage(l=>{r(()=>++this.F_==1?this.J_(l):this.onNext(l))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return at(Fv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(at(Fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hC extends n0{constructor(t,n,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=yI(this.serializer,t),r=function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?fi(d.readTime):Tt.min()}(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=rm(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=Wd(p)?{documents:EI(c,p)}:{query:TI(c,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=GT(c,d.resumeToken);const _=em(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=$c(c,d.snapshotVersion.toTimestamp());const _=em(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const r=AI(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=rm(this.serializer),n.removeTarget=t,this.q_(n)}}class fC extends n0{constructor(t,n,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=vI(t.writeResults,t.commitTime),r=fi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=rm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>_I(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{}class mC extends dC{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Go(t,nm(n,r),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(Q.UNKNOWN,c.toString())})}Ho(t,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(t,nm(n,r),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(Q.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class gC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xi(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class pC{constructor(t,n,r,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(d=>{r.enqueueAndForget(async()=>{Hs(this)&&(at(Us,"Restarting streams for network reachability change."),await async function(p){const _=St(p);_.Ea.add(4),await Ql(_),_.Ra.set("Unknown"),_.Ea.delete(4),await ph(_)}(this))})}),this.Ra=new gC(r,l)}}async function ph(s){if(Hs(s))for(const t of s.da)await t(!0)}async function Ql(s){for(const t of s.da)await t(!1)}function i0(s,t){const n=St(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Xm(n)?Km(n):so(n).O_()&&Ym(n,t))}function Qm(s,t){const n=St(s),r=so(n);n.Ia.delete(t),r.O_()&&r0(n,t),n.Ia.size===0&&(r.O_()?r.L_():Hs(n)&&n.Ra.set("Unknown"))}function Ym(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}so(s).Y_(t)}function r0(s,t){s.Va.Ue(t),so(s).Z_(t)}function Km(s){s.Va=new cI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),so(s).start(),s.Ra.ua()}function Xm(s){return Hs(s)&&!so(s).x_()&&s.Ia.size>0}function Hs(s){return St(s).Ea.size===0}function s0(s){s.Va=void 0}async function yC(s){s.Ra.set("Online")}async function _C(s){s.Ia.forEach((t,n)=>{Ym(s,t)})}async function vC(s,t){s0(s),Xm(s)?(s.Ra.ha(t),Km(s)):s.Ra.set("Unknown")}async function EC(s,t,n){if(s.Ra.set("Online"),t instanceof HT&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))}(s,t)}catch(r){at(Us,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Wc(s,r)}else if(t instanceof Mc?s.Va.Ze(t):t instanceof qT?s.Va.st(t):s.Va.tt(t),!n.isEqual(Tt.min()))try{const r=await t0(s.localStore);n.compareTo(r)>=0&&await function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,_)=>{const T=c.Ia.get(p);if(!T)return;c.Ia.set(p,T.withResumeToken(Fe.EMPTY_BYTE_STRING,T.snapshotVersion)),r0(c,p);const w=new Vr(T.target,p,_,T.sequenceNumber);Ym(c,w)}),c.remoteSyncer.applyRemoteEvent(g)}(s,n)}catch(r){at(Us,"Failed to raise snapshot:",r),await Wc(s,r)}}async function Wc(s,t,n){if(!io(t))throw t;s.Ea.add(1),await Ql(s),s.Ra.set("Offline"),n||(n=()=>t0(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{at(Us,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await ph(s)})}function a0(s,t){return t().catch(n=>Wc(s,n,t))}async function yh(s){const t=St(s),n=Hr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Om;for(;TC(t);)try{const l=await nC(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,SC(t,l)}catch(l){await Wc(t,l)}o0(t)&&l0(t)}function TC(s){return Hs(s)&&s.Ta.length<10}function SC(s,t){s.Ta.push(t);const n=Hr(s);n.O_()&&n.X_&&n.ea(t.mutations)}function o0(s){return Hs(s)&&!Hr(s).x_()&&s.Ta.length>0}function l0(s){Hr(s).start()}async function AC(s){Hr(s).ra()}async function bC(s){const t=Hr(s);for(const n of s.Ta)t.ea(n.mutations)}async function wC(s,t,n){const r=s.Ta.shift(),l=zm.from(r,t,n);await a0(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await yh(s)}async function RC(s,t){t&&Hr(s).X_&&await async function(r,l){if(function(d){return oI(d)&&d!==Q.ABORTED}(l.code)){const c=r.Ta.shift();Hr(r).B_(),await a0(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l)),await yh(r)}}(s,t),o0(s)&&l0(s)}async function Qv(s,t){const n=St(s);n.asyncQueue.verifyOperationInProgress(),at(Us,"RemoteStore received new credentials");const r=Hs(n);n.Ea.add(3),await Ql(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ph(n)}async function IC(s,t){const n=St(s);t?(n.Ea.delete(2),await ph(n)):t||(n.Ea.add(2),await Ql(n),n.Ra.set("Unknown"))}function so(s){return s.ma||(s.ma=function(n,r,l){const c=St(n);return c.sa(),new hC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{Xo:yC.bind(null,s),t_:_C.bind(null,s),r_:vC.bind(null,s),H_:EC.bind(null,s)}),s.da.push(async t=>{t?(s.ma.B_(),Xm(s)?Km(s):s.Ra.set("Unknown")):(await s.ma.stop(),s0(s))})),s.ma}function Hr(s){return s.fa||(s.fa=function(n,r,l){const c=St(n);return c.sa(),new fC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:AC.bind(null,s),r_:RC.bind(null,s),ta:bC.bind(null,s),na:wC.bind(null,s)}),s.da.push(async t=>{t?(s.fa.B_(),await yh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Us,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n,r,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,c){const d=Date.now()+r,g=new $m(t,n,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(s,t){if(Xi("AsyncQueue",`${t}: ${s}`),io(s))return new st(Q.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||dt.comparator(n.key,r.key):(n,r)=>dt.comparator(n.key,r.key),this.keyedMap=El(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.ga=new ae(dt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class Wa{constructor(t,n,r,l,c,d,g,p,_){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,r,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new Wa(t,n,Ga.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class DC{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=St(n),c=l.queries;l.queries=Kv(),c.forEach((d,g)=>{for(const p of g.Sa)p.onError(r)})})(this,new st(Q.ABORTED,"Firestore shutting down"))}}function Kv(){return new js(s=>DT(s),ch)}async function u0(s,t){const n=St(s);let r=3;const l=t.query;let c=n.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new CC,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Zm(d,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&Wm(n)}async function c0(s,t){const n=St(s),r=t.query;let l=3;const c=n.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NC(s,t){const n=St(s);let r=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&Wm(n)}function OC(s,t,n){const r=St(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(t)}function Wm(s){s.Ca.forEach(t=>{t.next()})}var om,Xv;(Xv=om||(om={})).Ma="default",Xv.Cache="cache";class h0{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Wa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t){this.key=t}}class d0{constructor(t){this.key=t}}class VC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=NT(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new Yv,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((T,w)=>{const C=l.get(T),j=hh(this.query,w)?w:null,X=!!C&&this.mutatedKeys.has(C.key),J=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let W=!1;C&&j?C.data.isEqual(j.data)?X!==J&&(r.track({type:3,doc:j}),W=!0):this.su(C,j)||(r.track({type:2,doc:j}),W=!0,(p&&this.eu(j,p)>0||_&&this.eu(j,_)<0)&&(g=!0)):!C&&j?(r.track({type:0,doc:j}),W=!0):C&&!j&&(r.track({type:1,doc:C}),W=!0,(p||_)&&(g=!0)),W&&(j?(d=d.add(j),c=J?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort((T,w)=>function(j,X){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:W})}};return J(j)-J(X)}(T.type,w.type)||this.eu(T.doc,w.doc)),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new Wa(this.query,t.tu,c,d,t.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return t.forEach(r=>{this.Xa.has(r)||n.push(new d0(r))}),this.Xa.forEach(r=>{t.has(r)||n.push(new f0(r))}),n}cu(t){this.Ya=t.Qs,this.Xa=Mt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jm="SyncEngine";class MC{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class xC{constructor(t){this.key=t,this.hu=!1}}class kC{constructor(t,n,r,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new js(g=>DT(g),ch),this.Iu=new Map,this.Eu=new Set,this.du=new ae(dt.comparator),this.Au=new Map,this.Ru=new qm,this.Vu={},this.mu=new Map,this.fu=Za.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PC(s,t,n=!0){const r=v0(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await m0(r,t,n,!0),l}async function LC(s,t){const n=v0(s);await m0(n,t,!0,!1)}async function m0(s,t,n,r){const l=await iC(s.localStore,hi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let g;return r&&(g=await UC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&i0(s.remoteStore,l),g}async function UC(s,t,n,r,l){s.pu=(w,C,j)=>async function(J,W,lt,ct){let ht=W.view.ru(lt);ht.Cs&&(ht=await jv(J.localStore,W.query,!1).then(({documents:M})=>W.view.ru(M,ht)));const Gt=ct&&ct.targetChanges.get(W.targetId),At=ct&&ct.targetMismatches.get(W.targetId)!=null,jt=W.view.applyChanges(ht,J.isPrimaryClient,Gt,At);return Zv(J,W.targetId,jt.au),jt.snapshot}(s,w,C,j);const c=await jv(s.localStore,t,!0),d=new VC(t,c.Qs),g=d.ru(c.documents),p=Fl.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,p);Zv(s,n,_.au);const T=new MC(t,n,d);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),_.snapshot}async function zC(s,t,n){const r=St(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter(d=>!ch(d,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await sm(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Qm(r.remoteStore,l.targetId),lm(r,l.targetId)}).catch(no)):(lm(r,l.targetId),await sm(r.localStore,l.targetId,!0))}async function BC(s,t){const n=St(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qm(n.remoteStore,r.targetId))}async function jC(s,t,n){const r=KC(s);try{const l=await function(d,g){const p=St(d),_=ne.now(),T=g.reduce((j,X)=>j.add(X.key),Mt());let w,C;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let X=Zi(),J=Mt();return p.Ns.getEntries(j,T).next(W=>{X=W,X.forEach((lt,ct)=>{ct.isValidDocument()||(J=J.add(lt))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,X)).next(W=>{w=W;const lt=[];for(const ct of g){const ht=nI(ct,w.get(ct.key).overlayedDocument);ht!=null&&lt.push(new qs(ct.key,ht,TT(ht.value.mapValue),Hn.exists(!0)))}return p.mutationQueue.addMutationBatch(j,_,lt,g)}).next(W=>{C=W;const lt=W.applyToLocalDocumentSet(w,J);return p.documentOverlayCache.saveOverlays(j,W.batchId,lt)})}).then(()=>({batchId:C.batchId,changes:VT(w)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new ae(Vt)),_=_.insert(g,p),d.Vu[d.currentUser.toKey()]=_}(r,l.batchId,n),await Yl(r,l.changes),await yh(r.remoteStore)}catch(l){const c=Zm(l,"Failed to persist write");n.reject(c)}}async function g0(s,t){const n=St(s);try{const r=await tC(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))}),await Yl(n,r,t)}catch(r){await no(r)}}function $v(s,t,n){const r=St(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=St(d);p.onlineState=g;let _=!1;p.queries.forEach((T,w)=>{for(const C of w.Sa)C.va(g)&&(_=!0)}),_&&Wm(p)}(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function qC(s,t,n){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new ae(dt.comparator);d=d.insert(c,Ze.newNoDocument(c,Tt.min()));const g=Mt().add(c),p=new mh(Tt.min(),new Map,new ae(Vt),d,g);await g0(r,p),r.du=r.du.remove(c),r.Au.delete(t),tg(r)}else await sm(r.localStore,t,!1).then(()=>lm(r,t,n)).catch(no)}async function HC(s,t){const n=St(s),r=t.batch.batchId;try{const l=await JI(n.localStore,t);y0(n,r,null),p0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yl(n,l)}catch(l){await no(l)}}async function GC(s,t,n){const r=St(s);try{const l=await function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next(w=>(Ht(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(_,w))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(r.localStore,t);y0(r,t,n),p0(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Yl(r,l)}catch(l){await no(l)}}function p0(s,t){(s.mu.get(t)||[]).forEach(n=>{n.resolve()}),s.mu.delete(t)}function y0(s,t,n){const r=St(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function lm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach(r=>{s.Ru.containsKey(r)||_0(s,r)})}function _0(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(Qm(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),tg(s))}function Zv(s,t,n){for(const r of n)r instanceof f0?(s.Ru.addReference(r.key,t),FC(s,r)):r instanceof d0?(at(Jm,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||_0(s,r.key)):yt(19791,{wu:r})}function FC(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(at(Jm,"New document in limbo: "+n),s.Eu.add(r),tg(s))}function tg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new dt(ee.fromString(t)),r=s.fu.next();s.Au.set(r,new xC(n)),s.du=s.du.insert(n,r),i0(s.remoteStore,new Vr(hi(Pm(n.path)),r,"TargetPurposeLimboResolution",oh.ce))}}async function Yl(s,t,n){const r=St(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach((g,p)=>{d.push(r.pu(p,t,n).then(_=>{if((_||n)&&r.isPrimaryClient){const T=_?!_.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(_){l.push(_);const T=Gm.As(p.targetId,_);c.push(T)}}))}),await Promise.all(d),r.Pu.H_(l),await async function(p,_){const T=St(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>K.forEach(_,C=>K.forEach(C.Es,j=>T.persistence.referenceDelegate.addReference(w,C.targetId,j)).next(()=>K.forEach(C.ds,j=>T.persistence.referenceDelegate.removeReference(w,C.targetId,j)))))}catch(w){if(!io(w))throw w;at(Fm,"Failed to update sequence numbers: "+w)}for(const w of _){const C=w.targetId;if(!w.fromCache){const j=T.Ms.get(C),X=j.snapshotVersion,J=j.withLastLimboFreeSnapshotVersion(X);T.Ms=T.Ms.insert(C,J)}}}(r.localStore,c))}async function QC(s,t){const n=St(s);if(!n.currentUser.isEqual(t)){at(Jm,"User change. New user:",t.toKey());const r=await JT(n.localStore,t);n.currentUser=t,function(c,d){c.mu.forEach(g=>{g.forEach(p=>{p.reject(new st(Q.CANCELLED,d))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Yl(n,r.Ls)}}function YC(s,t){const n=St(s),r=n.Au.get(t);if(r&&r.hu)return Mt().add(r.key);{let l=Mt();const c=n.Iu.get(t);if(!c)return l;for(const d of c){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function v0(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=g0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qC.bind(null,t),t.Pu.H_=NC.bind(null,t.eventManager),t.Pu.yu=OC.bind(null,t.eventManager),t}function KC(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GC.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return WI(this.persistence,new XI,t.initialUser,this.serializer)}Cu(t){return new WT(Hm.mi,this.serializer)}Du(t){return new sC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class XC extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof Zc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xI(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new WT(r=>Zc.mi(r,n),this.serializer)}}class um{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$v(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QC.bind(null,this.syncEngine),await IC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new DC}()}createDatastore(t){const n=gh(t.databaseInfo.databaseId),r=function(c){return new cC(c)}(t.databaseInfo);return function(c,d,g,p){return new mC(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,l,c,d,g){return new pC(r,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,n=>$v(this.syncEngine,n,0),function(){return Gv.v()?new Gv:new aC}())}createSyncEngine(t,n){return function(l,c,d,g,p,_,T){const w=new kC(l,c,d,g,p,_);return T&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=St(n);at(Us,"RemoteStore shutting down."),r.Ea.add(5),await Ql(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Xi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="FirestoreClient";class $C{constructor(t,n,r,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async d=>{at(Gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(at(Gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Zm(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Ld(s,t){s.asyncQueue.verifyOperationInProgress(),at(Gr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener(async l=>{r.isEqual(l)||(await JT(t.localStore,l),r=l)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Wv(s,t){s.asyncQueue.verifyOperationInProgress();const n=await ZC(s);at(Gr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener(r=>Qv(t.remoteStore,r)),s.setAppCheckTokenChangeListener((r,l)=>Qv(t.remoteStore,l)),s._onlineComponents=t}async function ZC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(Gr,"Using user provided OfflineComponentProvider");try{await Ld(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await Ld(s,new Jc)}}else at(Gr,"Using default OfflineComponentProvider"),await Ld(s,new XC(void 0));return s._offlineComponents}async function T0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(Gr,"Using user provided OnlineComponentProvider"),await Wv(s,s._uninitializedComponentsProvider._online)):(at(Gr,"Using default OnlineComponentProvider"),await Wv(s,new um))),s._onlineComponents}function WC(s){return T0(s).then(t=>t.syncEngine)}async function S0(s){const t=await T0(s),n=t.eventManager;return n.onListen=PC.bind(null,t.syncEngine),n.onUnlisten=zC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=LC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=BC.bind(null,t.syncEngine),n}function JC(s,t,n={}){const r=new Qi;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,_){const T=new E0({next:C=>{T.Nu(),d.enqueueAndForget(()=>c0(c,w));const j=C.docs.has(g);!j&&C.fromCache?_.reject(new st(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&C.fromCache&&p&&p.source==="server"?_.reject(new st(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),w=new h0(Pm(g.path),T,{includeMetadataChanges:!0,qa:!0});return u0(c,w)}(await S0(s),s.asyncQueue,t,n,r)),r.promise}function t2(s,t,n={}){const r=new Qi;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,_){const T=new E0({next:C=>{T.Nu(),d.enqueueAndForget(()=>c0(c,w)),C.fromCache&&p.source==="server"?_.reject(new st(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(C)},error:C=>_.reject(C)}),w=new h0(g,T,{includeMetadataChanges:!0,qa:!0});return u0(c,w)}(await S0(s),s.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="firestore.googleapis.com",tE=!0;class eE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b0,this.ssl=tE}else this.host=t.host,this.ssl=t.ssl??tE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ZT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<VI)throw new st(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A0(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,l){return r.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _h{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new aR;switch(r.type){case"firstParty":return new cR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Jv.get(n);r&&(at("ComponentProvider","Removing Datastore"),Jv.delete(n),r.terminate())}(this),Promise.resolve()}}function e2(s,t,n,r={}){s=$i(s,_h);const l=zs(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${n}`;l&&(mm(`https://${g}`),gm("Firestore",!0)),c.host!==b0&&c.host!==g&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:r};if(!xs(p,d)&&(s._setSettings(p),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=$e.MOCK_USER;else{_=NA(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new st(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $e(w)}s._authCredentials=new oR(new uT(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Gs(this.firestore,t,this._query)}}class Ae{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ae(this.firestore,t,this._key)}toJSON(){return{type:Ae._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Hl(n,Ae._jsonSchema))return new Ae(t,r||null,new dt(ee.fromString(n.referencePath)))}}Ae._jsonSchemaVersion="firestore/documentReference/1.0",Ae._jsonSchema={type:Se("string",Ae._jsonSchemaVersion),referencePath:Se("string")};class Pr extends Gs{constructor(t,n,r){super(t,n,Pm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ae(this.firestore,null,new dt(t))}withConverter(t){return new Pr(this.firestore,t,this._path)}}function bc(s,t,...n){if(s=Je(s),cT("collection","path",t),s instanceof _h){const r=ee.fromString(t,...n);return mv(r),new Pr(s,null,r)}{if(!(s instanceof Ae||s instanceof Pr))throw new st(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return mv(r),new Pr(s.firestore,null,r)}}function xc(s,t,...n){if(s=Je(s),arguments.length===1&&(t=Nm.newId()),cT("doc","path",t),s instanceof _h){const r=ee.fromString(t,...n);return dv(r),new Ae(s,null,new dt(r))}{if(!(s instanceof Ae||s instanceof Pr))throw new st(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return dv(r),new Ae(s.firestore,s instanceof Pr?s.converter:null,new dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="AsyncQueue";class iE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new e0(this,"async_queue_retry"),this._c=()=>{const r=Pd();r&&at(nE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Pd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Pd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Qi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!io(t))throw t;at(nE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,Xi("INTERNAL UNHANDLED ERROR: ",rE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=$m.createAndSchedule(this,t,n,r,c=>this.hc(c));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:rE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function rE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class ao extends _h{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new iE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new iE(t),this._firestoreClient=void 0,await t}}}function n2(s,t){const n=typeof s=="object"?s:_m(),r=typeof s=="string"?s:Fc,l=nh(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=_E("firestore");c&&e2(l,...c)}return l}function eg(s){if(s._terminated)throw new st(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||i2(s),s._firestoreClient}function i2(s){const t=s._freezeSettings(),n=function(l,c,d,g){return new IR(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,A0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new $C(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mn(Fe.fromBase64String(t))}catch(n){throw new st(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Mn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,Mn._jsonSchema))return Mn.fromBase64String(t.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Se("string",Mn._jsonSchemaVersion),bytes:Se("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new st(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new st(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new st(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,di._jsonSchema))return new di(t.latitude,t.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Se("string",di._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new mi(t.vectorValues);throw new st(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Se("string",mi._jsonSchemaVersion),vectorValues:Se("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=/^__.*__$/;class s2{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new qs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(t,this.data,n,this.fieldTransforms)}}function R0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class ig{constructor(t,n,r,l,c,d){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ig({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return th(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(R0(this.Ac)&&r2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class a2{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||gh(t)}Cc(t,n,r,l=!1){return new ig({Ac:t,methodName:n,Dc:r,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(s){const t=s._freezeSettings(),n=gh(s._databaseId);return new a2(s._databaseId,!!t.ignoreUndefinedProperties,n)}function I0(s,t,n,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,n,l);N0("Data must be an object, but it was:",d,r);const g=C0(r,d);let p,_;if(c.merge)p=new jn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const C=l2(t,w,n);if(!d.contains(C))throw new st(Q.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);c2(T,C)||T.push(C)}p=new jn(T),_=d.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,_=d.fieldTransforms;return new s2(new Vn(g),p,_)}function o2(s,t,n,r=!1){return sg(n,s.Cc(r?4:3,t))}function sg(s,t){if(D0(s=Je(s)))return N0("Unsupported field value:",t,s),C0(s,t);if(s instanceof w0)return function(r,l){if(!R0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,l){const c=[];let d=0;for(const g of r){let p=sg(g,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(s,t)}return function(r,l){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $R(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ne.fromDate(r);return{timestampValue:$c(l.serializer,c)}}if(r instanceof ne){const c=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$c(l.serializer,c)}}if(r instanceof di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:GT(l.serializer,r._byteString)};if(r instanceof Ae){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof mi)return function(d,g){return{mapValue:{fields:{[vT]:{stringValue:ET},[Qc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Lm(g.serializer,_)})}}}}}}(r,l);throw l.Sc(`Unsupported field value: ${ah(r)}`)}(s,t)}function C0(s,t){const n={};return dT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bs(s,(r,l)=>{const c=sg(l,t.mc(r));c!=null&&(n[r]=c)}),{mapValue:{fields:n}}}function D0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ne||s instanceof di||s instanceof Mn||s instanceof Ae||s instanceof w0||s instanceof mi)}function N0(s,t,n){if(!D0(n)||!hT(n)){const r=ah(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function l2(s,t,n){if((t=Je(t))instanceof ng)return t._internalPath;if(typeof t=="string")return O0(s,t);throw th("Field path arguments must be of type string or ",s,!1,void 0,n)}const u2=new RegExp("[~\\*/\\[\\]]");function O0(s,t,n){if(t.search(u2)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new ng(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function th(s,t,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${r}`),d&&(p+=` in document ${l}`),p+=")"),new st(Q.INVALID_ARGUMENT,g+s+p)}function c2(s,t){return s.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t,n,r,l,c){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ae(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new h2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ag("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h2 extends V0{data(){return super.data()}}function ag(s,t){return typeof t=="string"?O0(s,t):t instanceof ng?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{}class M0 extends og{}function d2(s,t,...n){let r=[];t instanceof og&&r.push(t),r=r.concat(n),function(c){const d=c.filter(p=>p instanceof ug).length,g=c.filter(p=>p instanceof lg).length;if(d>1||d>0&&g>0)throw new st(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const l of r)s=l._apply(s);return s}class lg extends M0{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new lg(t,n,r)}_apply(t){const n=this._parse(t);return x0(t._query,n),new Gs(t.firestore,t.converter,Jd(t._query,n))}_parse(t){const n=rg(t.firestore);return function(c,d,g,p,_,T,w){let C;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new st(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){aE(w,T);const X=[];for(const J of w)X.push(sE(p,c,J));C={arrayValue:{values:X}}}else C=sE(p,c,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||aE(w,T),C=o2(g,d,w,T==="in"||T==="not-in");return Te.create(_,T,C)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class ug extends og{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ug(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)x0(d,p),d=Jd(d,p)}(t._query,n),new Gs(t.firestore,t.converter,Jd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cg extends M0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new cg(t,n)}_apply(t){const n=function(l,c,d){if(l.startAt!==null)throw new st(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new st(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kl(c,d)}(t._query,this._field,this._direction);return new Gs(t.firestore,t.converter,function(l,c){const d=l.explicitOrderBy.concat([c]);return new ro(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,n))}}function m2(s,t="asc"){const n=t,r=ag("orderBy",s);return cg._create(r,n)}function sE(s,t,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new st(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CT(t)&&n.indexOf("/")!==-1)throw new st(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ee.fromString(n));if(!dt.isDocumentKey(r))throw new st(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sv(s,new dt(r))}if(n instanceof Ae)return Sv(s,n._key);throw new st(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(n)}.`)}function aE(s,t){if(!Array.isArray(s)||s.length===0)throw new st(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function x0(s,t){const n=function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new st(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class g2{convertValue(t,n="none"){switch(qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Bs(t,(l,c)=>{r[l]=this.convertValue(c,n)}),r}convertVectorValue(t){const n=t.fields?.[Qc].arrayValue?.values?.map(r=>ge(r.doubleValue));return new mi(n)}convertGeoPoint(t){return new di(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=uh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const n=Br(t);return new ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);Ht($T(r),9688,{name:t});const l=new Ml(r.get(1),r.get(3)),c=new dt(r.popFirst(5));return l.isEqual(n)||Xi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class Sl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ms extends V0{constructor(t,n,r,l,c,d){super(t,n,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ag("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ms._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ms._jsonSchema={type:Se("string",Ms._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class kc extends Ms{data(t={}){return super.data(t)}}class Fa{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new kc(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:p2(g.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function p2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(s){s=$i(s,Ae);const t=$i(s.firestore,ao);return JC(eg(t),s._key).then(n=>E2(t,s,n))}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Se("string",Fa._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};class P0 extends g2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ae(this.firestore,null,n)}}function oE(s){s=$i(s,Gs);const t=$i(s.firestore,ao),n=eg(t),r=new P0(t);return f2(s._query),t2(n,s._query).then(l=>new Fa(t,r,s,l))}function _2(s,t,n){s=$i(s,Ae);const r=$i(s.firestore,ao),l=k0(s.converter,t);return hg(r,[I0(rg(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Hn.none())])}function v2(s){return hg($i(s.firestore,ao),[new Um(s._key,Hn.none())])}function lE(s,t){const n=$i(s.firestore,ao),r=xc(s),l=k0(s.converter,t);return hg(n,[I0(rg(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function hg(s,t){return function(r,l){const c=new Qi;return r.asyncQueue.enqueueAndForget(async()=>jC(await WC(r),l,c)),c.promise}(eg(s),t)}function E2(s,t,n){const r=n.docs.get(t._key),l=new P0(s);return new Ms(s,l,t._key,r,new Sl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){eo=l})(Ja),ks(new Ur("firestore",(r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new ao(new lR(r.getProvider("auth-internal")),new hR(d,r.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(_.options.projectId,T)}(d,l),d);return c={useFetchStreams:n,...c},g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),ui(uv,cv,t),ui(uv,cv,"esm2020")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t,n,r,l){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,On(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||r.get().then(c=>this.messaging=c,()=>{}),this.appCheck||l?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),l=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:l}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="us-central1";class S2{constructor(t,n,r,l,c=cm,d=(...g)=>fetch(...g)){this.app=t,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new T2(t,n,r,l),this.cancelAllRequests=new Promise(g=>{this.deleteService=()=>Promise.resolve(g())});try{const g=new URL(c);this.customDomain=g.origin+(g.pathname==="/"?"":g.pathname),this.region=cm}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function A2(s,t,n){const r=zs(t);s.emulatorOrigin=`http${r?"s":""}://${t}:${n}`,r&&(mm(s.emulatorOrigin),gm("Functions",!0))}const uE="@firebase/functions",cE="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="auth-internal",w2="app-check-internal",R2="messaging-internal";function I2(s){const t=(n,{instanceIdentifier:r})=>{const l=n.getProvider("app").getImmediate(),c=n.getProvider(b2),d=n.getProvider(R2),g=n.getProvider(w2);return new S2(l,c,d,g,r)};ks(new Ur(L0,t,"PUBLIC").setMultipleInstances(!0)),ui(uE,cE,s),ui(uE,cE,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(s=_m(),t=cm){const r=nh(Je(s),L0).getImmediate({identifier:t}),l=_E("functions");return l&&D2(r,...l),r}function D2(s,t,n){A2(Je(s),t,n)}I2();const N2={apiKey:"AIzaSyAiJN6RqcyiETRswL-sW4QXVfC1InrspE8",authDomain:"isthishenry-99ba6.firebaseapp.com",projectId:"isthishenry-99ba6",storageBucket:"isthishenry-99ba6.firebasestorage.app",messagingSenderId:"699151675972",appId:"1:699151675972:web:dc34890ae46310d42c4211"},fg=AE(N2),hm=nR(fg),U0=new Hi;U0.addScope("https://www.googleapis.com/auth/calendar.readonly");const Cs=n2(fg);C2(fg);const tt={desktop:"#b7b7b7",windowBg:"#c0c0c0",windowHeader:"#b7b7b7",text:"#000000",textLight:"#ffffff",borderLight:"#dfdfdf",borderDark:"#404040",button:"#c0c0c0"},he=({children:s,style:t={},disabled:n=!1,active:r=!1,...l})=>{const[c,d]=Ct.useState(!1);return $.jsx("button",{disabled:n,onMouseDown:()=>d(!0),onMouseUp:()=>d(!1),onMouseLeave:()=>d(!1),style:{background:tt.button,border:"2px solid",borderColor:c||r?`${tt.borderDark} ${tt.borderLight} ${tt.borderLight} ${tt.borderDark}`:`${tt.borderLight} ${tt.borderDark} ${tt.borderDark} ${tt.borderLight}`,padding:"4px 8px",fontFamily:"'Jacquard 12', 'MS Sans Serif', monospace",fontSize:"12px",cursor:"pointer",userSelect:"none",color:n?"#808080":tt.text,...t},...l,children:s})},O2=({title:s,children:t,onClose:n,style:r={}})=>$.jsxs("div",{style:{background:tt.windowBg,border:"2px solid",borderColor:`${tt.borderLight} ${tt.borderDark} ${tt.borderDark} ${tt.borderLight}`,height:"100%",display:"flex",flexDirection:"column",fontFamily:"'Jacquard 12', 'MS Sans Serif', monospace",fontSize:"12px",...r},children:[$.jsxs("div",{style:{background:tt.windowHeader,color:tt.text,padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",userSelect:"none"},children:[$.jsx("span",{style:{fontWeight:"bold"},children:s}),n&&$.jsx(he,{onClick:n,style:{width:"20px",height:"20px",padding:0,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial",lineHeight:"1"},children:"×"})]}),$.jsx("div",{style:{flex:1,padding:"8px",overflow:"auto",color:tt.text},children:t})]}),V2=({id:s,title:t,position:n,onPositionChange:r,onClose:l,children:c,zIndex:d})=>{const[g,p]=Ct.useState(!1),[_,T]=Ct.useState({x:0,y:0}),w=Ct.useRef(null),C=J=>{J.target.closest("button")||(p(!0),T({x:J.clientX-n.x,y:J.clientY-n.y}))},j=Ct.useCallback(J=>{g&&r(s,{x:J.clientX-_.x,y:J.clientY-_.y})},[g,_.x,_.y,s,r]),X=Ct.useCallback(()=>{p(!1)},[]);return Ct.useEffect(()=>{if(g)return document.addEventListener("mousemove",j),document.addEventListener("mouseup",X),()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",X)}},[g,j,X]),$.jsx("div",{ref:w,style:{position:"absolute",left:n.x,top:n.y,zIndex:d,cursor:g?"move":"default"},onMouseDown:C,children:$.jsx(O2,{title:t,onClose:()=>l(s),children:c})})},fm=({style:s={},...t})=>$.jsx("input",{type:"text",style:{background:tt.textLight,border:"2px solid",borderColor:`${tt.borderDark} ${tt.borderLight} ${tt.borderLight} ${tt.borderDark}`,padding:"4px",fontFamily:"'Jacquard 12', 'MS Sans Serif', monospace",fontSize:"12px",outline:"none",...s},...t}),z0=({style:s={},...t})=>$.jsx("textarea",{style:{background:tt.textLight,border:"2px solid",borderColor:`${tt.borderDark} ${tt.borderLight} ${tt.borderLight} ${tt.borderDark}`,padding:"4px",fontFamily:"'Jacquard 12', 'MS Sans Serif', monospace",fontSize:"12px",resize:"none",outline:"none",...s},...t}),M2=({children:s,style:t={},...n})=>$.jsx("select",{style:{background:tt.textLight,border:"2px solid",borderColor:`${tt.borderDark} ${tt.borderLight} ${tt.borderLight} ${tt.borderDark}`,padding:"4px",fontFamily:"'Jacquard 12', 'MS Sans Serif', monospace",fontSize:"12px",outline:"none",...t},...n,children:s}),x2=({windows:s,activeWindow:t,onAddWindow:n,onFocusWindow:r,onSaveLayout:l,onClearAll:c,onLogout:d,currentTime:g})=>$.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:"32px",background:tt.windowBg,borderTop:`2px solid ${tt.borderLight}`,display:"flex",alignItems:"center",padding:"2px",gap:"4px",zIndex:2e3},children:[$.jsx(he,{onClick:()=>n("search"),title:"Search",children:"🔍"}),$.jsx(he,{onClick:()=>n("rss"),title:"RSS Feed",children:"📰"}),$.jsx(he,{onClick:()=>n("notes"),title:"Notes",children:"📝"}),$.jsx(he,{onClick:()=>n("ai"),title:"AI Launcher",children:"🤖"}),$.jsx(he,{onClick:()=>n("bookmarks"),title:"Bookmarks",children:"🔖"}),$.jsx(he,{onClick:()=>n("calendar"),title:"Calendar",children:"📅"}),$.jsx("div",{style:{width:"2px",height:"28px",borderLeft:`1px solid ${tt.borderDark}`,borderRight:`1px solid ${tt.borderLight}`,margin:"0 2px"}}),$.jsx("div",{style:{flex:1,display:"flex",gap:"2px",overflow:"hidden"},children:s.map(p=>$.jsx(he,{onClick:()=>r(p.id),active:t===p.id,style:{flexShrink:1,minWidth:"60px",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:p.title},p.id))}),$.jsx("div",{style:{padding:"2px 8px",border:"2px solid",borderColor:`${tt.borderDark} ${tt.borderLight} ${tt.borderLight} ${tt.borderDark}`,fontSize:"12px",minWidth:"80px",textAlign:"center"},children:g}),$.jsx(he,{onClick:l,title:"Save Layout",children:"💾"}),$.jsx(he,{onClick:c,title:"Clear All Windows",children:"🗑️"}),$.jsx(he,{onClick:d,title:"Logout",children:"Logout"})]}),k2=()=>{const[s,t]=Ct.useState(""),n=()=>{s.trim()&&(window.open(`https://www.google.com/search?q=${encodeURIComponent(s)}`,"_blank"),t(""))};return $.jsxs("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:[$.jsx("span",{style:{fontSize:"16px"},children:"🔍"}),$.jsx(fm,{value:s,onChange:r=>t(r.target.value),onKeyPress:r=>r.key==="Enter"&&n(),placeholder:"Search Google...",style:{flex:1,width:"300px"}}),$.jsx(he,{onClick:n,children:"Go"})]})},P2="https://api.allorigins.win/raw?url=",L2=["https://rss.nytimes.com/services/xml/rss/nyt/Technology.xml","https://rss.nytimes.com/services/xml/rss/nyt/World.xml","http://astralcodexten.substack.com/feed"];class U2{async fetchFeeds(){const t=[];for(const n of L2)try{const r=await fetch(`${P2}${encodeURIComponent(n)}`);if(!r.ok){console.error(`Failed to fetch ${n}: ${r.statusText}`);continue}const l=await r.text(),c=new window.DOMParser().parseFromString(l,"text/xml"),d=c.querySelector("channel > title")?.textContent||"Unknown Source";c.querySelectorAll("item").forEach(p=>{t.push({title:p.querySelector("title")?.textContent||"",link:p.querySelector("link")?.textContent||"",description:p.querySelector("description")?.textContent?.replace(/<[^>]*>?/gm,"")||"",pubDate:p.querySelector("pubDate")?.textContent||"",source:d})})}catch(r){console.error(`Error parsing feed from ${n}:`,r)}return t.sort((n,r)=>{const l=n.pubDate?new Date(n.pubDate).getTime():0;return(r.pubDate?new Date(r.pubDate).getTime():0)-l}),t.slice(0,30)}}const z2=new U2,B2=()=>{const[s,t]=Ct.useState([]),[n,r]=Ct.useState(!0),[l,c]=Ct.useState(null);return Ct.useEffect(()=>{(async()=>{try{r(!0);const g=await z2.fetchFeeds();t(g)}catch(g){c("Failed to load RSS feeds"),console.error(g)}finally{r(!1)}})()},[]),{articles:s,loading:n,error:l}},j2=()=>{const{articles:s,loading:t,error:n}=B2();return t?$.jsx("div",{style:{padding:"8px"},children:"Loading feeds..."}):n?$.jsx("div",{style:{padding:"8px",color:"red"},children:n}):$.jsx("div",{style:{height:"100%",overflowY:"auto",background:tt.textLight,color:tt.text,border:"2px solid",borderColor:`${tt.borderDark} ${tt.borderLight} ${tt.borderLight} ${tt.borderDark}`},children:s.map((r,l)=>$.jsxs("div",{style:{borderBottom:`1px solid ${tt.borderDark}`,padding:"8px",cursor:"pointer"},onClick:()=>window.open(r.link,"_blank"),children:[$.jsx("div",{style:{fontWeight:"bold",marginBottom:"2px",fontSize:"12px",color:tt.text},children:r.title}),$.jsx("div",{style:{color:"#333",fontSize:"11px",marginBottom:"4px",maxHeight:"4.5em",overflow:"hidden"},children:r.description}),$.jsxs("div",{style:{color:"#555",fontSize:"10px",fontStyle:"italic",display:"flex",justifyContent:"space-between"},children:[$.jsxs("span",{children:["— ",r.source]}),r.pubDate&&$.jsx("span",{children:new Date(r.pubDate).toLocaleDateString()})]})]},l))})};class q2{async saveLayout(t,n){const r=xc(Cs,"layouts",t);await _2(r,{windows:n,timestamp:new Date})}async loadLayout(t){const n=xc(Cs,"layouts",t),r=await y2(n);return r.exists()?r.data().windows:null}async getNotes(t){const n=bc(Cs,"users",t,"notes"),r=d2(n,m2("timestamp","desc"));return(await oE(r)).docs.map(c=>({id:c.id,...c.data()}))}async saveNote(t,n){const r={text:n,timestamp:new Date().toISOString()},l=bc(Cs,"users",t,"notes");return{id:(await lE(l,r)).id,...r}}async getBookmarks(t){const n=bc(Cs,"users",t,"bookmarks"),r=await oE(n);return r.empty?[{name:"GitHub",url:"https://github.com",icon:"📁"},{name:"Hacker News",url:"https://news.ycombinator.com",icon:"📰"}]:r.docs.map(l=>({id:l.id,...l.data()}))}async addBookmark(t,n){const r=bc(Cs,"users",t,"bookmarks");return{id:(await lE(r,n)).id,...n}}async removeBookmark(t,n){const r=xc(Cs,"users",t,"bookmarks",n);await v2(r)}}const Lr=new q2,hE=s=>{let t;const n=new Set,r=(_,T)=>{const w=typeof _=="function"?_(t):_;if(!Object.is(w,t)){const C=t;t=T??(typeof w!="object"||w===null)?w:Object.assign({},t,w),n.forEach(j=>j(t,C))}},l=()=>t,g={setState:r,getState:l,getInitialState:()=>p,subscribe:_=>(n.add(_),()=>n.delete(_))},p=t=s(r,l,g);return g},H2=s=>s?hE(s):hE,G2=s=>s;function F2(s,t=G2){const n=_l.useSyncExternalStore(s.subscribe,_l.useCallback(()=>t(s.getState()),[s,t]),_l.useCallback(()=>t(s.getInitialState()),[s,t]));return _l.useDebugValue(n),n}const fE=s=>{const t=H2(s),n=r=>F2(t,r);return Object.assign(n,t),n},Q2=s=>s?fE(s):fE,Y2={search:"Search",rss:"RSS Feed",notes:"Quick Notes",ai:"AI Assistant",bookmarks:"Bookmarks",calendar:"Calendar"},K2={search:{width:400,height:100},rss:{width:350,height:400},notes:{width:300,height:350},ai:{width:280,height:250},bookmarks:{width:200,height:250},calendar:{width:320,height:420}},dg=Q2((s,t)=>({windows:[],activeWindow:null,userId:null,setUserId:n=>s({userId:n}),addWindow:n=>{const r={id:`${n}-${Date.now()}`,type:n,title:Y2[n],position:{x:100+Math.random()*200,y:100+Math.random()*100},size:K2[n]};s(l=>({windows:[...l.windows,r],activeWindow:r.id}))},removeWindow:n=>{s(r=>({windows:r.windows.filter(l=>l.id!==n),activeWindow:r.activeWindow===n?null:r.activeWindow}))},updateWindowPosition:(n,r)=>{s(l=>({windows:l.windows.map(c=>c.id===n?{...c,position:r}:c)}))},focusWindow:n=>{s({activeWindow:n})},saveLayout:async()=>{const{windows:n,userId:r}=t();r&&(await Lr.saveLayout(r,n),alert("Layout saved!"))},loadLayout:async()=>{const{userId:n}=t();if(n){const r=await Lr.loadLayout(n);r&&s({windows:r})}},clearAll:()=>{if(confirm("Clear all windows? This cannot be undone.")){s({windows:[],activeWindow:null});const{userId:n}=t();n&&Lr.saveLayout(n,[])}}})),X2=()=>{const[s,t]=Ct.useState([]),n=dg(c=>c.userId),r=Ct.useCallback(async()=>{if(n){const c=await Lr.getNotes(n);t(c)}},[n]);return Ct.useEffect(()=>{r()},[r]),{notes:s,saveNote:async c=>{n&&(await Lr.saveNote(n,c),r())}}},$2=()=>{const[s,t]=Ct.useState(""),{notes:n,saveNote:r}=X2(),l=async()=>{await r(s),t("")};return $.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",height:"100%"},children:[$.jsx(z0,{value:s,onChange:c=>t(c.target.value),placeholder:"Type your note here...",style:{height:"80px"}}),$.jsx(he,{onClick:l,disabled:!s.trim(),children:"📝 Save Note"}),$.jsx("div",{style:{flex:1,overflow:"auto",border:"2px solid",borderColor:`${tt.borderDark} ${tt.borderLight} ${tt.borderLight} ${tt.borderDark}`,padding:"4px",background:tt.textLight,color:tt.text},children:n.map(c=>$.jsxs("div",{style:{borderBottom:`1px solid ${tt.borderDark}`,padding:"4px 0",marginBottom:"4px"},children:[$.jsx("div",{style:{color:"#666",fontSize:"10px"},children:new Date(c.timestamp).toLocaleString()}),$.jsx("div",{style:{whiteSpace:"pre-wrap",color:tt.text},children:c.text})]},c.id))})]})},Ud=[{id:"claude",name:"Claude",url:"https://claude.ai/new"},{id:"chatgpt",name:"ChatGPT",url:"https://chat.openai.com/"},{id:"gemini",name:"Gemini",url:"https://gemini.google.com/app"}],Z2=()=>{const[s,t]=Ct.useState(""),[n,r]=Ct.useState("claude"),l=()=>{if(!s.trim())return;const c=Ud.find(d=>d.id===n);c&&navigator.clipboard.writeText(s).then(()=>{window.open(c.url,"_blank"),t(""),alert(`Prompt copied to clipboard! Paste it in ${c.name} chat.`)})};return $.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[$.jsx(M2,{value:n,onChange:c=>r(c.target.value),children:Ud.map(c=>$.jsx("option",{value:c.id,children:c.name},c.id))}),$.jsx(z0,{value:s,onChange:c=>t(c.target.value),placeholder:"Enter your prompt...",style:{minHeight:"80px"}}),$.jsxs(he,{onClick:l,disabled:!s.trim(),children:["🤖 Launch ",Ud.find(c=>c.id===n)?.name]})]})},W2=()=>{const[s,t]=Ct.useState([]),n=dg(d=>d.userId),r=Ct.useCallback(async()=>{if(n){const d=await Lr.getBookmarks(n);t(d)}},[n]);return Ct.useEffect(()=>{r()},[r]),{bookmarks:s,addBookmark:async d=>{n&&(await Lr.addBookmark(n,d),r())},removeBookmark:async d=>{n&&(await Lr.removeBookmark(n,d),r())}}},J2=()=>{const{bookmarks:s,addBookmark:t}=W2(),[n,r]=Ct.useState(!1),[l,c]=Ct.useState({name:"",url:""}),d=()=>{l.name&&l.url&&(t({...l,icon:"🔗"}),c({name:"",url:""}),r(!1))};return $.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[s.map((g,p)=>$.jsxs(he,{onClick:()=>window.open(g.url,"_blank"),style:{textAlign:"left",justifyContent:"flex-start",padding:"4px 8px"},children:[$.jsx("span",{style:{marginRight:"6px"},children:g.icon}),g.name]},p)),n?$.jsxs("div",{style:{border:"2px solid",borderColor:`${tt.borderDark} ${tt.borderLight} ${tt.borderLight} ${tt.borderDark}`,padding:"4px",background:tt.windowBg},children:[$.jsx(fm,{value:l.name,onChange:g=>c({...l,name:g.target.value}),placeholder:"Name",style:{width:"100%",marginBottom:"4px"}}),$.jsx(fm,{value:l.url,onChange:g=>c({...l,url:g.target.value}),placeholder:"URL",style:{width:"100%",marginBottom:"4px"}}),$.jsxs("div",{style:{display:"flex",gap:"4px"},children:[$.jsx(he,{onClick:d,style:{fontSize:"10px",padding:"2px 6px"},children:"OK"}),$.jsx(he,{onClick:()=>r(!1),style:{fontSize:"10px",padding:"2px 6px"},children:"Cancel"})]})]}):$.jsx(he,{onClick:()=>r(!0),style:{marginTop:"8px"},children:"➕ Add Bookmark"})]})},tD=()=>{const[s,t]=Ct.useState([]),[n,r]=Ct.useState(!1),[l,c]=Ct.useState(null),[d,g]=Ct.useState(!1),[p,_]=Ct.useState(null),T=Ct.useCallback(()=>new Promise((j,X)=>{if(window.google?.accounts){j();return}const J=document.createElement("script");J.src="https://accounts.google.com/gsi/client",J.onload=()=>{const W=document.createElement("script");W.src="https://apis.google.com/js/api.js",W.onload=()=>{window.gapi.load("client",{callback:j,onerror:X})},W.onerror=X,document.head.appendChild(W)},J.onerror=X,document.head.appendChild(J)}),[]),w=Ct.useCallback(async()=>{try{return await T(),new Promise(j=>{window.google.accounts.oauth2.initTokenClient({client_id:"699151675972-8ur3v19ta7aq7ss11o41lrl4hfn0ab3i.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/calendar.readonly",callback:J=>{if(J.error){console.error("OAuth error:",J),c("Failed to authenticate with Google Calendar"),j(!1);return}_(J.access_token),g(!0),j(!0)}}).requestAccessToken({prompt:"consent"})})}catch(j){return console.error("Calendar permission error:",j),c("Failed to get calendar permission. Please check your Google API configuration."),!1}},[T]),C=Ct.useCallback(async()=>{if(!((!d||!p)&&!await w())){r(!0),c(null);try{const j=new Date().toISOString(),X=new Date(Date.now()+720*60*60*1e3).toISOString(),J=new URL("https://www.googleapis.com/calendar/v3/calendars/primary/events");J.searchParams.append("timeMin",j),J.searchParams.append("timeMax",X),J.searchParams.append("singleEvents","true"),J.searchParams.append("orderBy","startTime"),J.searchParams.append("maxResults","50"),J.searchParams.append("key","AIzaSyAiJN6RqcyiETRswL-sW4QXVfC1InrspE8");const W=await fetch(J.toString(),{headers:{Authorization:`Bearer ${p}`}});if(!W.ok){const ht=await W.json().catch(()=>({}));throw console.error("Calendar API response:",ht),W.status===403?ht.error?.message?.includes("Calendar API has not been used")?new Error("Google Calendar API is not enabled. Please enable it in Google Cloud Console."):ht.error?.message?.includes("insufficient")?new Error("Insufficient permissions. Please grant calendar access."):new Error("Calendar API access denied. Check your API key and OAuth setup."):new Error(`Calendar API error: ${W.status} ${W.statusText}`)}const ct=(await W.json()).items||[];t(ct),c(null)}catch(j){console.error("Error loading calendar events:",j);const X=j instanceof Error?j.message:"Failed to load calendar events";c(`${X}. Using demo data instead.`);const J=[{id:"demo-1",summary:"Demo: Team Meeting",start:{dateTime:new Date().toISOString()},end:{dateTime:new Date(Date.now()+36e5).toISOString()},location:"Conference Room A"},{id:"demo-2",summary:"Demo: Lunch Meeting",start:{dateTime:new Date(Date.now()+864e5).toISOString()},end:{dateTime:new Date(Date.now()+864e5+36e5).toISOString()},location:"Restaurant"}];t(J)}finally{r(!1)}}},[d,p,w]);return{events:s,loading:n,error:l,hasPermission:d,requestPermission:w,loadEvents:C}},eD=()=>{const{events:s,loading:t,error:n,loadEvents:r,hasPermission:l,requestPermission:c}=tD();Ct.useEffect(()=>{l&&r()},[l,r]);const d=T=>new Date(T).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:T.includes("T")?"numeric":void 0,minute:T.includes("T")?"2-digit":void 0}),g=T=>T.start.dateTime||T.start.date||"",p=s.filter(T=>{const w=g(T);if(!w)return!1;const C=new Date().toDateString(),j=new Date(w).toDateString();return C===j}),_=s.filter(T=>{const w=g(T);if(!w)return!1;const C=new Date;return new Date(w)>C}).slice(0,5);return l?t?$.jsx("div",{style:{padding:"16px",textAlign:"center",color:tt.text},children:"Loading calendar events..."}):n?$.jsxs("div",{style:{padding:"16px"},children:[$.jsx("div",{style:{color:"red",marginBottom:"12px",fontSize:"11px"},children:"⚠️ Calendar Setup Required"}),$.jsx("div",{style:{color:tt.text,fontSize:"10px",marginBottom:"12px",lineHeight:"1.4"},children:n}),n.includes("API is not enabled")&&$.jsxs("div",{style:{background:tt.textLight,border:`1px solid ${tt.borderDark}`,padding:"8px",fontSize:"10px",marginBottom:"12px",lineHeight:"1.3"},children:[$.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"Setup Steps:"}),$.jsx("div",{children:"1. Go to Google Cloud Console"}),$.jsx("div",{children:"2. Enable Google Calendar API"}),$.jsx("div",{children:"3. Create OAuth credentials"}),$.jsx("div",{children:"4. Add your domain to authorized origins"})]}),$.jsx(he,{onClick:c,style:{fontSize:"10px"},children:"🔄 Try Again"})]}):$.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",color:tt.text},children:[$.jsxs("div",{style:{padding:"8px",borderBottom:`1px solid ${tt.borderDark}`,background:tt.windowHeader,fontWeight:"bold",fontSize:"12px"},children:["📅 ",new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),$.jsxs("div",{style:{flex:1,overflow:"auto"},children:[p.length>0&&$.jsxs("div",{style:{padding:"8px"},children:[$.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px",fontSize:"11px",color:tt.text},children:"Today's Events:"}),p.map(T=>$.jsxs("div",{style:{border:`1px solid ${tt.borderDark}`,borderColor:`${tt.borderLight} ${tt.borderDark} ${tt.borderDark} ${tt.borderLight}`,padding:"6px",marginBottom:"4px",background:tt.textLight,fontSize:"11px"},children:[$.jsx("div",{style:{fontWeight:"bold",marginBottom:"2px"},children:T.summary}),$.jsx("div",{style:{color:"#666",fontSize:"10px"},children:d(g(T))}),T.location&&$.jsxs("div",{style:{color:"#555",fontSize:"10px",marginTop:"2px"},children:["📍 ",T.location]})]},T.id))]}),_.length>0&&$.jsxs("div",{style:{padding:"8px"},children:[$.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px",fontSize:"11px",color:tt.text},children:"Upcoming Events:"}),_.map(T=>$.jsxs("div",{style:{border:`1px solid ${tt.borderDark}`,borderColor:`${tt.borderDark} ${tt.borderLight} ${tt.borderLight} ${tt.borderDark}`,padding:"6px",marginBottom:"4px",background:tt.windowBg,fontSize:"11px"},children:[$.jsx("div",{style:{fontWeight:"bold",marginBottom:"2px"},children:T.summary}),$.jsx("div",{style:{color:"#666",fontSize:"10px"},children:d(g(T))}),T.location&&$.jsxs("div",{style:{color:"#555",fontSize:"10px",marginTop:"2px"},children:["📍 ",T.location]})]},T.id))]}),p.length===0&&_.length===0&&$.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666",fontSize:"11px"},children:"No upcoming events found"})]}),$.jsx("div",{style:{padding:"8px",borderTop:`1px solid ${tt.borderDark}`,textAlign:"center"},children:$.jsx(he,{onClick:r,style:{fontSize:"11px"},children:"🔄 Refresh"})})]}):$.jsxs("div",{style:{padding:"16px",textAlign:"center"},children:[$.jsx("div",{style:{marginBottom:"16px",color:tt.text},children:"Calendar access required to view your events"}),$.jsx(he,{onClick:c,children:"📅 Grant Calendar Access"})]})},nD=()=>{const s=async()=>{try{await hw(hm,U0)}catch(t){console.error("Authentication failed:",t)}};return $.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:tt.desktop},children:$.jsxs("div",{style:{background:tt.windowBg,padding:"40px",border:"2px solid",borderColor:`${tt.borderLight} ${tt.borderDark} ${tt.borderDark} ${tt.borderLight}`,textAlign:"center"},children:[$.jsx("h1",{style:{margin:"0 0 20px 0",color:tt.text,fontSize:"16px"},children:"Dashboard Login"}),$.jsx("p",{style:{margin:"0 0 30px 0",color:tt.text},children:"Please sign in to continue"}),$.jsx(he,{onClick:s,children:"Sign In with Google"})]})})},iD={search:k2,rss:j2,notes:$2,ai:Z2,bookmarks:J2,calendar:eD};function rD(){const[s,t]=Ct.useState(new Date().toLocaleTimeString()),[n,r]=Ct.useState(null),[l,c]=Ct.useState(!0),{windows:d,activeWindow:g,addWindow:p,removeWindow:_,updateWindowPosition:T,focusWindow:w,saveLayout:C,loadLayout:j,clearAll:X,setUserId:J}=dg();Ct.useEffect(()=>{const lt=Gb(hm,ct=>{r(ct),J(ct?.uid||null),c(!1),ct&&j()});return()=>lt()},[j,J]),Ct.useEffect(()=>{const lt=setInterval(()=>{t(new Date().toLocaleTimeString())},1e3);return()=>clearInterval(lt)},[]);const W=async()=>{await Fb(hm)};return l?$.jsx("div",{style:{background:tt.desktop,height:"100vh",color:"white",display:"flex",justifyContent:"center",alignItems:"center"},children:"Loading..."}):n?$.jsxs("div",{style:{minHeight:"100vh",background:tt.desktop,fontFamily:"'Jacquard 12', 'MS Sans Serif', monospace",position:"relative",overflow:"hidden"},children:[d.map(lt=>{const ct=iD[lt.type];return $.jsx("div",{onClick:()=>w(lt.id),children:$.jsx(V2,{id:lt.id,title:lt.title,position:lt.position,onPositionChange:T,onClose:()=>_(lt.id),zIndex:g===lt.id?1e3:100,children:$.jsx("div",{style:{width:lt.size.width,height:lt.size.height},children:$.jsx(ct,{})})})},lt.id)}),$.jsx(x2,{windows:d,activeWindow:g,onAddWindow:p,onFocusWindow:w,onSaveLayout:C,onClearAll:X,onLogout:W,currentTime:s})]}):$.jsx(nD,{})}EA.createRoot(document.getElementById("root")).render($.jsx(_l.StrictMode,{children:$.jsx(rD,{})}));
